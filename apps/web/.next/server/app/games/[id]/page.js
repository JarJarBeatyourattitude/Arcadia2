/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/games/[id]/page";
exports.ids = ["app/games/[id]/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?9d97\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'games',\n        {\n        children: [\n        '[id]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/games/[id]/page.tsx */ \"(rsc)/./app/games/[id]/page.tsx\")), \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/games/[id]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/games/[id]/page\",\n        pathname: \"/games/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZnYW1lcyUyRiU1QmlkJTVEJTJGcGFnZSZwYWdlPSUyRmdhbWVzJTJGJTVCaWQlNUQlMkZwYWdlJmFwcFBhdGhzPSUyRmdhbWVzJTJGJTVCaWQlNUQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGZ2FtZXMlMkYlNUJpZCU1RCUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRmphcmphcmJlYXR1JTJGRG9jdW1lbnRzJTJGQXJjYWRpYSUyRmFwcHMlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsOEpBQTBHO0FBQ2pJO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQWlHO0FBQzFILG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLz8yOTJkIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2dhbWVzJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW2lkXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXJqYXJiZWF0dS9Eb2N1bWVudHMvQXJjYWRpYS9hcHBzL3dlYi9hcHAvZ2FtZXMvW2lkXS9wYWdlLnRzeFwiKSwgXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvYXBwL2dhbWVzL1tpZF0vcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL2FwcC9sYXlvdXQudHN4XCIpLCBcIi9Vc2Vycy9qYXJqYXJiZWF0dS9Eb2N1bWVudHMvQXJjYWRpYS9hcHBzL3dlYi9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL2FwcC9nYW1lcy9baWRdL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvZ2FtZXMvW2lkXS9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL2dhbWVzL1tpZF0vcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvZ2FtZXMvW2lkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fgames%2F%5Bid%5D%2Fpage.tsx&server=true!":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fgames%2F%5Bid%5D%2Fpage.tsx&server=true! ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/games/[id]/page.tsx */ \"(ssr)/./app/games/[id]/page.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGYXBwJTJGZ2FtZXMlMkYlNUJpZCU1RCUyRnBhZ2UudHN4JnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWUtZmFjdG9yeS13ZWIvP2RiMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvYXBwL2dhbWVzL1tpZF0vcGFnZS50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fgames%2F%5Bid%5D%2Fpage.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fglobals.css&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fcomponents%2FPartySidebar.tsx&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fglobals.css&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fcomponents%2FPartySidebar.tsx&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/PartySidebar.tsx */ \"(ssr)/./components/PartySidebar.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGYXBwJTJGZ2xvYmFscy5jc3MmbW9kdWxlcz0lMkZVc2VycyUyRmphcmphcmJlYXR1JTJGRG9jdW1lbnRzJTJGQXJjYWRpYSUyRmFwcHMlMkZ3ZWIlMkZjb21wb25lbnRzJTJGUGFydHlTaWRlYmFyLnRzeCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLz8xZjBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL2NvbXBvbmVudHMvUGFydHlTaWRlYmFyLnRzeFwiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fglobals.css&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fcomponents%2FPartySidebar.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGYXBwLXJvdXRlci5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmVycm9yLWJvdW5kYXJ5LmpzJm1vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMmbW9kdWxlcz0lMkZVc2VycyUyRmphcmphcmJlYXR1JTJGRG9jdW1lbnRzJTJGQXJjYWRpYSUyRmFwcHMlMkZ3ZWIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXlJO0FBQ3pJLDBPQUE2STtBQUM3SSx3T0FBNEk7QUFDNUksa1BBQWlKO0FBQ2pKLHNRQUEySjtBQUMzSiIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWUtZmFjdG9yeS13ZWIvPzE5YTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qc1wiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/games/[id]/page.tsx":
/*!*********************************!*\
  !*** ./app/games/[id]/page.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst API = \"http://localhost:8000\" ?? 0;\nfunction GamePage({ params }) {\n    const [game, setGame] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [instruction, setInstruction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editing, setEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [versions, setVersions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showAllVersions, setShowAllVersions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedVersion, setSelectedVersion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [manualCode, setManualCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [previewErrors, setPreviewErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [comment, setComment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [comments, setComments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [votes, setVotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [me, setMe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [perfMode, setPerfMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const clientId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (true) return \"gf-client\";\n        const key = \"gf_client_id\";\n        let id = \"\";\n        try {\n            id = window.localStorage.getItem(key) || \"\";\n        } catch  {}\n        if (!id) {\n            id = Math.random().toString(36).slice(2) + Math.random().toString(36).slice(2);\n            try {\n                window.localStorage.setItem(key, id);\n            } catch  {}\n        }\n        return id;\n    }, []);\n    const isOwner = me && game && me.id === game.creator_id;\n    function withAIHelper(code) {\n        const wsUrl = API.replace(\"http://\", \"ws://\").replace(\"https://\", \"wss://\");\n        const clientName = me?.username || `Guest-${clientId.slice(0, 4)}`;\n        const helper = `\n<script>\n(() => {\n  const perf = ${perfMode ? \"true\" : \"false\"};\n  window.__GF_PERF_MODE = perf;\n  window.__GF_MP_HUD = true;\n  window.__GF_DEFAULT_ROOM = \"game-${game?.id ?? \"lobby\"}\";\n  window.__GF_CLIENT_ID = \"${clientId}\";\n  window.__GF_USERNAME = \"${clientName.replace(/\"/g, '\\\\\"')}\";\n  if (perf) {\n    const dpr = window.devicePixelRatio || 1;\n    try {\n      Object.defineProperty(window, 'devicePixelRatio', { get: () => Math.min(1, dpr), configurable: true });\n    } catch {}\n  }\n})();\nwindow.GameFactoryAI = async function(prompt, system, timeoutMs=8000){\n  const controller = new AbortController();\n  const timer = setTimeout(()=>controller.abort(), timeoutMs);\n  try{\n    const res = await fetch(\"${API}/ai\", {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({ prompt, system }),\n      signal: controller.signal\n    });\n    const data = await res.json();\n    return data.content || \"\";\n  } finally {\n    clearTimeout(timer);\n  }\n};\nwindow.GameFactoryMultiplayer = function(roomId, options){\n  if (roomId && typeof roomId === 'object') { options = roomId; roomId = options.roomId; }\n  options = options || {};\n  const room = roomId || window.__GF_DEFAULT_ROOM || \"lobby\";\n  const clientId = (options.clientId || window.__GF_CLIENT_ID || \"\").toString().slice(0, 48);\n  const name = (options.name || window.__GF_USERNAME || \"\").toString().slice(0, 24);\n  const maxPlayers = options.maxPlayers || window.__GF_MP_MAX || null;\n  const params = new URLSearchParams();\n  if (clientId) params.set(\"client_id\", clientId);\n  if (name) params.set(\"name\", name);\n  if (maxPlayers) params.set(\"max_players\", String(maxPlayers));\n  const ws = new WebSocket(\"${wsUrl}/ws/\" + encodeURIComponent(room) + (params.toString() ? \"?\" + params.toString() : \"\"));\n  const handlers = [];\n  const stateHandlers = [];\n  const statusHandlers = [];\n  const queue = [];\n  let hud;\n  function setStatus(s){\n    statusHandlers.forEach((fn)=>fn(s));\n    if (window.__GF_MP_HUD){\n      if (!hud){\n        hud = document.createElement('div');\n        hud.style.cssText = 'position:fixed;right:12px;bottom:12px;z-index:9999;background:rgba(0,0,0,0.6);color:#9ff;padding:6px 8px;border-radius:8px;font:12px system-ui';\n        document.body.appendChild(hud);\n      }\n      hud.textContent = 'MP: ' + s + ' (' + room + ')';\n    }\n  }\n  ws.onopen = ()=>{\n    setStatus('connected');\n    while (queue.length) ws.send(queue.shift());\n  };\n  ws.onclose = ()=>setStatus('disconnected');\n  ws.onerror = ()=>setStatus('error');\n  ws.onmessage = (evt) => {\n    let parsed = null;\n    try { parsed = JSON.parse(evt.data); } catch {}\n    if (parsed && parsed.type === 'room_state') {\n      if (maxPlayers && (parsed.players?.length || 0) >= maxPlayers && !parsed.players?.find((p)=>p.id===clientId)) {\n        setStatus('full');\n        try { ws.close(); } catch {}\n        return;\n      }\n      if (window.__GF_MP_HUD && hud) {\n        hud.textContent = 'MP: ' + 'connected' + ' (' + room + ') ' + (parsed.players?.length || 0) + ' players';\n      }\n    }\n    if (parsed && parsed.type === 'state') {\n      stateHandlers.forEach((fn)=>fn(parsed.state));\n    }\n    handlers.forEach((fn) => fn(evt.data, parsed));\n  };\n  return {\n    room,\n    clientId,\n    send: (data) => {\n      const normalize = (input) => {\n        if (typeof input !== \"string\") {\n          if (input && input.type === \"join\") {\n            input.id = clientId || input.id;\n            input.name = name || input.name;\n            if (!input.joinedAt) input.joinedAt = Date.now();\n          }\n          return JSON.stringify(input);\n        }\n        try {\n          const parsed = JSON.parse(input);\n          if (parsed && parsed.type === \"join\") {\n            parsed.id = clientId || parsed.id;\n            parsed.name = name || parsed.name;\n            if (!parsed.joinedAt) parsed.joinedAt = Date.now();\n            return JSON.stringify(parsed);\n          }\n        } catch {}\n        return input;\n      };\n      const payload = normalize(data);\n      if (ws.readyState === 1) ws.send(payload);\n      else queue.push(payload);\n    },\n    broadcastState: (state) => {\n      const payload = JSON.stringify({ type: 'state', state });\n      if (ws.readyState === 1) ws.send(payload);\n      else queue.push(payload);\n    },\n    onMessage: (fn) => handlers.push(fn),\n    onState: (fn) => stateHandlers.push(fn),\n    onStatus: (fn) => statusHandlers.push(fn),\n    disconnect: () => ws.close()\n  };\n};\nwindow.GameFactoryKit = (function(){\n  const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));\n  const lerp = (a,b,t)=>a+(b-a)*t;\n  const map = (v,inMin,inMax,outMin,outMax)=>outMin+(outMax-outMin)*((v-inMin)/(inMax-inMin));\n  const rand = (min=0,max=1)=>Math.random()*(max-min)+min;\n  const choice = (arr)=>arr[Math.floor(Math.random()*arr.length)];\n  const now = ()=>performance.now();\n  const easing = {\n    linear:t=>t,\n    inQuad:t=>t*t,\n    outQuad:t=>t*(2-t),\n    inOutQuad:t=>t<0.5?2*t*t:-1+(4-2*t)*t\n  };\n  const tween = (obj, prop, to, duration, ease=easing.inOutQuad) => {\n    const from = obj[prop];\n    const start = now();\n    return new Promise((resolve)=>{\n      function tick(){\n        const t = Math.min(1, (now()-start)/duration);\n        obj[prop] = from + (to-from)*ease(t);\n        if (t<1) requestAnimationFrame(tick); else resolve(true);\n      }\n      tick();\n    });\n  };\n  const storage = (function(){\n    const mem = {};\n    const getLS = () => { try { return window.localStorage; } catch { return null; } };\n    const save = (key,val) => {\n      const ls = getLS();\n      if (ls) { try { ls.setItem(key, JSON.stringify(val)); return; } catch {} }\n      mem[key] = val;\n    };\n    const load = (key, def=null) => {\n      const ls = getLS();\n      if (ls) { try { const v = ls.getItem(key); return v ? JSON.parse(v) : def; } catch { return def; } }\n      return Object.prototype.hasOwnProperty.call(mem, key) ? mem[key] : def;\n    };\n    const slotSave = (slot, val) => save(\"gf_slot_\"+slot, val);\n    const slotLoad = (slot, def=null) => load(\"gf_slot_\"+slot, def);\n    return { save, load, slotSave, slotLoad };\n  })();\n  const input = (function(){\n    const keys = {};\n    const mouse = {x:0,y:0,down:false};\n    window.addEventListener('keydown',e=>keys[e.key]=true);\n    window.addEventListener('keyup',e=>keys[e.key]=false);\n    window.addEventListener('mousemove',e=>{mouse.x=e.clientX; mouse.y=e.clientY;});\n    window.addEventListener('mousedown',()=>mouse.down=true);\n    window.addEventListener('mouseup',()=>mouse.down=false);\n    return { keys, mouse, isDown:(k)=>!!keys[k] };\n  })();\n  const audio = (function(){\n    let ctx;\n    const ensure=()=>ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());\n    const beep=(freq=440,dur=0.1,type='sine',vol=0.2)=>{\n      if (dur > 5) dur = dur / 1000;\n      const c=ensure();\n      const o=c.createOscillator(); const g=c.createGain();\n      o.type=type; o.frequency.value=freq;\n      const t=c.currentTime;\n      g.gain.setValueAtTime(0.0001, t);\n      g.gain.exponentialRampToValueAtTime(Math.max(0.0001, vol), t+0.01);\n      g.gain.exponentialRampToValueAtTime(0.0001, t+dur);\n      o.connect(g); g.connect(c.destination);\n      o.start(t); o.stop(t+dur+0.02);\n    };\n    return { beep };\n  })();\n  const physics2d = {\n    step:(obj,dt)=>{ obj.vx=(obj.vx||0)+(obj.ax||0)*dt; obj.vy=(obj.vy||0)+(obj.ay||0)*dt; obj.x+=obj.vx*dt; obj.y+=obj.vy*dt; },\n    aabb:(a,b)=>a.x<a.w+b.x&&a.x+a.w>b.x&&a.y<a.h+b.y&&a.y+a.h>b.y,\n    circle:(a,b)=>Math.hypot(a.x-b.x,a.y-b.y)<(a.r+b.r)\n  };\n  const cooldown = (function(){\n    const map = new Map();\n    const ready=(key,ms)=>{ const t=now(); if(!map.has(key)||t-map.get(key)>=ms){ map.set(key,t); return true;} return false; };\n    return { ready };\n  })();\n  const timers = (function(){\n    const list=[];\n    const after=(ms,fn)=>{ const t=now()+ms; list.push({t,fn}); };\n    const tick=()=>{ const t=now(); for(let i=list.length-1;i>=0;i--){ if(t>=list[i].t){ list[i].fn(); list.splice(i,1);} } };\n    return { after, tick };\n  })();\n  const particles = (function(){\n    const list=[];\n    const spawn=(x,y,count=20)=>{ for(let i=0;i<count;i++){ list.push({x,y,vx:rand(-1,1),vy:rand(-1,1),life:rand(0.4,1)});} };\n    const update=(dt)=>{ for(const p of list){ p.x+=p.vx*dt*60; p.y+=p.vy*dt*60; p.life-=dt; } };\n    const draw=(ctx)=>{ for(const p of list){ if(p.life<=0) continue; ctx.globalAlpha=Math.max(0,p.life); ctx.fillRect(p.x,p.y,2,2);} ctx.globalAlpha=1; };\n    const prune=()=>{ for(let i=list.length-1;i>=0;i--){ if(list[i].life<=0) list.splice(i,1);} };\n    return { spawn, update, draw, prune, list };\n  })();\n  const pseudo3d = {\n    project:(pt,cam)=>{ const z=pt.z-(cam.z||0); const scale=(cam.fov||400)/(z||1); return { x:(pt.x-(cam.x||0))*scale+(cam.cx||0), y:(pt.y-(cam.y||0))*scale+(cam.cy||0), scale }; }\n  };\n  const color = {\n    hexToRgb:(hex)=>{ const h=hex.replace('#',''); const bigint=parseInt(h,16); return {r:(bigint>>16)&255,g:(bigint>>8)&255,b:bigint&255}; },\n    rgbToHex:(r,g,b)=>'#'+[r,g,b].map(v=>v.toString(16).padStart(2,'0')).join(''),\n    lerp:(a,b,t)=>({ r:Math.round(a.r+(b.r-a.r)*t), g:Math.round(a.g+(b.g-a.g)*t), b:Math.round(a.b+(b.b-a.b)*t) })\n  };\n  const text = {\n    wrap:(ctx,text,maxWidthOrX,y,maybeW,maybeLineH)=>{\n      if (typeof maxWidthOrX === 'number' && typeof y === 'number' && typeof maybeW === 'number') {\n        const x = maxWidthOrX;\n        const maxW = maybeW;\n        const lineH = typeof maybeLineH === 'number' ? maybeLineH : 18;\n        const lines = textWrap(ctx, text, maxW);\n        lines.forEach((ln,i)=>ctx.fillText(ln,x,y+i*lineH));\n        return lines;\n      }\n      return textWrap(ctx, text, maxWidthOrX);\n    }\n  };\n  function textWrap(ctx, txt, maxWidth){\n    const words=String(txt||'').split(' '); let line=''; const lines=[];\n    for(const w of words){ const test=line+w+' '; if(ctx.measureText(test).width>maxWidth){ lines.push(line.trim()); line=w+' '; } else { line=test; } }\n    lines.push(line.trim()); return lines;\n  }\n  const rng = (function(){\n    let seed = 1234567;\n    const setSeed = (s)=>{ seed = s>>>0; };\n    const next = ()=>{ seed = (seed*1664525+1013904223)>>>0; return seed/4294967296; };\n    return { setSeed, next };\n  })();\n  const eventBus = (function(){\n    const map=new Map();\n    const on=(evt,fn)=>{ if(!map.has(evt)) map.set(evt,[]); map.get(evt).push(fn); };\n    const emit=(evt,data)=>{ (map.get(evt)||[]).forEach(fn=>fn(data)); };\n    return { on, emit };\n  })();\n  const fsm = (initial)=>{ let state=initial; const transitions=new Map(); const on=(from,to,fn)=>transitions.set(from+'>'+to,fn); const set=(to)=>{ const fn=transitions.get(state+'>'+to); state=to; if(fn) fn(); }; const get=()=>state; return { on, set, get }; };\n  const sprites = {\n    draw:(ctx,img,frame,fw,fh,x,y,scale=1)=>{ const sx=frame*fw; ctx.drawImage(img,sx,0,fw,fh,x,y,fw*scale,fh*scale); }\n  };\n  const pathfinding = {\n    aStar:(grid,start,end)=>{ const open=[start]; const came=new Map(); const g=new Map(); const f=new Map(); const key=(p)=>p.x+','+p.y; const h=(a,b)=>Math.abs(a.x-b.x)+Math.abs(a.y-b.y); g.set(key(start),0); f.set(key(start),h(start,end)); while(open.length){ open.sort((a,b)=>f.get(key(a))-f.get(key(b))); const current=open.shift(); if(current.x===end.x&&current.y===end.y){ const path=[current]; let k=key(current); while(came.has(k)){ const p=came.get(k); path.push(p); k=key(p); } return path.reverse(); } const dirs=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}]; for(const d of dirs){ const nx={x:current.x+d.x,y:current.y+d.y}; if(grid[nx.y]?.[nx.x]===1) continue; const tentative=(g.get(key(current))||0)+1; const nk=key(nx); if(tentative < (g.get(nk)??Infinity)){ came.set(nk,current); g.set(nk,tentative); f.set(nk,tentative+h(nx,end)); if(!open.find(p=>p.x===nx.x&&p.y===nx.y)) open.push(nx); } } } return []; }\n  };\n  const navmesh = {\n    build:(grid,diag=false)=>({ grid, diag }),\n    neighbors:(mesh,node)=>{ const dirs=mesh.diag?[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:-1}]:[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}]; return dirs.map(d=>({x:node.x+d.x,y:node.y+d.y})).filter(n=>mesh.grid[n.y]?.[n.x]!==1); },\n    lineOfSight:(mesh,a,b)=>{ let x0=a.x,y0=a.y,x1=b.x,y1=b.y; const dx=Math.abs(x1-x0), dy=Math.abs(y1-y0); let sx=x0<x1?1:-1, sy=y0<y1?1:-1; let err=dx-dy; while(true){ if(mesh.grid[y0]?.[x0]===1) return false; if(x0===x1 && y0===y1) break; const e2=2*err; if(e2>-dy){ err-=dy; x0+=sx; } if(e2<dx){ err+=dx; y0+=sy; } } return true; },\n    smooth:(path,mesh)=>{ if(path.length<=2) return path; const out=[path[0]]; let i=0; while(i<path.length-1){ let j=path.length-1; for(;j>i+1;j--){ if(navmesh.lineOfSight(mesh,path[i],path[j])) break; } out.push(path[j]); i=j; } return out; },\n    findPath:(mesh,start,end)=>{ const p=pathfinding.aStar(mesh.grid,start,end); return navmesh.smooth(p,mesh); }\n  };\n  const levelGrammar = {\n    expand:(rules,axiom,depth=3)=>{ let str=axiom; for(let i=0;i<depth;i++){ let out=\"\"; for(const ch of str){ const rule=rules[ch]; if(!rule){ out+=ch; continue; } if(Array.isArray(rule)){ const pick=rule[Math.floor(Math.random()*rule.length)]; out+=pick; } else if(typeof rule==='object'){ const entries=Object.entries(rule); const total=entries.reduce((s,[,w])=>s+Number(w||0),0); let r=Math.random()*total; for(const [sym,w] of entries){ r-=Number(w||0); if(r<=0){ out+=sym; break; } } } else { out+=String(rule); } } str=out; } return str; },\n    toGrid:(str,w,wall='#')=>{ const rows=[]; for(let i=0;i<str.length;i+=w){ rows.push(str.slice(i,i+w).split(\"\").map(c=>c===wall?1:0)); } return rows; },\n    interpret:(str,handlers)=>{ const state={ x:0,y:0,dir:0,stack:[] }; for(const ch of str){ if(handlers[ch]) handlers[ch](state); } return state; }\n  };\n  const audioSeq = (function(){\n    let ctx;\n    const ensure=()=>ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());\n    const noteToFreq=(n)=>{ const A4=440; const map={'C':-9,'C#':-8,'D':-7,'D#':-6,'E':-5,'F':-4,'F#':-3,'G':-2,'G#':-1,'A':0,'A#':1,'B':2}; const m=n.match(/([A-G]#?)(\\d)/); if(!m) return 440; const sem=map[m[1]]+(Number(m[2])-4)*12; return A4*Math.pow(2,sem/12); };\n    const play=(pattern,bpm=120)=>{ const c=ensure(); const beat=60/bpm; let t=c.currentTime; for(const note of pattern){ const o=c.createOscillator(); const g=c.createGain(); o.type=note.type||'sine'; o.frequency.value=note.freq|| (note.note?noteToFreq(note.note):440); g.gain.value=note.vol||0.15; o.connect(g); g.connect(c.destination); o.start(t); o.stop(t+(note.dur||0.2)); t+=beat*(note.beats||1); } };\n    const track=(steps,bpm=120)=>{ const c=ensure(); const beat=60/bpm; const start=c.currentTime; steps.forEach((s,i)=>{ if(!s) return; const o=c.createOscillator(); const g=c.createGain(); o.type=s.type||'square'; o.frequency.value=s.freq|| (s.note?noteToFreq(s.note):440); g.gain.value=s.vol||0.1; o.connect(g); g.connect(c.destination); o.start(start+i*beat); o.stop(start+i*beat+(s.dur||0.2)); }); };\n    return { play, track, noteToFreq };\n  })();\n  const ui = {\n    button:(text, x, y, w, h, onClick)=>({ type:'button', text, x,y,w,h,onClick,hover:false }),\n    slider:(label,x,y,w,min,max,value,onChange)=>({ type:'slider', label,x,y,w,h:24,min,max,value,onChange }),\n    checkbox:(label,x,y,value,onChange)=>({ type:'checkbox', label,x,y,w:18,h:18,value,onChange }),\n    draw:(ctx, widgets)=>{ widgets.forEach(w=>{ if(w.type==='button'){ ctx.fillStyle=w.hover?'rgba(255,255,255,0.2)':'rgba(0,0,0,0.5)'; ctx.fillRect(w.x,w.y,w.w,w.h); ctx.fillStyle='#fff'; ctx.fillText(w.text,w.x+8,w.y+w.h/2+4); } if(w.type==='slider'){ ctx.fillStyle='rgba(0,0,0,0.5)'; ctx.fillRect(w.x,w.y,w.w,w.h); const t=(w.value-w.min)/(w.max-w.min); ctx.fillStyle='#7df9ff'; ctx.fillRect(w.x, w.y, w.w*t, w.h); ctx.fillStyle='#fff'; ctx.fillText(w.label+': '+w.value.toFixed(1), w.x+4, w.y-4); } if(w.type==='checkbox'){ ctx.strokeStyle='#fff'; ctx.strokeRect(w.x,w.y,w.w,w.h); if(w.value){ ctx.fillStyle='#7df9ff'; ctx.fillRect(w.x+3,w.y+3,w.w-6,w.h-6); } ctx.fillStyle='#fff'; ctx.fillText(w.label, w.x+w.w+6, w.y+w.h-2); } }); },\n    hit:(w, mx, my)=>mx>=w.x&&mx<=w.x+w.w&&my>=w.y&&my<=w.y+w.h,\n    handleClick:(widgets,mx,my)=>{ widgets.forEach(w=>{ if(ui.hit(w,mx,my)){ if(w.type==='button' && w.onClick) w.onClick(); if(w.type==='checkbox' && w.onChange){ w.value=!w.value; w.onChange(w.value); } } }); },\n    handleDrag:(widgets,mx,my)=>{ widgets.forEach(w=>{ if(w.type==='slider' && ui.hit(w,mx,my)){ const t=Math.max(0,Math.min(1,(mx-w.x)/w.w)); w.value=w.min + (w.max-w.min)*t; if(w.onChange) w.onChange(w.value); } }); }\n  };\n  const ecs = (function(){\n    let nextId=1;\n    const entities=new Set();\n    const components=new Map();\n    const systems=[];\n    const create=()=>{ const id=nextId++; entities.add(id); return id; };\n    const add=(id,name,data)=>{ if(!components.has(name)) components.set(name,new Map()); components.get(name).set(id,data); return data; };\n    const get=(id,name)=>components.get(name)?.get(id);\n    const has=(id,name)=>components.get(name)?.has(id);\n    const remove=(id)=>{ entities.delete(id); for(const map of components.values()){ map.delete(id);} };\n    const query=(names)=>{ const sets=names.map(n=>components.get(n)||new Map()); return [...entities].filter(id=>names.every(n=>sets[names.indexOf(n)].has(id))); };\n    const system=(names,fn)=>{ systems.push({names,fn}); };\n    const update=(dt)=>{ for(const s of systems){ const ids=query(s.names); for(const id of ids){ const comps=s.names.map(n=>get(id,n)); s.fn(id, ...comps, dt); } } };\n    return { create, add, get, has, remove, query, system, update, components, entities };\n  })();\n  const terrain = {\n    perlin2:(x,y)=>{ const s=Math.sin(x*12.9898+y*78.233)*43758.5453; return s-Math.floor(s); },\n    heightMap:(w,h,scale=0.1)=>{ const map=[]; for(let y=0;y<h;y++){ const row=[]; for(let x=0;x<w;x++){ row.push(terrain.perlin2(x*scale,y*scale)); } map.push(row);} return map; }\n  };\n  const camera = {\n    shake:(state,strength=6,decay=0.9)=>{ state.shake= {strength,decay,x:0,y:0}; },\n    applyShake:(state,ctx)=>{ if(!state.shake) return; state.shake.x = rand(-state.shake.strength,state.shake.strength); state.shake.y = rand(-state.shake.strength,state.shake.strength); ctx.translate(state.shake.x,state.shake.y); state.shake.strength*=state.shake.decay; if(state.shake.strength<0.3) state.shake=null; }\n  };\n  const webgl = {\n    create:(canvas)=>canvas.getContext('webgl')||canvas.getContext('experimental-webgl')\n  };\n  const gamepad = (function(){\n    const state={ axes:[], buttons:[] };\n    const poll=()=>{ const gp=navigator.getGamepads?.()[0]; if(!gp) return state; state.axes=gp.axes; state.buttons=gp.buttons.map(b=>b.pressed); return state; };\n    return { poll, state };\n  })();\n  const assets = {\n    image:(src)=>new Promise((res,rej)=>{ const img=new Image(); img.onload=()=>res(img); img.onerror=rej; img.src=src; }),\n    audio:(src)=>new Promise((res,rej)=>{ const a=new Audio(); a.oncanplaythrough=()=>res(a); a.onerror=rej; a.src=src; })\n  };\n  const grid = {\n    make:(w,h,fill=0)=>Array.from({length:h},()=>Array.from({length:w},()=>fill)),\n    inBounds:(g,x,y)=>y>=0&&y<g.length&&x>=0&&x<g[0].length\n  };\n  const camera2d = {\n    worldToScreen:(cam,x,y)=>({ x: x-cam.x, y: y-cam.y }),\n    screenToWorld:(cam,x,y)=>({ x: x+cam.x, y: y+cam.y })\n  };\n  const metrics = (function(){\n    let last=now(), fps=0;\n    const tick=()=>{ const t=now(); fps=1000/(t-last); last=t; return fps; };\n    return { tick, get:()=>fps };\n  })();\n  const logger = (function(){\n    const logs=[]; const push=(msg)=>{ logs.unshift({ msg, t:now() }); if(logs.length>20) logs.pop(); };\n    return { logs, push };\n  })();\n  const dialogue = (function(){\n    const lines=[]; const say=(text)=>lines.push(text); const next=()=>lines.shift();\n    return { say, next, lines };\n  })();\n  const timeline = (function(){\n    const steps=[]; const add=(at,fn)=>steps.push({at,fn,done:false}); const run=(t)=>{ for(const s of steps){ if(!s.done && t>=s.at){ s.done=true; s.fn(); } } };\n    return { add, run };\n  })();\n  return { clamp, lerp, map, rand, choice, now, easing, tween, storage, input, audio, physics2d, cooldown, timers, particles, pseudo3d, color, text, rng, eventBus, fsm, sprites, pathfinding, navmesh, levelGrammar, audioSeq, ui, ecs, terrain, camera, webgl, gamepad, assets, grid, camera2d, metrics, logger, dialogue, timeline };\n})();\n// Compatibility shims for models that don't namespace helpers\n(function(){\n  const K = window.GameFactoryKit;\n  if (!K) return;\n  window.clamp = window.clamp || K.clamp;\n  window.lerp = window.lerp || K.lerp;\n  window.map = window.map || K.map;\n  window.rand = window.rand || K.rand;\n  window.rng = window.rng || K.rng;\n  window.choice = window.choice || K.choice;\n  window.now = window.now || K.now;\n  window.audio = window.audio || K.audio;\n  window.input = window.input || K.input;\n  window.storage = window.storage || K.storage;\n  window.text = window.text || K.text;\n  window.timers = window.timers || K.timers;\n  window.circle = window.circle || ((a,b)=>K.physics2d.circle(a,b));\n  window.pseudo3d = window.pseudo3d || K.pseudo3d;\n  const camState = { shake: null };\n  window.camera = window.camera || {\n    shake: (strength=6, decay=0.9) => K.camera.shake(camState, strength, decay),\n    applyShake: (ctx) => K.camera.applyShake(camState, ctx)\n  };\n  window.particles = window.particles || {\n    spawn: (a,b,c) => {\n      if (typeof a === \"object\") {\n        const o = a || {};\n        K.particles.spawn(o.x || 0, o.y || 0, o.count || 20);\n      } else {\n        K.particles.spawn(a || 0, b || 0, c || 20);\n      }\n    },\n    update: (dt) => {\n      const v = dt > 10 ? dt / 1000 : dt;\n      K.particles.update(v);\n      K.particles.prune();\n    },\n    draw: (ctx) => K.particles.draw(ctx),\n    prune: () => K.particles.prune()\n  };\n  window.onerror = function(message, source, lineno, colno) {\n    parent.postMessage({ type: \"game_error\", message: String(message) + \" @ \" + lineno + \":\" + colno }, \"*\");\n  };\n  window.onunhandledrejection = function(event) {\n    parent.postMessage({ type: \"game_error\", message: String(event?.reason || \"Unhandled rejection\") }, \"*\");\n  };\n})();\n</script>\n`;\n        if (code.includes(\"window.GameFactoryKit\") || code.includes(\"GameFactoryAI = async function\")) return code;\n        if (code.includes(\"</head>\")) return code.replace(\"</head>\", `${helper}</head>`);\n        return helper + code;\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function load() {\n            try {\n                const res = await fetch(`${API}/games/${params.id}`, {\n                    credentials: \"include\"\n                });\n                if (!res.ok) throw new Error(await res.text());\n                const data = await res.json();\n                setGame(data);\n                setManualCode(data.code);\n                fetch(`${API}/games/${params.id}/play`, {\n                    method: \"POST\"\n                }).catch(()=>{});\n                const meRes = await fetch(`${API}/auth/me`, {\n                    credentials: \"include\"\n                });\n                if (meRes.ok) {\n                    const meData = await meRes.json();\n                    setMe(meData);\n                }\n                const voteRes = await fetch(`${API}/games/${params.id}/votes`);\n                if (voteRes.ok) {\n                    const vdata = await voteRes.json();\n                    setVotes(vdata.count || 0);\n                }\n                const commentRes = await fetch(`${API}/games/${params.id}/comments`);\n                if (commentRes.ok) {\n                    const cdata = await commentRes.json();\n                    setComments(cdata);\n                }\n                const ver = await fetch(`${API}/games/${params.id}/versions`);\n                if (ver.ok) {\n                    const vdata = await ver.json();\n                    setVersions(vdata);\n                }\n            } catch (err) {\n                setError(err.message || \"Failed to load game\");\n            }\n        }\n        load();\n    }, [\n        params.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (game) setManualCode(game.code);\n    }, [\n        game?.code,\n        game?.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onMessage(event) {\n            const data = event.data;\n            if (data && data.type === \"game_error\") {\n                setPreviewErrors((prev)=>[\n                        data.message,\n                        ...prev\n                    ].slice(0, 5));\n            }\n        }\n        window.addEventListener(\"message\", onMessage);\n        return ()=>window.removeEventListener(\"message\", onMessage);\n    }, []);\n    const groupedVersions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        function hash(str) {\n            let h = 0;\n            for(let i = 0; i < str.length; i++){\n                h = h * 31 + str.charCodeAt(i) | 0;\n            }\n            return h.toString(16);\n        }\n        const seen = new Map();\n        const ordered = [];\n        for (const v of versions){\n            const key = hash(v.code || \"\");\n            if (seen.has(key)) {\n                seen.get(key).count += 1;\n            } else {\n                const entry = {\n                    v,\n                    count: 1\n                };\n                seen.set(key, entry);\n                ordered.push(entry);\n            }\n        }\n        return ordered;\n    }, [\n        versions\n    ]);\n    async function openFullscreen() {\n        if (!previewRef.current) return;\n        if (document.fullscreenElement) {\n            await document.exitFullscreen();\n            return;\n        }\n        await previewRef.current.requestFullscreen();\n    }\n    function focusPreview() {\n        iframeRef.current?.contentWindow?.focus();\n    }\n    async function submitEdit() {\n        if (!instruction.trim() || !game) return;\n        setEditing(true);\n        setError(null);\n        try {\n            const res = await fetch(`${API}/games/${game.id}/edit`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    instruction\n                })\n            });\n            if (!res.ok) throw new Error(await res.text());\n            const data = await res.json();\n            setGame(data);\n            setInstruction(\"\");\n            const ver = await fetch(`${API}/games/${params.id}/versions`);\n            if (ver.ok) {\n                const vdata = await ver.json();\n                setVersions(vdata);\n            }\n        } catch (err) {\n            setError(err.message || \"Edit failed\");\n        } finally{\n            setEditing(false);\n        }\n    }\n    async function rollback(versionId) {\n        if (!game) return;\n        setEditing(true);\n        setError(null);\n        try {\n            const res = await fetch(`${API}/games/${game.id}/rollback/${versionId}`, {\n                method: \"POST\"\n            });\n            if (!res.ok) throw new Error(await res.text());\n            const data = await res.json();\n            setGame(data);\n            const ver = await fetch(`${API}/games/${params.id}/versions`);\n            if (ver.ok) {\n                const vdata = await ver.json();\n                setVersions(vdata);\n            }\n        } catch (err) {\n            setError(err.message || \"Rollback failed\");\n        } finally{\n            setEditing(false);\n        }\n    }\n    async function saveManual() {\n        if (!game) return;\n        setEditing(true);\n        setError(null);\n        try {\n            const res = await fetch(`${API}/games/${game.id}`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    code: manualCode\n                })\n            });\n            if (!res.ok) throw new Error(await res.text());\n            const data = await res.json();\n            setGame(data);\n            const ver = await fetch(`${API}/games/${params.id}/versions`);\n            if (ver.ok) {\n                const vdata = await ver.json();\n                setVersions(vdata);\n            }\n        } catch (err) {\n            setError(err.message || \"Manual save failed\");\n        } finally{\n            setEditing(false);\n        }\n    }\n    async function submitComment() {\n        if (!comment.trim() || !game) return;\n        const res = await fetch(`${API}/games/${game.id}/comments`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: \"include\",\n            body: JSON.stringify({\n                content: comment\n            })\n        });\n        if (res.ok) {\n            const c = await res.json();\n            setComments((prev)=>[\n                    c,\n                    ...prev\n                ]);\n            setComment(\"\");\n        }\n    }\n    async function toggleVote() {\n        if (!game) return;\n        const res = await fetch(`${API}/games/${game.id}/vote`, {\n            method: \"POST\",\n            credentials: \"include\"\n        });\n        if (res.ok) {\n            const v = await fetch(`${API}/games/${game.id}/votes`);\n            if (v.ok) {\n                const vdata = await v.json();\n                setVotes(vdata.count || 0);\n            }\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                href: \"/\",\n                className: \"badge\",\n                children: \"Back\"\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 657,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                style: {\n                    color: \"#ff9b9b\"\n                },\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 658,\n                columnNumber: 17\n            }, this),\n            !game && !error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 659,\n                columnNumber: 27\n            }, this),\n            game && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"grid\",\n                    gap: 16\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: game.title\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 662,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#98a0b5\"\n                        },\n                        children: game.description\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 663,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"preview-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Play\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 665,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: ()=>setPerfMode((v)=>!v),\n                                        children: perfMode ? \"Perf Mode: On\" : \"Perf Mode: Off\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 667,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: openFullscreen,\n                                        children: \"Fullscreen\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 670,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 666,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 664,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"preview\",\n                        ref: previewRef,\n                        onClick: focusPreview,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                            ref: iframeRef,\n                            srcDoc: withAIHelper(game.code),\n                            sandbox: \"allow-scripts\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                            lineNumber: 674,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 673,\n                        columnNumber: 11\n                    }, this),\n                    previewErrors.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Preview Errors\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 678,\n                                columnNumber: 15\n                            }, this),\n                            previewErrors.map((e, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"card-meta\",\n                                    style: {\n                                        color: \"#ff9b9b\"\n                                    },\n                                    children: e\n                                }, i, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 680,\n                                    columnNumber: 17\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 677,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Prompt\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 685,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: game.prompt\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 686,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 684,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Share\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 689,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: \"Public link\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 690,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                children:  false ? 0 : `/play/${game.id}`\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 691,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 688,\n                        columnNumber: 11\n                    }, this),\n                    isOwner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Edit With AI\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 695,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: \"Describe the change you want.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 696,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: instruction,\n                                onChange: (e)=>setInstruction(e.target.value),\n                                placeholder: \"Add a timer, new obstacles, change art style...\",\n                                style: {\n                                    minHeight: 120\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 697,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: submitEdit,\n                                    disabled: editing,\n                                    children: editing ? \"Editing...\" : \"Apply Edit\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 704,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 703,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 694,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Community\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 711,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: toggleVote,\n                                        children: \"Upvote\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 713,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: [\n                                            \"Votes: \",\n                                            votes\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 714,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 712,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: comment,\n                                onChange: (e)=>setComment(e.target.value),\n                                placeholder: \"Write a comment...\",\n                                style: {\n                                    minHeight: 120\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 716,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: submitComment,\n                                    children: \"Post Comment\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 723,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 722,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginTop: 10,\n                                    display: \"grid\",\n                                    gap: 6\n                                },\n                                children: [\n                                    comments.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"No comments yet.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 726,\n                                        columnNumber: 41\n                                    }, this),\n                                    comments.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-meta\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                    children: [\n                                                        c.username || \"User\",\n                                                        \":\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                    lineNumber: 729,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \" \",\n                                                c.content,\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        marginLeft: 8,\n                                                        color: \"#98a0b5\"\n                                                    },\n                                                    children: c.created_at ? new Date(c.created_at).toLocaleString() : \"\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                    lineNumber: 730,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                            lineNumber: 728,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 725,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 710,\n                        columnNumber: 11\n                    }, this),\n                    isOwner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Manual Code Edit\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 740,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Edit HTML directly and save.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 741,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        value: manualCode,\n                                        onChange: (e)=>setManualCode(e.target.value),\n                                        style: {\n                                            minHeight: 220\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 742,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"button-row\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: saveManual,\n                                            disabled: editing,\n                                            children: editing ? \"Saving...\" : \"Save Code\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                            lineNumber: 748,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 747,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 739,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Version History\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 754,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Rollback to a previous version.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 755,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"grid\",\n                                            gap: 8\n                                        },\n                                        children: [\n                                            versions.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"No versions yet.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 757,\n                                                columnNumber: 45\n                                            }, this),\n                                            (showAllVersions ? groupedVersions : groupedVersions.slice(0, 6)).map((entry)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: 8,\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"secondary\",\n                                                            onClick: ()=>rollback(entry.v.id),\n                                                            disabled: editing,\n                                                            style: {\n                                                                flex: 1\n                                                            },\n                                                            children: [\n                                                                new Date(entry.v.created_at).toLocaleString(),\n                                                                \"  \",\n                                                                entry.v.title,\n                                                                \" [\",\n                                                                entry.v.action || \"edit\",\n                                                                \"]\",\n                                                                entry.count > 1 ? ` (x${entry.count})` : \"\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                            lineNumber: 760,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"secondary\",\n                                                            onClick: ()=>setSelectedVersion(entry.v),\n                                                            disabled: editing,\n                                                            children: \"Compare\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                            lineNumber: 769,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, entry.v.id, true, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                    lineNumber: 759,\n                                                    columnNumber: 21\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 756,\n                                        columnNumber: 17\n                                    }, this),\n                                    groupedVersions.length > 6 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        style: {\n                                            marginTop: 8\n                                        },\n                                        onClick: ()=>setShowAllVersions((s)=>!s),\n                                        children: showAllVersions ? \"Show Less\" : \"Show All\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 780,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 753,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true),\n                    selectedVersion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Compare Versions\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 793,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: [\n                                    \"Selected: \",\n                                    new Date(selectedVersion.created_at).toLocaleString(),\n                                    \"  \",\n                                    selectedVersion.title\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 794,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"grid\",\n                                    gridTemplateColumns: \"1fr 1fr\",\n                                    gap: 12\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"Current\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 799,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                readOnly: true,\n                                                value: game.code,\n                                                style: {\n                                                    minHeight: 220\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 800,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 798,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"Selected\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 803,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                readOnly: true,\n                                                value: selectedVersion.code,\n                                                style: {\n                                                    minHeight: 220\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 804,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 802,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 797,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                style: {\n                                    marginTop: 8\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"secondary\",\n                                    onClick: ()=>setSelectedVersion(null),\n                                    children: \"Close Compare\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 808,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 807,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 792,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 661,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n        lineNumber: 656,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUwQixXQUFXO2dDQUFFOzBDQUNoRCw0RUFBQ2xCO29DQUFPWCxXQUFVO29DQUFZWSxTQUFTLElBQU1sSCxtQkFBbUI7OENBQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVXZGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FtZS1mYWN0b3J5LXdlYi8uL2FwcC9nYW1lcy9baWRdL3BhZ2UudHN4PzVkNzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuXG5jb25zdCBBUEkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMID8/IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCI7XG5cbnR5cGUgR2FtZSA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGNvZGU6IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICBsaWtlcz86IG51bWJlcjtcbiAgcGxheV9jb3VudD86IG51bWJlcjtcbiAgbXVsdGlwbGF5ZXI/OiBib29sZWFuO1xuICBtYXhfcGxheWVycz86IG51bWJlciB8IG51bGw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lUGFnZSh7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfSkge1xuICBjb25zdCBbZ2FtZSwgc2V0R2FtZV0gPSB1c2VTdGF0ZTxHYW1lIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHByZXZpZXdSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaWZyYW1lUmVmID0gdXNlUmVmPEhUTUxJRnJhbWVFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbnN0cnVjdGlvbiwgc2V0SW5zdHJ1Y3Rpb25dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlZGl0aW5nLCBzZXRFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZlcnNpb25zLCBzZXRWZXJzaW9uc10gPSB1c2VTdGF0ZTxHYW1lW10+KFtdKTtcbiAgY29uc3QgW3Nob3dBbGxWZXJzaW9ucywgc2V0U2hvd0FsbFZlcnNpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkVmVyc2lvbiwgc2V0U2VsZWN0ZWRWZXJzaW9uXSA9IHVzZVN0YXRlPGFueSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWFudWFsQ29kZSwgc2V0TWFudWFsQ29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3ByZXZpZXdFcnJvcnMsIHNldFByZXZpZXdFcnJvcnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2NvbW1lbnQsIHNldENvbW1lbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb21tZW50cywgc2V0Q29tbWVudHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3ZvdGVzLCBzZXRWb3Rlc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW21lLCBzZXRNZV0gPSB1c2VTdGF0ZTxhbnkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BlcmZNb2RlLCBzZXRQZXJmTW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgY2xpZW50SWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIFwiZ2YtY2xpZW50XCI7XG4gICAgY29uc3Qga2V5ID0gXCJnZl9jbGllbnRfaWRcIjtcbiAgICBsZXQgaWQgPSBcIlwiO1xuICAgIHRyeSB7XG4gICAgICBpZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8IFwiXCI7XG4gICAgfSBjYXRjaCB7fVxuICAgIGlmICghaWQpIHtcbiAgICAgIGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGlkKTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9XG4gICAgcmV0dXJuIGlkO1xuICB9LCBbXSk7XG4gIGNvbnN0IGlzT3duZXIgPSBtZSAmJiBnYW1lICYmIG1lLmlkID09PSBnYW1lLmNyZWF0b3JfaWQ7XG5cbiAgZnVuY3Rpb24gd2l0aEFJSGVscGVyKGNvZGU6IHN0cmluZykge1xuICAgIGNvbnN0IHdzVXJsID0gQVBJLnJlcGxhY2UoXCJodHRwOi8vXCIsIFwid3M6Ly9cIikucmVwbGFjZShcImh0dHBzOi8vXCIsIFwid3NzOi8vXCIpO1xuICAgIGNvbnN0IGNsaWVudE5hbWUgPSBtZT8udXNlcm5hbWUgfHwgYEd1ZXN0LSR7Y2xpZW50SWQuc2xpY2UoMCwgNCl9YDtcbiAgICBjb25zdCBoZWxwZXIgPSBgXG48c2NyaXB0PlxuKCgpID0+IHtcbiAgY29uc3QgcGVyZiA9ICR7cGVyZk1vZGUgPyBcInRydWVcIiA6IFwiZmFsc2VcIn07XG4gIHdpbmRvdy5fX0dGX1BFUkZfTU9ERSA9IHBlcmY7XG4gIHdpbmRvdy5fX0dGX01QX0hVRCA9IHRydWU7XG4gIHdpbmRvdy5fX0dGX0RFRkFVTFRfUk9PTSA9IFwiZ2FtZS0ke2dhbWU/LmlkID8/IFwibG9iYnlcIn1cIjtcbiAgd2luZG93Ll9fR0ZfQ0xJRU5UX0lEID0gXCIke2NsaWVudElkfVwiO1xuICB3aW5kb3cuX19HRl9VU0VSTkFNRSA9IFwiJHtjbGllbnROYW1lLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKX1cIjtcbiAgaWYgKHBlcmYpIHtcbiAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZGV2aWNlUGl4ZWxSYXRpbycsIHsgZ2V0OiAoKSA9PiBNYXRoLm1pbigxLCBkcHIpLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgfSBjYXRjaCB7fVxuICB9XG59KSgpO1xud2luZG93LkdhbWVGYWN0b3J5QUkgPSBhc3luYyBmdW5jdGlvbihwcm9tcHQsIHN5c3RlbSwgdGltZW91dE1zPTgwMDApe1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCk9PmNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dE1zKTtcbiAgdHJ5e1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiJHtBUEl9L2FpXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9tcHQsIHN5c3RlbSB9KSxcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YS5jb250ZW50IHx8IFwiXCI7XG4gIH0gZmluYWxseSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgfVxufTtcbndpbmRvdy5HYW1lRmFjdG9yeU11bHRpcGxheWVyID0gZnVuY3Rpb24ocm9vbUlkLCBvcHRpb25zKXtcbiAgaWYgKHJvb21JZCAmJiB0eXBlb2Ygcm9vbUlkID09PSAnb2JqZWN0JykgeyBvcHRpb25zID0gcm9vbUlkOyByb29tSWQgPSBvcHRpb25zLnJvb21JZDsgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm9vbSA9IHJvb21JZCB8fCB3aW5kb3cuX19HRl9ERUZBVUxUX1JPT00gfHwgXCJsb2JieVwiO1xuICBjb25zdCBjbGllbnRJZCA9IChvcHRpb25zLmNsaWVudElkIHx8IHdpbmRvdy5fX0dGX0NMSUVOVF9JRCB8fCBcIlwiKS50b1N0cmluZygpLnNsaWNlKDAsIDQ4KTtcbiAgY29uc3QgbmFtZSA9IChvcHRpb25zLm5hbWUgfHwgd2luZG93Ll9fR0ZfVVNFUk5BTUUgfHwgXCJcIikudG9TdHJpbmcoKS5zbGljZSgwLCAyNCk7XG4gIGNvbnN0IG1heFBsYXllcnMgPSBvcHRpb25zLm1heFBsYXllcnMgfHwgd2luZG93Ll9fR0ZfTVBfTUFYIHx8IG51bGw7XG4gIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgaWYgKGNsaWVudElkKSBwYXJhbXMuc2V0KFwiY2xpZW50X2lkXCIsIGNsaWVudElkKTtcbiAgaWYgKG5hbWUpIHBhcmFtcy5zZXQoXCJuYW1lXCIsIG5hbWUpO1xuICBpZiAobWF4UGxheWVycykgcGFyYW1zLnNldChcIm1heF9wbGF5ZXJzXCIsIFN0cmluZyhtYXhQbGF5ZXJzKSk7XG4gIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldChcIiR7d3NVcmx9L3dzL1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KHJvb20pICsgKHBhcmFtcy50b1N0cmluZygpID8gXCI/XCIgKyBwYXJhbXMudG9TdHJpbmcoKSA6IFwiXCIpKTtcbiAgY29uc3QgaGFuZGxlcnMgPSBbXTtcbiAgY29uc3Qgc3RhdGVIYW5kbGVycyA9IFtdO1xuICBjb25zdCBzdGF0dXNIYW5kbGVycyA9IFtdO1xuICBjb25zdCBxdWV1ZSA9IFtdO1xuICBsZXQgaHVkO1xuICBmdW5jdGlvbiBzZXRTdGF0dXMocyl7XG4gICAgc3RhdHVzSGFuZGxlcnMuZm9yRWFjaCgoZm4pPT5mbihzKSk7XG4gICAgaWYgKHdpbmRvdy5fX0dGX01QX0hVRCl7XG4gICAgICBpZiAoIWh1ZCl7XG4gICAgICAgIGh1ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBodWQuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjpmaXhlZDtyaWdodDoxMnB4O2JvdHRvbToxMnB4O3otaW5kZXg6OTk5OTtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC42KTtjb2xvcjojOWZmO3BhZGRpbmc6NnB4IDhweDtib3JkZXItcmFkaXVzOjhweDtmb250OjEycHggc3lzdGVtLXVpJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChodWQpO1xuICAgICAgfVxuICAgICAgaHVkLnRleHRDb250ZW50ID0gJ01QOiAnICsgcyArICcgKCcgKyByb29tICsgJyknO1xuICAgIH1cbiAgfVxuICB3cy5vbm9wZW4gPSAoKT0+e1xuICAgIHNldFN0YXR1cygnY29ubmVjdGVkJyk7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkgd3Muc2VuZChxdWV1ZS5zaGlmdCgpKTtcbiAgfTtcbiAgd3Mub25jbG9zZSA9ICgpPT5zZXRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICB3cy5vbmVycm9yID0gKCk9PnNldFN0YXR1cygnZXJyb3InKTtcbiAgd3Mub25tZXNzYWdlID0gKGV2dCkgPT4ge1xuICAgIGxldCBwYXJzZWQgPSBudWxsO1xuICAgIHRyeSB7IHBhcnNlZCA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpOyB9IGNhdGNoIHt9XG4gICAgaWYgKHBhcnNlZCAmJiBwYXJzZWQudHlwZSA9PT0gJ3Jvb21fc3RhdGUnKSB7XG4gICAgICBpZiAobWF4UGxheWVycyAmJiAocGFyc2VkLnBsYXllcnM/Lmxlbmd0aCB8fCAwKSA+PSBtYXhQbGF5ZXJzICYmICFwYXJzZWQucGxheWVycz8uZmluZCgocCk9PnAuaWQ9PT1jbGllbnRJZCkpIHtcbiAgICAgICAgc2V0U3RhdHVzKCdmdWxsJyk7XG4gICAgICAgIHRyeSB7IHdzLmNsb3NlKCk7IH0gY2F0Y2gge31cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHdpbmRvdy5fX0dGX01QX0hVRCAmJiBodWQpIHtcbiAgICAgICAgaHVkLnRleHRDb250ZW50ID0gJ01QOiAnICsgJ2Nvbm5lY3RlZCcgKyAnICgnICsgcm9vbSArICcpICcgKyAocGFyc2VkLnBsYXllcnM/Lmxlbmd0aCB8fCAwKSArICcgcGxheWVycyc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJzZWQgJiYgcGFyc2VkLnR5cGUgPT09ICdzdGF0ZScpIHtcbiAgICAgIHN0YXRlSGFuZGxlcnMuZm9yRWFjaCgoZm4pPT5mbihwYXJzZWQuc3RhdGUpKTtcbiAgICB9XG4gICAgaGFuZGxlcnMuZm9yRWFjaCgoZm4pID0+IGZuKGV2dC5kYXRhLCBwYXJzZWQpKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICByb29tLFxuICAgIGNsaWVudElkLFxuICAgIHNlbmQ6IChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemUgPSAoaW5wdXQpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC50eXBlID09PSBcImpvaW5cIikge1xuICAgICAgICAgICAgaW5wdXQuaWQgPSBjbGllbnRJZCB8fCBpbnB1dC5pZDtcbiAgICAgICAgICAgIGlucHV0Lm5hbWUgPSBuYW1lIHx8IGlucHV0Lm5hbWU7XG4gICAgICAgICAgICBpZiAoIWlucHV0LmpvaW5lZEF0KSBpbnB1dC5qb2luZWRBdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICAgICAgICBpZiAocGFyc2VkICYmIHBhcnNlZC50eXBlID09PSBcImpvaW5cIikge1xuICAgICAgICAgICAgcGFyc2VkLmlkID0gY2xpZW50SWQgfHwgcGFyc2VkLmlkO1xuICAgICAgICAgICAgcGFyc2VkLm5hbWUgPSBuYW1lIHx8IHBhcnNlZC5uYW1lO1xuICAgICAgICAgICAgaWYgKCFwYXJzZWQuam9pbmVkQXQpIHBhcnNlZC5qb2luZWRBdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGFyc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBub3JtYWxpemUoZGF0YSk7XG4gICAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gMSkgd3Muc2VuZChwYXlsb2FkKTtcbiAgICAgIGVsc2UgcXVldWUucHVzaChwYXlsb2FkKTtcbiAgICB9LFxuICAgIGJyb2FkY2FzdFN0YXRlOiAoc3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdzdGF0ZScsIHN0YXRlIH0pO1xuICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IDEpIHdzLnNlbmQocGF5bG9hZCk7XG4gICAgICBlbHNlIHF1ZXVlLnB1c2gocGF5bG9hZCk7XG4gICAgfSxcbiAgICBvbk1lc3NhZ2U6IChmbikgPT4gaGFuZGxlcnMucHVzaChmbiksXG4gICAgb25TdGF0ZTogKGZuKSA9PiBzdGF0ZUhhbmRsZXJzLnB1c2goZm4pLFxuICAgIG9uU3RhdHVzOiAoZm4pID0+IHN0YXR1c0hhbmRsZXJzLnB1c2goZm4pLFxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHdzLmNsb3NlKClcbiAgfTtcbn07XG53aW5kb3cuR2FtZUZhY3RvcnlLaXQgPSAoZnVuY3Rpb24oKXtcbiAgY29uc3QgY2xhbXAgPSAodixtaW4sbWF4KT0+TWF0aC5tYXgobWluLE1hdGgubWluKG1heCx2KSk7XG4gIGNvbnN0IGxlcnAgPSAoYSxiLHQpPT5hKyhiLWEpKnQ7XG4gIGNvbnN0IG1hcCA9ICh2LGluTWluLGluTWF4LG91dE1pbixvdXRNYXgpPT5vdXRNaW4rKG91dE1heC1vdXRNaW4pKigodi1pbk1pbikvKGluTWF4LWluTWluKSk7XG4gIGNvbnN0IHJhbmQgPSAobWluPTAsbWF4PTEpPT5NYXRoLnJhbmRvbSgpKihtYXgtbWluKSttaW47XG4gIGNvbnN0IGNob2ljZSA9IChhcnIpPT5hcnJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmFyci5sZW5ndGgpXTtcbiAgY29uc3Qgbm93ID0gKCk9PnBlcmZvcm1hbmNlLm5vdygpO1xuICBjb25zdCBlYXNpbmcgPSB7XG4gICAgbGluZWFyOnQ9PnQsXG4gICAgaW5RdWFkOnQ9PnQqdCxcbiAgICBvdXRRdWFkOnQ9PnQqKDItdCksXG4gICAgaW5PdXRRdWFkOnQ9PnQ8MC41PzIqdCp0Oi0xKyg0LTIqdCkqdFxuICB9O1xuICBjb25zdCB0d2VlbiA9IChvYmosIHByb3AsIHRvLCBkdXJhdGlvbiwgZWFzZT1lYXNpbmcuaW5PdXRRdWFkKSA9PiB7XG4gICAgY29uc3QgZnJvbSA9IG9ialtwcm9wXTtcbiAgICBjb25zdCBzdGFydCA9IG5vdygpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcbiAgICAgIGZ1bmN0aW9uIHRpY2soKXtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIChub3coKS1zdGFydCkvZHVyYXRpb24pO1xuICAgICAgICBvYmpbcHJvcF0gPSBmcm9tICsgKHRvLWZyb20pKmVhc2UodCk7XG4gICAgICAgIGlmICh0PDEpIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsgZWxzZSByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuICAgICAgdGljaygpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBzdG9yYWdlID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgbWVtID0ge307XG4gICAgY29uc3QgZ2V0TFMgPSAoKSA9PiB7IHRyeSB7IHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlOyB9IGNhdGNoIHsgcmV0dXJuIG51bGw7IH0gfTtcbiAgICBjb25zdCBzYXZlID0gKGtleSx2YWwpID0+IHtcbiAgICAgIGNvbnN0IGxzID0gZ2V0TFMoKTtcbiAgICAgIGlmIChscykgeyB0cnkgeyBscy5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsKSk7IHJldHVybjsgfSBjYXRjaCB7fSB9XG4gICAgICBtZW1ba2V5XSA9IHZhbDtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWQgPSAoa2V5LCBkZWY9bnVsbCkgPT4ge1xuICAgICAgY29uc3QgbHMgPSBnZXRMUygpO1xuICAgICAgaWYgKGxzKSB7IHRyeSB7IGNvbnN0IHYgPSBscy5nZXRJdGVtKGtleSk7IHJldHVybiB2ID8gSlNPTi5wYXJzZSh2KSA6IGRlZjsgfSBjYXRjaCB7IHJldHVybiBkZWY7IH0gfVxuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZW0sIGtleSkgPyBtZW1ba2V5XSA6IGRlZjtcbiAgICB9O1xuICAgIGNvbnN0IHNsb3RTYXZlID0gKHNsb3QsIHZhbCkgPT4gc2F2ZShcImdmX3Nsb3RfXCIrc2xvdCwgdmFsKTtcbiAgICBjb25zdCBzbG90TG9hZCA9IChzbG90LCBkZWY9bnVsbCkgPT4gbG9hZChcImdmX3Nsb3RfXCIrc2xvdCwgZGVmKTtcbiAgICByZXR1cm4geyBzYXZlLCBsb2FkLCBzbG90U2F2ZSwgc2xvdExvYWQgfTtcbiAgfSkoKTtcbiAgY29uc3QgaW5wdXQgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBrZXlzID0ge307XG4gICAgY29uc3QgbW91c2UgPSB7eDowLHk6MCxkb3duOmZhbHNlfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsZT0+a2V5c1tlLmtleV09dHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxlPT5rZXlzW2Uua2V5XT1mYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZT0+e21vdXNlLng9ZS5jbGllbnRYOyBtb3VzZS55PWUuY2xpZW50WTt9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywoKT0+bW91c2UuZG93bj10cnVlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsKCk9Pm1vdXNlLmRvd249ZmFsc2UpO1xuICAgIHJldHVybiB7IGtleXMsIG1vdXNlLCBpc0Rvd246KGspPT4hIWtleXNba10gfTtcbiAgfSkoKTtcbiAgY29uc3QgYXVkaW8gPSAoZnVuY3Rpb24oKXtcbiAgICBsZXQgY3R4O1xuICAgIGNvbnN0IGVuc3VyZT0oKT0+Y3R4fHwoY3R4PW5ldyAod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKSk7XG4gICAgY29uc3QgYmVlcD0oZnJlcT00NDAsZHVyPTAuMSx0eXBlPSdzaW5lJyx2b2w9MC4yKT0+e1xuICAgICAgaWYgKGR1ciA+IDUpIGR1ciA9IGR1ciAvIDEwMDA7XG4gICAgICBjb25zdCBjPWVuc3VyZSgpO1xuICAgICAgY29uc3Qgbz1jLmNyZWF0ZU9zY2lsbGF0b3IoKTsgY29uc3QgZz1jLmNyZWF0ZUdhaW4oKTtcbiAgICAgIG8udHlwZT10eXBlOyBvLmZyZXF1ZW5jeS52YWx1ZT1mcmVxO1xuICAgICAgY29uc3QgdD1jLmN1cnJlbnRUaW1lO1xuICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDAwMSwgdCk7XG4gICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShNYXRoLm1heCgwLjAwMDEsIHZvbCksIHQrMC4wMSk7XG4gICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAwMDEsIHQrZHVyKTtcbiAgICAgIG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGMuZGVzdGluYXRpb24pO1xuICAgICAgby5zdGFydCh0KTsgby5zdG9wKHQrZHVyKzAuMDIpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYmVlcCB9O1xuICB9KSgpO1xuICBjb25zdCBwaHlzaWNzMmQgPSB7XG4gICAgc3RlcDoob2JqLGR0KT0+eyBvYmoudng9KG9iai52eHx8MCkrKG9iai5heHx8MCkqZHQ7IG9iai52eT0ob2JqLnZ5fHwwKSsob2JqLmF5fHwwKSpkdDsgb2JqLngrPW9iai52eCpkdDsgb2JqLnkrPW9iai52eSpkdDsgfSxcbiAgICBhYWJiOihhLGIpPT5hLng8YS53K2IueCYmYS54K2Eudz5iLngmJmEueTxhLmgrYi55JiZhLnkrYS5oPmIueSxcbiAgICBjaXJjbGU6KGEsYik9Pk1hdGguaHlwb3QoYS54LWIueCxhLnktYi55KTwoYS5yK2IucilcbiAgfTtcbiAgY29uc3QgY29vbGRvd24gPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcmVhZHk9KGtleSxtcyk9PnsgY29uc3QgdD1ub3coKTsgaWYoIW1hcC5oYXMoa2V5KXx8dC1tYXAuZ2V0KGtleSk+PW1zKXsgbWFwLnNldChrZXksdCk7IHJldHVybiB0cnVlO30gcmV0dXJuIGZhbHNlOyB9O1xuICAgIHJldHVybiB7IHJlYWR5IH07XG4gIH0pKCk7XG4gIGNvbnN0IHRpbWVycyA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IGxpc3Q9W107XG4gICAgY29uc3QgYWZ0ZXI9KG1zLGZuKT0+eyBjb25zdCB0PW5vdygpK21zOyBsaXN0LnB1c2goe3QsZm59KTsgfTtcbiAgICBjb25zdCB0aWNrPSgpPT57IGNvbnN0IHQ9bm93KCk7IGZvcihsZXQgaT1saXN0Lmxlbmd0aC0xO2k+PTA7aS0tKXsgaWYodD49bGlzdFtpXS50KXsgbGlzdFtpXS5mbigpOyBsaXN0LnNwbGljZShpLDEpO30gfSB9O1xuICAgIHJldHVybiB7IGFmdGVyLCB0aWNrIH07XG4gIH0pKCk7XG4gIGNvbnN0IHBhcnRpY2xlcyA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IGxpc3Q9W107XG4gICAgY29uc3Qgc3Bhd249KHgseSxjb3VudD0yMCk9PnsgZm9yKGxldCBpPTA7aTxjb3VudDtpKyspeyBsaXN0LnB1c2goe3gseSx2eDpyYW5kKC0xLDEpLHZ5OnJhbmQoLTEsMSksbGlmZTpyYW5kKDAuNCwxKX0pO30gfTtcbiAgICBjb25zdCB1cGRhdGU9KGR0KT0+eyBmb3IoY29uc3QgcCBvZiBsaXN0KXsgcC54Kz1wLnZ4KmR0KjYwOyBwLnkrPXAudnkqZHQqNjA7IHAubGlmZS09ZHQ7IH0gfTtcbiAgICBjb25zdCBkcmF3PShjdHgpPT57IGZvcihjb25zdCBwIG9mIGxpc3QpeyBpZihwLmxpZmU8PTApIGNvbnRpbnVlOyBjdHguZ2xvYmFsQWxwaGE9TWF0aC5tYXgoMCxwLmxpZmUpOyBjdHguZmlsbFJlY3QocC54LHAueSwyLDIpO30gY3R4Lmdsb2JhbEFscGhhPTE7IH07XG4gICAgY29uc3QgcHJ1bmU9KCk9PnsgZm9yKGxldCBpPWxpc3QubGVuZ3RoLTE7aT49MDtpLS0peyBpZihsaXN0W2ldLmxpZmU8PTApIGxpc3Quc3BsaWNlKGksMSk7fSB9O1xuICAgIHJldHVybiB7IHNwYXduLCB1cGRhdGUsIGRyYXcsIHBydW5lLCBsaXN0IH07XG4gIH0pKCk7XG4gIGNvbnN0IHBzZXVkbzNkID0ge1xuICAgIHByb2plY3Q6KHB0LGNhbSk9PnsgY29uc3Qgej1wdC56LShjYW0uenx8MCk7IGNvbnN0IHNjYWxlPShjYW0uZm92fHw0MDApLyh6fHwxKTsgcmV0dXJuIHsgeDoocHQueC0oY2FtLnh8fDApKSpzY2FsZSsoY2FtLmN4fHwwKSwgeToocHQueS0oY2FtLnl8fDApKSpzY2FsZSsoY2FtLmN5fHwwKSwgc2NhbGUgfTsgfVxuICB9O1xuICBjb25zdCBjb2xvciA9IHtcbiAgICBoZXhUb1JnYjooaGV4KT0+eyBjb25zdCBoPWhleC5yZXBsYWNlKCcjJywnJyk7IGNvbnN0IGJpZ2ludD1wYXJzZUludChoLDE2KTsgcmV0dXJuIHtyOihiaWdpbnQ+PjE2KSYyNTUsZzooYmlnaW50Pj44KSYyNTUsYjpiaWdpbnQmMjU1fTsgfSxcbiAgICByZ2JUb0hleDoocixnLGIpPT4nIycrW3IsZyxiXS5tYXAodj0+di50b1N0cmluZygxNikucGFkU3RhcnQoMiwnMCcpKS5qb2luKCcnKSxcbiAgICBsZXJwOihhLGIsdCk9Pih7IHI6TWF0aC5yb3VuZChhLnIrKGIuci1hLnIpKnQpLCBnOk1hdGgucm91bmQoYS5nKyhiLmctYS5nKSp0KSwgYjpNYXRoLnJvdW5kKGEuYisoYi5iLWEuYikqdCkgfSlcbiAgfTtcbiAgY29uc3QgdGV4dCA9IHtcbiAgICB3cmFwOihjdHgsdGV4dCxtYXhXaWR0aE9yWCx5LG1heWJlVyxtYXliZUxpbmVIKT0+e1xuICAgICAgaWYgKHR5cGVvZiBtYXhXaWR0aE9yWCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHkgPT09ICdudW1iZXInICYmIHR5cGVvZiBtYXliZVcgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbnN0IHggPSBtYXhXaWR0aE9yWDtcbiAgICAgICAgY29uc3QgbWF4VyA9IG1heWJlVztcbiAgICAgICAgY29uc3QgbGluZUggPSB0eXBlb2YgbWF5YmVMaW5lSCA9PT0gJ251bWJlcicgPyBtYXliZUxpbmVIIDogMTg7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dFdyYXAoY3R4LCB0ZXh0LCBtYXhXKTtcbiAgICAgICAgbGluZXMuZm9yRWFjaCgobG4saSk9PmN0eC5maWxsVGV4dChsbix4LHkraSpsaW5lSCkpO1xuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGV4dFdyYXAoY3R4LCB0ZXh0LCBtYXhXaWR0aE9yWCk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiB0ZXh0V3JhcChjdHgsIHR4dCwgbWF4V2lkdGgpe1xuICAgIGNvbnN0IHdvcmRzPVN0cmluZyh0eHR8fCcnKS5zcGxpdCgnICcpOyBsZXQgbGluZT0nJzsgY29uc3QgbGluZXM9W107XG4gICAgZm9yKGNvbnN0IHcgb2Ygd29yZHMpeyBjb25zdCB0ZXN0PWxpbmUrdysnICc7IGlmKGN0eC5tZWFzdXJlVGV4dCh0ZXN0KS53aWR0aD5tYXhXaWR0aCl7IGxpbmVzLnB1c2gobGluZS50cmltKCkpOyBsaW5lPXcrJyAnOyB9IGVsc2UgeyBsaW5lPXRlc3Q7IH0gfVxuICAgIGxpbmVzLnB1c2gobGluZS50cmltKCkpOyByZXR1cm4gbGluZXM7XG4gIH1cbiAgY29uc3Qgcm5nID0gKGZ1bmN0aW9uKCl7XG4gICAgbGV0IHNlZWQgPSAxMjM0NTY3O1xuICAgIGNvbnN0IHNldFNlZWQgPSAocyk9Pnsgc2VlZCA9IHM+Pj4wOyB9O1xuICAgIGNvbnN0IG5leHQgPSAoKT0+eyBzZWVkID0gKHNlZWQqMTY2NDUyNSsxMDEzOTA0MjIzKT4+PjA7IHJldHVybiBzZWVkLzQyOTQ5NjcyOTY7IH07XG4gICAgcmV0dXJuIHsgc2V0U2VlZCwgbmV4dCB9O1xuICB9KSgpO1xuICBjb25zdCBldmVudEJ1cyA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IG1hcD1uZXcgTWFwKCk7XG4gICAgY29uc3Qgb249KGV2dCxmbik9PnsgaWYoIW1hcC5oYXMoZXZ0KSkgbWFwLnNldChldnQsW10pOyBtYXAuZ2V0KGV2dCkucHVzaChmbik7IH07XG4gICAgY29uc3QgZW1pdD0oZXZ0LGRhdGEpPT57IChtYXAuZ2V0KGV2dCl8fFtdKS5mb3JFYWNoKGZuPT5mbihkYXRhKSk7IH07XG4gICAgcmV0dXJuIHsgb24sIGVtaXQgfTtcbiAgfSkoKTtcbiAgY29uc3QgZnNtID0gKGluaXRpYWwpPT57IGxldCBzdGF0ZT1pbml0aWFsOyBjb25zdCB0cmFuc2l0aW9ucz1uZXcgTWFwKCk7IGNvbnN0IG9uPShmcm9tLHRvLGZuKT0+dHJhbnNpdGlvbnMuc2V0KGZyb20rJz4nK3RvLGZuKTsgY29uc3Qgc2V0PSh0byk9PnsgY29uc3QgZm49dHJhbnNpdGlvbnMuZ2V0KHN0YXRlKyc+Jyt0byk7IHN0YXRlPXRvOyBpZihmbikgZm4oKTsgfTsgY29uc3QgZ2V0PSgpPT5zdGF0ZTsgcmV0dXJuIHsgb24sIHNldCwgZ2V0IH07IH07XG4gIGNvbnN0IHNwcml0ZXMgPSB7XG4gICAgZHJhdzooY3R4LGltZyxmcmFtZSxmdyxmaCx4LHksc2NhbGU9MSk9PnsgY29uc3Qgc3g9ZnJhbWUqZnc7IGN0eC5kcmF3SW1hZ2UoaW1nLHN4LDAsZncsZmgseCx5LGZ3KnNjYWxlLGZoKnNjYWxlKTsgfVxuICB9O1xuICBjb25zdCBwYXRoZmluZGluZyA9IHtcbiAgICBhU3RhcjooZ3JpZCxzdGFydCxlbmQpPT57IGNvbnN0IG9wZW49W3N0YXJ0XTsgY29uc3QgY2FtZT1uZXcgTWFwKCk7IGNvbnN0IGc9bmV3IE1hcCgpOyBjb25zdCBmPW5ldyBNYXAoKTsgY29uc3Qga2V5PShwKT0+cC54KycsJytwLnk7IGNvbnN0IGg9KGEsYik9Pk1hdGguYWJzKGEueC1iLngpK01hdGguYWJzKGEueS1iLnkpOyBnLnNldChrZXkoc3RhcnQpLDApOyBmLnNldChrZXkoc3RhcnQpLGgoc3RhcnQsZW5kKSk7IHdoaWxlKG9wZW4ubGVuZ3RoKXsgb3Blbi5zb3J0KChhLGIpPT5mLmdldChrZXkoYSkpLWYuZ2V0KGtleShiKSkpOyBjb25zdCBjdXJyZW50PW9wZW4uc2hpZnQoKTsgaWYoY3VycmVudC54PT09ZW5kLngmJmN1cnJlbnQueT09PWVuZC55KXsgY29uc3QgcGF0aD1bY3VycmVudF07IGxldCBrPWtleShjdXJyZW50KTsgd2hpbGUoY2FtZS5oYXMoaykpeyBjb25zdCBwPWNhbWUuZ2V0KGspOyBwYXRoLnB1c2gocCk7IGs9a2V5KHApOyB9IHJldHVybiBwYXRoLnJldmVyc2UoKTsgfSBjb25zdCBkaXJzPVt7eDoxLHk6MH0se3g6LTEseTowfSx7eDowLHk6MX0se3g6MCx5Oi0xfV07IGZvcihjb25zdCBkIG9mIGRpcnMpeyBjb25zdCBueD17eDpjdXJyZW50LngrZC54LHk6Y3VycmVudC55K2QueX07IGlmKGdyaWRbbngueV0/LltueC54XT09PTEpIGNvbnRpbnVlOyBjb25zdCB0ZW50YXRpdmU9KGcuZ2V0KGtleShjdXJyZW50KSl8fDApKzE7IGNvbnN0IG5rPWtleShueCk7IGlmKHRlbnRhdGl2ZSA8IChnLmdldChuayk/P0luZmluaXR5KSl7IGNhbWUuc2V0KG5rLGN1cnJlbnQpOyBnLnNldChuayx0ZW50YXRpdmUpOyBmLnNldChuayx0ZW50YXRpdmUraChueCxlbmQpKTsgaWYoIW9wZW4uZmluZChwPT5wLng9PT1ueC54JiZwLnk9PT1ueC55KSkgb3Blbi5wdXNoKG54KTsgfSB9IH0gcmV0dXJuIFtdOyB9XG4gIH07XG4gIGNvbnN0IG5hdm1lc2ggPSB7XG4gICAgYnVpbGQ6KGdyaWQsZGlhZz1mYWxzZSk9Pih7IGdyaWQsIGRpYWcgfSksXG4gICAgbmVpZ2hib3JzOihtZXNoLG5vZGUpPT57IGNvbnN0IGRpcnM9bWVzaC5kaWFnP1t7eDoxLHk6MH0se3g6LTEseTowfSx7eDowLHk6MX0se3g6MCx5Oi0xfSx7eDoxLHk6MX0se3g6LTEseToxfSx7eDoxLHk6LTF9LHt4Oi0xLHk6LTF9XTpbe3g6MSx5OjB9LHt4Oi0xLHk6MH0se3g6MCx5OjF9LHt4OjAseTotMX1dOyByZXR1cm4gZGlycy5tYXAoZD0+KHt4Om5vZGUueCtkLngseTpub2RlLnkrZC55fSkpLmZpbHRlcihuPT5tZXNoLmdyaWRbbi55XT8uW24ueF0hPT0xKTsgfSxcbiAgICBsaW5lT2ZTaWdodDoobWVzaCxhLGIpPT57IGxldCB4MD1hLngseTA9YS55LHgxPWIueCx5MT1iLnk7IGNvbnN0IGR4PU1hdGguYWJzKHgxLXgwKSwgZHk9TWF0aC5hYnMoeTEteTApOyBsZXQgc3g9eDA8eDE/MTotMSwgc3k9eTA8eTE/MTotMTsgbGV0IGVycj1keC1keTsgd2hpbGUodHJ1ZSl7IGlmKG1lc2guZ3JpZFt5MF0/Llt4MF09PT0xKSByZXR1cm4gZmFsc2U7IGlmKHgwPT09eDEgJiYgeTA9PT15MSkgYnJlYWs7IGNvbnN0IGUyPTIqZXJyOyBpZihlMj4tZHkpeyBlcnItPWR5OyB4MCs9c3g7IH0gaWYoZTI8ZHgpeyBlcnIrPWR4OyB5MCs9c3k7IH0gfSByZXR1cm4gdHJ1ZTsgfSxcbiAgICBzbW9vdGg6KHBhdGgsbWVzaCk9PnsgaWYocGF0aC5sZW5ndGg8PTIpIHJldHVybiBwYXRoOyBjb25zdCBvdXQ9W3BhdGhbMF1dOyBsZXQgaT0wOyB3aGlsZShpPHBhdGgubGVuZ3RoLTEpeyBsZXQgaj1wYXRoLmxlbmd0aC0xOyBmb3IoO2o+aSsxO2otLSl7IGlmKG5hdm1lc2gubGluZU9mU2lnaHQobWVzaCxwYXRoW2ldLHBhdGhbal0pKSBicmVhazsgfSBvdXQucHVzaChwYXRoW2pdKTsgaT1qOyB9IHJldHVybiBvdXQ7IH0sXG4gICAgZmluZFBhdGg6KG1lc2gsc3RhcnQsZW5kKT0+eyBjb25zdCBwPXBhdGhmaW5kaW5nLmFTdGFyKG1lc2guZ3JpZCxzdGFydCxlbmQpOyByZXR1cm4gbmF2bWVzaC5zbW9vdGgocCxtZXNoKTsgfVxuICB9O1xuICBjb25zdCBsZXZlbEdyYW1tYXIgPSB7XG4gICAgZXhwYW5kOihydWxlcyxheGlvbSxkZXB0aD0zKT0+eyBsZXQgc3RyPWF4aW9tOyBmb3IobGV0IGk9MDtpPGRlcHRoO2krKyl7IGxldCBvdXQ9XCJcIjsgZm9yKGNvbnN0IGNoIG9mIHN0cil7IGNvbnN0IHJ1bGU9cnVsZXNbY2hdOyBpZighcnVsZSl7IG91dCs9Y2g7IGNvbnRpbnVlOyB9IGlmKEFycmF5LmlzQXJyYXkocnVsZSkpeyBjb25zdCBwaWNrPXJ1bGVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnJ1bGUubGVuZ3RoKV07IG91dCs9cGljazsgfSBlbHNlIGlmKHR5cGVvZiBydWxlPT09J29iamVjdCcpeyBjb25zdCBlbnRyaWVzPU9iamVjdC5lbnRyaWVzKHJ1bGUpOyBjb25zdCB0b3RhbD1lbnRyaWVzLnJlZHVjZSgocyxbLHddKT0+cytOdW1iZXIod3x8MCksMCk7IGxldCByPU1hdGgucmFuZG9tKCkqdG90YWw7IGZvcihjb25zdCBbc3ltLHddIG9mIGVudHJpZXMpeyByLT1OdW1iZXIod3x8MCk7IGlmKHI8PTApeyBvdXQrPXN5bTsgYnJlYWs7IH0gfSB9IGVsc2UgeyBvdXQrPVN0cmluZyhydWxlKTsgfSB9IHN0cj1vdXQ7IH0gcmV0dXJuIHN0cjsgfSxcbiAgICB0b0dyaWQ6KHN0cix3LHdhbGw9JyMnKT0+eyBjb25zdCByb3dzPVtdOyBmb3IobGV0IGk9MDtpPHN0ci5sZW5ndGg7aSs9dyl7IHJvd3MucHVzaChzdHIuc2xpY2UoaSxpK3cpLnNwbGl0KFwiXCIpLm1hcChjPT5jPT09d2FsbD8xOjApKTsgfSByZXR1cm4gcm93czsgfSxcbiAgICBpbnRlcnByZXQ6KHN0cixoYW5kbGVycyk9PnsgY29uc3Qgc3RhdGU9eyB4OjAseTowLGRpcjowLHN0YWNrOltdIH07IGZvcihjb25zdCBjaCBvZiBzdHIpeyBpZihoYW5kbGVyc1tjaF0pIGhhbmRsZXJzW2NoXShzdGF0ZSk7IH0gcmV0dXJuIHN0YXRlOyB9XG4gIH07XG4gIGNvbnN0IGF1ZGlvU2VxID0gKGZ1bmN0aW9uKCl7XG4gICAgbGV0IGN0eDtcbiAgICBjb25zdCBlbnN1cmU9KCk9PmN0eHx8KGN0eD1uZXcgKHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCkpO1xuICAgIGNvbnN0IG5vdGVUb0ZyZXE9KG4pPT57IGNvbnN0IEE0PTQ0MDsgY29uc3QgbWFwPXsnQyc6LTksJ0MjJzotOCwnRCc6LTcsJ0QjJzotNiwnRSc6LTUsJ0YnOi00LCdGIyc6LTMsJ0cnOi0yLCdHIyc6LTEsJ0EnOjAsJ0EjJzoxLCdCJzoyfTsgY29uc3QgbT1uLm1hdGNoKC8oW0EtR10jPykoXFxkKS8pOyBpZighbSkgcmV0dXJuIDQ0MDsgY29uc3Qgc2VtPW1hcFttWzFdXSsoTnVtYmVyKG1bMl0pLTQpKjEyOyByZXR1cm4gQTQqTWF0aC5wb3coMixzZW0vMTIpOyB9O1xuICAgIGNvbnN0IHBsYXk9KHBhdHRlcm4sYnBtPTEyMCk9PnsgY29uc3QgYz1lbnN1cmUoKTsgY29uc3QgYmVhdD02MC9icG07IGxldCB0PWMuY3VycmVudFRpbWU7IGZvcihjb25zdCBub3RlIG9mIHBhdHRlcm4peyBjb25zdCBvPWMuY3JlYXRlT3NjaWxsYXRvcigpOyBjb25zdCBnPWMuY3JlYXRlR2FpbigpOyBvLnR5cGU9bm90ZS50eXBlfHwnc2luZSc7IG8uZnJlcXVlbmN5LnZhbHVlPW5vdGUuZnJlcXx8IChub3RlLm5vdGU/bm90ZVRvRnJlcShub3RlLm5vdGUpOjQ0MCk7IGcuZ2Fpbi52YWx1ZT1ub3RlLnZvbHx8MC4xNTsgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYy5kZXN0aW5hdGlvbik7IG8uc3RhcnQodCk7IG8uc3RvcCh0Kyhub3RlLmR1cnx8MC4yKSk7IHQrPWJlYXQqKG5vdGUuYmVhdHN8fDEpOyB9IH07XG4gICAgY29uc3QgdHJhY2s9KHN0ZXBzLGJwbT0xMjApPT57IGNvbnN0IGM9ZW5zdXJlKCk7IGNvbnN0IGJlYXQ9NjAvYnBtOyBjb25zdCBzdGFydD1jLmN1cnJlbnRUaW1lOyBzdGVwcy5mb3JFYWNoKChzLGkpPT57IGlmKCFzKSByZXR1cm47IGNvbnN0IG89Yy5jcmVhdGVPc2NpbGxhdG9yKCk7IGNvbnN0IGc9Yy5jcmVhdGVHYWluKCk7IG8udHlwZT1zLnR5cGV8fCdzcXVhcmUnOyBvLmZyZXF1ZW5jeS52YWx1ZT1zLmZyZXF8fCAocy5ub3RlP25vdGVUb0ZyZXEocy5ub3RlKTo0NDApOyBnLmdhaW4udmFsdWU9cy52b2x8fDAuMTsgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYy5kZXN0aW5hdGlvbik7IG8uc3RhcnQoc3RhcnQraSpiZWF0KTsgby5zdG9wKHN0YXJ0K2kqYmVhdCsocy5kdXJ8fDAuMikpOyB9KTsgfTtcbiAgICByZXR1cm4geyBwbGF5LCB0cmFjaywgbm90ZVRvRnJlcSB9O1xuICB9KSgpO1xuICBjb25zdCB1aSA9IHtcbiAgICBidXR0b246KHRleHQsIHgsIHksIHcsIGgsIG9uQ2xpY2spPT4oeyB0eXBlOididXR0b24nLCB0ZXh0LCB4LHksdyxoLG9uQ2xpY2ssaG92ZXI6ZmFsc2UgfSksXG4gICAgc2xpZGVyOihsYWJlbCx4LHksdyxtaW4sbWF4LHZhbHVlLG9uQ2hhbmdlKT0+KHsgdHlwZTonc2xpZGVyJywgbGFiZWwseCx5LHcsaDoyNCxtaW4sbWF4LHZhbHVlLG9uQ2hhbmdlIH0pLFxuICAgIGNoZWNrYm94OihsYWJlbCx4LHksdmFsdWUsb25DaGFuZ2UpPT4oeyB0eXBlOidjaGVja2JveCcsIGxhYmVsLHgseSx3OjE4LGg6MTgsdmFsdWUsb25DaGFuZ2UgfSksXG4gICAgZHJhdzooY3R4LCB3aWRnZXRzKT0+eyB3aWRnZXRzLmZvckVhY2godz0+eyBpZih3LnR5cGU9PT0nYnV0dG9uJyl7IGN0eC5maWxsU3R5bGU9dy5ob3Zlcj8ncmdiYSgyNTUsMjU1LDI1NSwwLjIpJzoncmdiYSgwLDAsMCwwLjUpJzsgY3R4LmZpbGxSZWN0KHcueCx3Lnksdy53LHcuaCk7IGN0eC5maWxsU3R5bGU9JyNmZmYnOyBjdHguZmlsbFRleHQody50ZXh0LHcueCs4LHcueSt3LmgvMis0KTsgfSBpZih3LnR5cGU9PT0nc2xpZGVyJyl7IGN0eC5maWxsU3R5bGU9J3JnYmEoMCwwLDAsMC41KSc7IGN0eC5maWxsUmVjdCh3Lngsdy55LHcudyx3LmgpOyBjb25zdCB0PSh3LnZhbHVlLXcubWluKS8ody5tYXgtdy5taW4pOyBjdHguZmlsbFN0eWxlPScjN2RmOWZmJzsgY3R4LmZpbGxSZWN0KHcueCwgdy55LCB3LncqdCwgdy5oKTsgY3R4LmZpbGxTdHlsZT0nI2ZmZic7IGN0eC5maWxsVGV4dCh3LmxhYmVsKyc6ICcrdy52YWx1ZS50b0ZpeGVkKDEpLCB3LngrNCwgdy55LTQpOyB9IGlmKHcudHlwZT09PSdjaGVja2JveCcpeyBjdHguc3Ryb2tlU3R5bGU9JyNmZmYnOyBjdHguc3Ryb2tlUmVjdCh3Lngsdy55LHcudyx3LmgpOyBpZih3LnZhbHVlKXsgY3R4LmZpbGxTdHlsZT0nIzdkZjlmZic7IGN0eC5maWxsUmVjdCh3LngrMyx3LnkrMyx3LnctNix3LmgtNik7IH0gY3R4LmZpbGxTdHlsZT0nI2ZmZic7IGN0eC5maWxsVGV4dCh3LmxhYmVsLCB3Lngrdy53KzYsIHcueSt3LmgtMik7IH0gfSk7IH0sXG4gICAgaGl0Oih3LCBteCwgbXkpPT5teD49dy54JiZteDw9dy54K3cudyYmbXk+PXcueSYmbXk8PXcueSt3LmgsXG4gICAgaGFuZGxlQ2xpY2s6KHdpZGdldHMsbXgsbXkpPT57IHdpZGdldHMuZm9yRWFjaCh3PT57IGlmKHVpLmhpdCh3LG14LG15KSl7IGlmKHcudHlwZT09PSdidXR0b24nICYmIHcub25DbGljaykgdy5vbkNsaWNrKCk7IGlmKHcudHlwZT09PSdjaGVja2JveCcgJiYgdy5vbkNoYW5nZSl7IHcudmFsdWU9IXcudmFsdWU7IHcub25DaGFuZ2Uody52YWx1ZSk7IH0gfSB9KTsgfSxcbiAgICBoYW5kbGVEcmFnOih3aWRnZXRzLG14LG15KT0+eyB3aWRnZXRzLmZvckVhY2godz0+eyBpZih3LnR5cGU9PT0nc2xpZGVyJyAmJiB1aS5oaXQodyxteCxteSkpeyBjb25zdCB0PU1hdGgubWF4KDAsTWF0aC5taW4oMSwobXgtdy54KS93LncpKTsgdy52YWx1ZT13Lm1pbiArICh3Lm1heC13Lm1pbikqdDsgaWYody5vbkNoYW5nZSkgdy5vbkNoYW5nZSh3LnZhbHVlKTsgfSB9KTsgfVxuICB9O1xuICBjb25zdCBlY3MgPSAoZnVuY3Rpb24oKXtcbiAgICBsZXQgbmV4dElkPTE7XG4gICAgY29uc3QgZW50aXRpZXM9bmV3IFNldCgpO1xuICAgIGNvbnN0IGNvbXBvbmVudHM9bmV3IE1hcCgpO1xuICAgIGNvbnN0IHN5c3RlbXM9W107XG4gICAgY29uc3QgY3JlYXRlPSgpPT57IGNvbnN0IGlkPW5leHRJZCsrOyBlbnRpdGllcy5hZGQoaWQpOyByZXR1cm4gaWQ7IH07XG4gICAgY29uc3QgYWRkPShpZCxuYW1lLGRhdGEpPT57IGlmKCFjb21wb25lbnRzLmhhcyhuYW1lKSkgY29tcG9uZW50cy5zZXQobmFtZSxuZXcgTWFwKCkpOyBjb21wb25lbnRzLmdldChuYW1lKS5zZXQoaWQsZGF0YSk7IHJldHVybiBkYXRhOyB9O1xuICAgIGNvbnN0IGdldD0oaWQsbmFtZSk9PmNvbXBvbmVudHMuZ2V0KG5hbWUpPy5nZXQoaWQpO1xuICAgIGNvbnN0IGhhcz0oaWQsbmFtZSk9PmNvbXBvbmVudHMuZ2V0KG5hbWUpPy5oYXMoaWQpO1xuICAgIGNvbnN0IHJlbW92ZT0oaWQpPT57IGVudGl0aWVzLmRlbGV0ZShpZCk7IGZvcihjb25zdCBtYXAgb2YgY29tcG9uZW50cy52YWx1ZXMoKSl7IG1hcC5kZWxldGUoaWQpO30gfTtcbiAgICBjb25zdCBxdWVyeT0obmFtZXMpPT57IGNvbnN0IHNldHM9bmFtZXMubWFwKG49PmNvbXBvbmVudHMuZ2V0KG4pfHxuZXcgTWFwKCkpOyByZXR1cm4gWy4uLmVudGl0aWVzXS5maWx0ZXIoaWQ9Pm5hbWVzLmV2ZXJ5KG49PnNldHNbbmFtZXMuaW5kZXhPZihuKV0uaGFzKGlkKSkpOyB9O1xuICAgIGNvbnN0IHN5c3RlbT0obmFtZXMsZm4pPT57IHN5c3RlbXMucHVzaCh7bmFtZXMsZm59KTsgfTtcbiAgICBjb25zdCB1cGRhdGU9KGR0KT0+eyBmb3IoY29uc3QgcyBvZiBzeXN0ZW1zKXsgY29uc3QgaWRzPXF1ZXJ5KHMubmFtZXMpOyBmb3IoY29uc3QgaWQgb2YgaWRzKXsgY29uc3QgY29tcHM9cy5uYW1lcy5tYXAobj0+Z2V0KGlkLG4pKTsgcy5mbihpZCwgLi4uY29tcHMsIGR0KTsgfSB9IH07XG4gICAgcmV0dXJuIHsgY3JlYXRlLCBhZGQsIGdldCwgaGFzLCByZW1vdmUsIHF1ZXJ5LCBzeXN0ZW0sIHVwZGF0ZSwgY29tcG9uZW50cywgZW50aXRpZXMgfTtcbiAgfSkoKTtcbiAgY29uc3QgdGVycmFpbiA9IHtcbiAgICBwZXJsaW4yOih4LHkpPT57IGNvbnN0IHM9TWF0aC5zaW4oeCoxMi45ODk4K3kqNzguMjMzKSo0Mzc1OC41NDUzOyByZXR1cm4gcy1NYXRoLmZsb29yKHMpOyB9LFxuICAgIGhlaWdodE1hcDoodyxoLHNjYWxlPTAuMSk9PnsgY29uc3QgbWFwPVtdOyBmb3IobGV0IHk9MDt5PGg7eSsrKXsgY29uc3Qgcm93PVtdOyBmb3IobGV0IHg9MDt4PHc7eCsrKXsgcm93LnB1c2godGVycmFpbi5wZXJsaW4yKHgqc2NhbGUseSpzY2FsZSkpOyB9IG1hcC5wdXNoKHJvdyk7fSByZXR1cm4gbWFwOyB9XG4gIH07XG4gIGNvbnN0IGNhbWVyYSA9IHtcbiAgICBzaGFrZTooc3RhdGUsc3RyZW5ndGg9NixkZWNheT0wLjkpPT57IHN0YXRlLnNoYWtlPSB7c3RyZW5ndGgsZGVjYXkseDowLHk6MH07IH0sXG4gICAgYXBwbHlTaGFrZTooc3RhdGUsY3R4KT0+eyBpZighc3RhdGUuc2hha2UpIHJldHVybjsgc3RhdGUuc2hha2UueCA9IHJhbmQoLXN0YXRlLnNoYWtlLnN0cmVuZ3RoLHN0YXRlLnNoYWtlLnN0cmVuZ3RoKTsgc3RhdGUuc2hha2UueSA9IHJhbmQoLXN0YXRlLnNoYWtlLnN0cmVuZ3RoLHN0YXRlLnNoYWtlLnN0cmVuZ3RoKTsgY3R4LnRyYW5zbGF0ZShzdGF0ZS5zaGFrZS54LHN0YXRlLnNoYWtlLnkpOyBzdGF0ZS5zaGFrZS5zdHJlbmd0aCo9c3RhdGUuc2hha2UuZGVjYXk7IGlmKHN0YXRlLnNoYWtlLnN0cmVuZ3RoPDAuMykgc3RhdGUuc2hha2U9bnVsbDsgfVxuICB9O1xuICBjb25zdCB3ZWJnbCA9IHtcbiAgICBjcmVhdGU6KGNhbnZhcyk9PmNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpfHxjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJylcbiAgfTtcbiAgY29uc3QgZ2FtZXBhZCA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IHN0YXRlPXsgYXhlczpbXSwgYnV0dG9uczpbXSB9O1xuICAgIGNvbnN0IHBvbGw9KCk9PnsgY29uc3QgZ3A9bmF2aWdhdG9yLmdldEdhbWVwYWRzPy4oKVswXTsgaWYoIWdwKSByZXR1cm4gc3RhdGU7IHN0YXRlLmF4ZXM9Z3AuYXhlczsgc3RhdGUuYnV0dG9ucz1ncC5idXR0b25zLm1hcChiPT5iLnByZXNzZWQpOyByZXR1cm4gc3RhdGU7IH07XG4gICAgcmV0dXJuIHsgcG9sbCwgc3RhdGUgfTtcbiAgfSkoKTtcbiAgY29uc3QgYXNzZXRzID0ge1xuICAgIGltYWdlOihzcmMpPT5uZXcgUHJvbWlzZSgocmVzLHJlaik9PnsgY29uc3QgaW1nPW5ldyBJbWFnZSgpOyBpbWcub25sb2FkPSgpPT5yZXMoaW1nKTsgaW1nLm9uZXJyb3I9cmVqOyBpbWcuc3JjPXNyYzsgfSksXG4gICAgYXVkaW86KHNyYyk9Pm5ldyBQcm9taXNlKChyZXMscmVqKT0+eyBjb25zdCBhPW5ldyBBdWRpbygpOyBhLm9uY2FucGxheXRocm91Z2g9KCk9PnJlcyhhKTsgYS5vbmVycm9yPXJlajsgYS5zcmM9c3JjOyB9KVxuICB9O1xuICBjb25zdCBncmlkID0ge1xuICAgIG1ha2U6KHcsaCxmaWxsPTApPT5BcnJheS5mcm9tKHtsZW5ndGg6aH0sKCk9PkFycmF5LmZyb20oe2xlbmd0aDp3fSwoKT0+ZmlsbCkpLFxuICAgIGluQm91bmRzOihnLHgseSk9Pnk+PTAmJnk8Zy5sZW5ndGgmJng+PTAmJng8Z1swXS5sZW5ndGhcbiAgfTtcbiAgY29uc3QgY2FtZXJhMmQgPSB7XG4gICAgd29ybGRUb1NjcmVlbjooY2FtLHgseSk9Pih7IHg6IHgtY2FtLngsIHk6IHktY2FtLnkgfSksXG4gICAgc2NyZWVuVG9Xb3JsZDooY2FtLHgseSk9Pih7IHg6IHgrY2FtLngsIHk6IHkrY2FtLnkgfSlcbiAgfTtcbiAgY29uc3QgbWV0cmljcyA9IChmdW5jdGlvbigpe1xuICAgIGxldCBsYXN0PW5vdygpLCBmcHM9MDtcbiAgICBjb25zdCB0aWNrPSgpPT57IGNvbnN0IHQ9bm93KCk7IGZwcz0xMDAwLyh0LWxhc3QpOyBsYXN0PXQ7IHJldHVybiBmcHM7IH07XG4gICAgcmV0dXJuIHsgdGljaywgZ2V0OigpPT5mcHMgfTtcbiAgfSkoKTtcbiAgY29uc3QgbG9nZ2VyID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgbG9ncz1bXTsgY29uc3QgcHVzaD0obXNnKT0+eyBsb2dzLnVuc2hpZnQoeyBtc2csIHQ6bm93KCkgfSk7IGlmKGxvZ3MubGVuZ3RoPjIwKSBsb2dzLnBvcCgpOyB9O1xuICAgIHJldHVybiB7IGxvZ3MsIHB1c2ggfTtcbiAgfSkoKTtcbiAgY29uc3QgZGlhbG9ndWUgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBsaW5lcz1bXTsgY29uc3Qgc2F5PSh0ZXh0KT0+bGluZXMucHVzaCh0ZXh0KTsgY29uc3QgbmV4dD0oKT0+bGluZXMuc2hpZnQoKTtcbiAgICByZXR1cm4geyBzYXksIG5leHQsIGxpbmVzIH07XG4gIH0pKCk7XG4gIGNvbnN0IHRpbWVsaW5lID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3Qgc3RlcHM9W107IGNvbnN0IGFkZD0oYXQsZm4pPT5zdGVwcy5wdXNoKHthdCxmbixkb25lOmZhbHNlfSk7IGNvbnN0IHJ1bj0odCk9PnsgZm9yKGNvbnN0IHMgb2Ygc3RlcHMpeyBpZighcy5kb25lICYmIHQ+PXMuYXQpeyBzLmRvbmU9dHJ1ZTsgcy5mbigpOyB9IH0gfTtcbiAgICByZXR1cm4geyBhZGQsIHJ1biB9O1xuICB9KSgpO1xuICByZXR1cm4geyBjbGFtcCwgbGVycCwgbWFwLCByYW5kLCBjaG9pY2UsIG5vdywgZWFzaW5nLCB0d2Vlbiwgc3RvcmFnZSwgaW5wdXQsIGF1ZGlvLCBwaHlzaWNzMmQsIGNvb2xkb3duLCB0aW1lcnMsIHBhcnRpY2xlcywgcHNldWRvM2QsIGNvbG9yLCB0ZXh0LCBybmcsIGV2ZW50QnVzLCBmc20sIHNwcml0ZXMsIHBhdGhmaW5kaW5nLCBuYXZtZXNoLCBsZXZlbEdyYW1tYXIsIGF1ZGlvU2VxLCB1aSwgZWNzLCB0ZXJyYWluLCBjYW1lcmEsIHdlYmdsLCBnYW1lcGFkLCBhc3NldHMsIGdyaWQsIGNhbWVyYTJkLCBtZXRyaWNzLCBsb2dnZXIsIGRpYWxvZ3VlLCB0aW1lbGluZSB9O1xufSkoKTtcbi8vIENvbXBhdGliaWxpdHkgc2hpbXMgZm9yIG1vZGVscyB0aGF0IGRvbid0IG5hbWVzcGFjZSBoZWxwZXJzXG4oZnVuY3Rpb24oKXtcbiAgY29uc3QgSyA9IHdpbmRvdy5HYW1lRmFjdG9yeUtpdDtcbiAgaWYgKCFLKSByZXR1cm47XG4gIHdpbmRvdy5jbGFtcCA9IHdpbmRvdy5jbGFtcCB8fCBLLmNsYW1wO1xuICB3aW5kb3cubGVycCA9IHdpbmRvdy5sZXJwIHx8IEsubGVycDtcbiAgd2luZG93Lm1hcCA9IHdpbmRvdy5tYXAgfHwgSy5tYXA7XG4gIHdpbmRvdy5yYW5kID0gd2luZG93LnJhbmQgfHwgSy5yYW5kO1xuICB3aW5kb3cucm5nID0gd2luZG93LnJuZyB8fCBLLnJuZztcbiAgd2luZG93LmNob2ljZSA9IHdpbmRvdy5jaG9pY2UgfHwgSy5jaG9pY2U7XG4gIHdpbmRvdy5ub3cgPSB3aW5kb3cubm93IHx8IEsubm93O1xuICB3aW5kb3cuYXVkaW8gPSB3aW5kb3cuYXVkaW8gfHwgSy5hdWRpbztcbiAgd2luZG93LmlucHV0ID0gd2luZG93LmlucHV0IHx8IEsuaW5wdXQ7XG4gIHdpbmRvdy5zdG9yYWdlID0gd2luZG93LnN0b3JhZ2UgfHwgSy5zdG9yYWdlO1xuICB3aW5kb3cudGV4dCA9IHdpbmRvdy50ZXh0IHx8IEsudGV4dDtcbiAgd2luZG93LnRpbWVycyA9IHdpbmRvdy50aW1lcnMgfHwgSy50aW1lcnM7XG4gIHdpbmRvdy5jaXJjbGUgPSB3aW5kb3cuY2lyY2xlIHx8ICgoYSxiKT0+Sy5waHlzaWNzMmQuY2lyY2xlKGEsYikpO1xuICB3aW5kb3cucHNldWRvM2QgPSB3aW5kb3cucHNldWRvM2QgfHwgSy5wc2V1ZG8zZDtcbiAgY29uc3QgY2FtU3RhdGUgPSB7IHNoYWtlOiBudWxsIH07XG4gIHdpbmRvdy5jYW1lcmEgPSB3aW5kb3cuY2FtZXJhIHx8IHtcbiAgICBzaGFrZTogKHN0cmVuZ3RoPTYsIGRlY2F5PTAuOSkgPT4gSy5jYW1lcmEuc2hha2UoY2FtU3RhdGUsIHN0cmVuZ3RoLCBkZWNheSksXG4gICAgYXBwbHlTaGFrZTogKGN0eCkgPT4gSy5jYW1lcmEuYXBwbHlTaGFrZShjYW1TdGF0ZSwgY3R4KVxuICB9O1xuICB3aW5kb3cucGFydGljbGVzID0gd2luZG93LnBhcnRpY2xlcyB8fCB7XG4gICAgc3Bhd246IChhLGIsYykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IG8gPSBhIHx8IHt9O1xuICAgICAgICBLLnBhcnRpY2xlcy5zcGF3bihvLnggfHwgMCwgby55IHx8IDAsIG8uY291bnQgfHwgMjApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSy5wYXJ0aWNsZXMuc3Bhd24oYSB8fCAwLCBiIHx8IDAsIGMgfHwgMjApO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlOiAoZHQpID0+IHtcbiAgICAgIGNvbnN0IHYgPSBkdCA+IDEwID8gZHQgLyAxMDAwIDogZHQ7XG4gICAgICBLLnBhcnRpY2xlcy51cGRhdGUodik7XG4gICAgICBLLnBhcnRpY2xlcy5wcnVuZSgpO1xuICAgIH0sXG4gICAgZHJhdzogKGN0eCkgPT4gSy5wYXJ0aWNsZXMuZHJhdyhjdHgpLFxuICAgIHBydW5lOiAoKSA9PiBLLnBhcnRpY2xlcy5wcnVuZSgpXG4gIH07XG4gIHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgc291cmNlLCBsaW5lbm8sIGNvbG5vKSB7XG4gICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJnYW1lX2Vycm9yXCIsIG1lc3NhZ2U6IFN0cmluZyhtZXNzYWdlKSArIFwiIEAgXCIgKyBsaW5lbm8gKyBcIjpcIiArIGNvbG5vIH0sIFwiKlwiKTtcbiAgfTtcbiAgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImdhbWVfZXJyb3JcIiwgbWVzc2FnZTogU3RyaW5nKGV2ZW50Py5yZWFzb24gfHwgXCJVbmhhbmRsZWQgcmVqZWN0aW9uXCIpIH0sIFwiKlwiKTtcbiAgfTtcbn0pKCk7XG48L3NjcmlwdD5cbmA7XG4gICAgaWYgKGNvZGUuaW5jbHVkZXMoXCJ3aW5kb3cuR2FtZUZhY3RvcnlLaXRcIikgfHwgY29kZS5pbmNsdWRlcyhcIkdhbWVGYWN0b3J5QUkgPSBhc3luYyBmdW5jdGlvblwiKSkgcmV0dXJuIGNvZGU7XG4gICAgaWYgKGNvZGUuaW5jbHVkZXMoXCI8L2hlYWQ+XCIpKSByZXR1cm4gY29kZS5yZXBsYWNlKFwiPC9oZWFkPlwiLCBgJHtoZWxwZXJ9PC9oZWFkPmApO1xuICAgIHJldHVybiBoZWxwZXIgKyBjb2RlO1xuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke3BhcmFtcy5pZH1gLCB7IGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIiB9KTtcbiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHNldEdhbWUoZGF0YSk7XG4gICAgICAgIHNldE1hbnVhbENvZGUoZGF0YS5jb2RlKTtcbiAgICAgICAgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke3BhcmFtcy5pZH0vcGxheWAsIHsgbWV0aG9kOiBcIlBPU1RcIiB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgIGNvbnN0IG1lUmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9hdXRoL21lYCwgeyBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIgfSk7XG4gICAgICAgIGlmIChtZVJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IG1lRGF0YSA9IGF3YWl0IG1lUmVzLmpzb24oKTtcbiAgICAgICAgICBzZXRNZShtZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZvdGVSZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7cGFyYW1zLmlkfS92b3Rlc2ApO1xuICAgICAgICBpZiAodm90ZVJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IHZkYXRhID0gYXdhaXQgdm90ZVJlcy5qc29uKCk7XG4gICAgICAgICAgc2V0Vm90ZXModmRhdGEuY291bnQgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWVudFJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9L2NvbW1lbnRzYCk7XG4gICAgICAgIGlmIChjb21tZW50UmVzLm9rKSB7XG4gICAgICAgICAgY29uc3QgY2RhdGEgPSBhd2FpdCBjb21tZW50UmVzLmpzb24oKTtcbiAgICAgICAgICBzZXRDb21tZW50cyhjZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmVyID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke3BhcmFtcy5pZH0vdmVyc2lvbnNgKTtcbiAgICAgICAgaWYgKHZlci5vaykge1xuICAgICAgICAgIGNvbnN0IHZkYXRhID0gYXdhaXQgdmVyLmpzb24oKTtcbiAgICAgICAgICBzZXRWZXJzaW9ucyh2ZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgZ2FtZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9hZCgpO1xuICB9LCBbcGFyYW1zLmlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2FtZSkgc2V0TWFudWFsQ29kZShnYW1lLmNvZGUpO1xuICB9LCBbZ2FtZT8uY29kZSwgZ2FtZT8uaWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIG9uTWVzc2FnZShldmVudDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgIGlmIChkYXRhICYmIGRhdGEudHlwZSA9PT0gXCJnYW1lX2Vycm9yXCIpIHtcbiAgICAgICAgc2V0UHJldmlld0Vycm9ycygocHJldikgPT4gW2RhdGEubWVzc2FnZSwgLi4ucHJldl0uc2xpY2UoMCwgNSkpO1xuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25NZXNzYWdlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uTWVzc2FnZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBncm91cGVkVmVyc2lvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBmdW5jdGlvbiBoYXNoKHN0cjogc3RyaW5nKSB7XG4gICAgICBsZXQgaCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBoID0gKGggKiAzMSArIHN0ci5jaGFyQ29kZUF0KGkpKSB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gaC50b1N0cmluZygxNik7XG4gICAgfVxuICAgIGNvbnN0IHNlZW4gPSBuZXcgTWFwPHN0cmluZywgeyB2OiBhbnk7IGNvdW50OiBudW1iZXIgfT4oKTtcbiAgICBjb25zdCBvcmRlcmVkOiB7IHY6IGFueTsgY291bnQ6IG51bWJlciB9W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHYgb2YgdmVyc2lvbnMpIHtcbiAgICAgIGNvbnN0IGtleSA9IGhhc2godi5jb2RlIHx8IFwiXCIpO1xuICAgICAgaWYgKHNlZW4uaGFzKGtleSkpIHtcbiAgICAgICAgc2Vlbi5nZXQoa2V5KSEuY291bnQgKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0geyB2LCBjb3VudDogMSB9O1xuICAgICAgICBzZWVuLnNldChrZXksIGVudHJ5KTtcbiAgICAgICAgb3JkZXJlZC5wdXNoKGVudHJ5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9yZGVyZWQ7XG4gIH0sIFt2ZXJzaW9uc10pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIG9wZW5GdWxsc2NyZWVuKCkge1xuICAgIGlmICghcHJldmlld1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7XG4gICAgICBhd2FpdCBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBwcmV2aWV3UmVmLmN1cnJlbnQucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvY3VzUHJldmlldygpIHtcbiAgICBpZnJhbWVSZWYuY3VycmVudD8uY29udGVudFdpbmRvdz8uZm9jdXMoKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdEVkaXQoKSB7XG4gICAgaWYgKCFpbnN0cnVjdGlvbi50cmltKCkgfHwgIWdhbWUpIHJldHVybjtcbiAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7Z2FtZS5pZH0vZWRpdGAsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGluc3RydWN0aW9uIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIHNldEdhbWUoZGF0YSk7XG4gICAgICBzZXRJbnN0cnVjdGlvbihcIlwiKTtcbiAgICAgIGNvbnN0IHZlciA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9L3ZlcnNpb25zYCk7XG4gICAgICBpZiAodmVyLm9rKSB7XG4gICAgICAgIGNvbnN0IHZkYXRhID0gYXdhaXQgdmVyLmpzb24oKTtcbiAgICAgICAgc2V0VmVyc2lvbnModmRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIkVkaXQgZmFpbGVkXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRFZGl0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiByb2xsYmFjayh2ZXJzaW9uSWQ6IG51bWJlcikge1xuICAgIGlmICghZ2FtZSkgcmV0dXJuO1xuICAgIHNldEVkaXRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtnYW1lLmlkfS9yb2xsYmFjay8ke3ZlcnNpb25JZH1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCJcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgc2V0R2FtZShkYXRhKTtcbiAgICAgIGNvbnN0IHZlciA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9L3ZlcnNpb25zYCk7XG4gICAgICBpZiAodmVyLm9rKSB7XG4gICAgICAgIGNvbnN0IHZkYXRhID0gYXdhaXQgdmVyLmpzb24oKTtcbiAgICAgICAgc2V0VmVyc2lvbnModmRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIlJvbGxiYWNrIGZhaWxlZFwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RWRpdGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZU1hbnVhbCgpIHtcbiAgICBpZiAoIWdhbWUpIHJldHVybjtcbiAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7Z2FtZS5pZH1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvZGU6IG1hbnVhbENvZGUgfSlcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgc2V0R2FtZShkYXRhKTtcbiAgICAgIGNvbnN0IHZlciA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9L3ZlcnNpb25zYCk7XG4gICAgICBpZiAodmVyLm9rKSB7XG4gICAgICAgIGNvbnN0IHZkYXRhID0gYXdhaXQgdmVyLmpzb24oKTtcbiAgICAgICAgc2V0VmVyc2lvbnModmRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIk1hbnVhbCBzYXZlIGZhaWxlZFwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RWRpdGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc3VibWl0Q29tbWVudCgpIHtcbiAgICBpZiAoIWNvbW1lbnQudHJpbSgpIHx8ICFnYW1lKSByZXR1cm47XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke2dhbWUuaWR9L2NvbW1lbnRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29udGVudDogY29tbWVudCB9KVxuICAgIH0pO1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIGNvbnN0IGMgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgc2V0Q29tbWVudHMoKHByZXYpID0+IFtjLCAuLi5wcmV2XSk7XG4gICAgICBzZXRDb21tZW50KFwiXCIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZVZvdGUoKSB7XG4gICAgaWYgKCFnYW1lKSByZXR1cm47XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke2dhbWUuaWR9L3ZvdGVgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgY29uc3QgdiA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtnYW1lLmlkfS92b3Rlc2ApO1xuICAgICAgaWYgKHYub2spIHtcbiAgICAgICAgY29uc3QgdmRhdGEgPSBhd2FpdCB2Lmpzb24oKTtcbiAgICAgICAgc2V0Vm90ZXModmRhdGEuY291bnQgfHwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cImJhZGdlXCI+QmFjazwvTGluaz5cbiAgICAgIHtlcnJvciAmJiA8cCBzdHlsZT17eyBjb2xvcjogXCIjZmY5YjliXCIgfX0+e2Vycm9yfTwvcD59XG4gICAgICB7IWdhbWUgJiYgIWVycm9yICYmIDxwPkxvYWRpbmcuLi48L3A+fVxuICAgICAge2dhbWUgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZ3JpZFwiLCBnYXA6IDE2IH19PlxuICAgICAgICAgIDxoMT57Z2FtZS50aXRsZX08L2gxPlxuICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBcIiM5OGEwYjVcIiB9fT57Z2FtZS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+UGxheTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17KCkgPT4gc2V0UGVyZk1vZGUoKHYpID0+ICF2KX0+XG4gICAgICAgICAgICAgICAge3BlcmZNb2RlID8gXCJQZXJmIE1vZGU6IE9uXCIgOiBcIlBlcmYgTW9kZTogT2ZmXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e29wZW5GdWxsc2NyZWVufT5GdWxsc2NyZWVuPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXdcIiByZWY9e3ByZXZpZXdSZWZ9IG9uQ2xpY2s9e2ZvY3VzUHJldmlld30+XG4gICAgICAgICAgICA8aWZyYW1lIHJlZj17aWZyYW1lUmVmfSBzcmNEb2M9e3dpdGhBSUhlbHBlcihnYW1lLmNvZGUpfSBzYW5kYm94PVwiYWxsb3ctc2NyaXB0c1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3ByZXZpZXdFcnJvcnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+UHJldmlldyBFcnJvcnM8L2Rpdj5cbiAgICAgICAgICAgICAge3ByZXZpZXdFcnJvcnMubWFwKChlLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiIHN0eWxlPXt7IGNvbG9yOiBcIiNmZjliOWJcIiB9fT57ZX08L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+UHJvbXB0PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPntnYW1lLnByb21wdH08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlNoYXJlPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlB1YmxpYyBsaW5rPC9kaXY+XG4gICAgICAgICAgICA8Y29kZT57dHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L3BsYXkvJHtnYW1lLmlkfWAgOiBgL3BsYXkvJHtnYW1lLmlkfWB9PC9jb2RlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtpc093bmVyICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5FZGl0IFdpdGggQUk8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5EZXNjcmliZSB0aGUgY2hhbmdlIHlvdSB3YW50LjwvZGl2PlxuICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5zdHJ1Y3Rpb259XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnN0cnVjdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgYSB0aW1lciwgbmV3IG9ic3RhY2xlcywgY2hhbmdlIGFydCBzdHlsZS4uLlwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWluSGVpZ2h0OiAxMjAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtzdWJtaXRFZGl0fSBkaXNhYmxlZD17ZWRpdGluZ30+XG4gICAgICAgICAgICAgICAgICB7ZWRpdGluZyA/IFwiRWRpdGluZy4uLlwiIDogXCJBcHBseSBFZGl0XCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPkNvbW11bml0eTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17dG9nZ2xlVm90ZX0+VXB2b3RlPC9idXR0b24+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Vm90ZXM6IHt2b3Rlc308L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIHZhbHVlPXtjb21tZW50fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvbW1lbnQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldyaXRlIGEgY29tbWVudC4uLlwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogMTIwIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17c3VibWl0Q29tbWVudH0+UG9zdCBDb21tZW50PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMCwgZGlzcGxheTogXCJncmlkXCIsIGdhcDogNiB9fT5cbiAgICAgICAgICAgICAge2NvbW1lbnRzLmxlbmd0aCA9PT0gMCAmJiA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPk5vIGNvbW1lbnRzIHlldC48L2Rpdj59XG4gICAgICAgICAgICAgIHtjb21tZW50cy5tYXAoKGMpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17Yy5pZH0gY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPntjLnVzZXJuYW1lIHx8IFwiVXNlclwifTo8L3N0cm9uZz4ge2MuY29udGVudH1cbiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IDgsIGNvbG9yOiBcIiM5OGEwYjVcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAge2MuY3JlYXRlZF9hdCA/IG5ldyBEYXRlKGMuY3JlYXRlZF9hdCkudG9Mb2NhbGVTdHJpbmcoKSA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2lzT3duZXIgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+TWFudWFsIENvZGUgRWRpdDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+RWRpdCBIVE1MIGRpcmVjdGx5IGFuZCBzYXZlLjwvZGl2PlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e21hbnVhbENvZGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1hbnVhbENvZGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWluSGVpZ2h0OiAyMjAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtzYXZlTWFudWFsfSBkaXNhYmxlZD17ZWRpdGluZ30+XG4gICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nID8gXCJTYXZpbmcuLi5cIiA6IFwiU2F2ZSBDb2RlXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlZlcnNpb24gSGlzdG9yeTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Um9sbGJhY2sgdG8gYSBwcmV2aW91cyB2ZXJzaW9uLjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJncmlkXCIsIGdhcDogOCB9fT5cbiAgICAgICAgICAgICAgICAgIHt2ZXJzaW9ucy5sZW5ndGggPT09IDAgJiYgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5ObyB2ZXJzaW9ucyB5ZXQuPC9kaXY+fVxuICAgICAgICAgICAgICAgICAgeyhzaG93QWxsVmVyc2lvbnMgPyBncm91cGVkVmVyc2lvbnMgOiBncm91cGVkVmVyc2lvbnMuc2xpY2UoMCwgNikpLm1hcCgoZW50cnk6IGFueSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17ZW50cnkudi5pZH0gc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogOCwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm9sbGJhY2soZW50cnkudi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZWRpdGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXg6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUoZW50cnkudi5jcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygpfSDigJQge2VudHJ5LnYudGl0bGV9IFt7ZW50cnkudi5hY3Rpb24gfHwgXCJlZGl0XCJ9XVxuICAgICAgICAgICAgICAgICAgICAgICAge2VudHJ5LmNvdW50ID4gMSA/IGAgKHgke2VudHJ5LmNvdW50fSlgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRWZXJzaW9uKGVudHJ5LnYpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VkaXRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtncm91cGVkVmVyc2lvbnMubGVuZ3RoID4gNiAmJiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogOCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWxsVmVyc2lvbnMoKHMpID0+ICFzKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3Nob3dBbGxWZXJzaW9ucyA/IFwiU2hvdyBMZXNzXCIgOiBcIlNob3cgQWxsXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3NlbGVjdGVkVmVyc2lvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+Q29tcGFyZSBWZXJzaW9uczwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlxuICAgICAgICAgICAgICAgIFNlbGVjdGVkOiB7bmV3IERhdGUoc2VsZWN0ZWRWZXJzaW9uLmNyZWF0ZWRfYXQpLnRvTG9jYWxlU3RyaW5nKCl9IOKAlCB7c2VsZWN0ZWRWZXJzaW9uLnRpdGxlfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImdyaWRcIiwgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCIxZnIgMWZyXCIsIGdhcDogMTIgfX0+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Q3VycmVudDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHJlYWRPbmx5IHZhbHVlPXtnYW1lLmNvZGV9IHN0eWxlPXt7IG1pbkhlaWdodDogMjIwIH19IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+U2VsZWN0ZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSByZWFkT25seSB2YWx1ZT17c2VsZWN0ZWRWZXJzaW9uLmNvZGV9IHN0eWxlPXt7IG1pbkhlaWdodDogMjIwIH19IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1yb3dcIiBzdHlsZT17eyBtYXJnaW5Ub3A6IDggfX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFZlcnNpb24obnVsbCl9PlxuICAgICAgICAgICAgICAgICAgQ2xvc2UgQ29tcGFyZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L21haW4+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiTGluayIsIkFQSSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiR2FtZVBhZ2UiLCJwYXJhbXMiLCJnYW1lIiwic2V0R2FtZSIsImVycm9yIiwic2V0RXJyb3IiLCJwcmV2aWV3UmVmIiwiaWZyYW1lUmVmIiwiaW5zdHJ1Y3Rpb24iLCJzZXRJbnN0cnVjdGlvbiIsImVkaXRpbmciLCJzZXRFZGl0aW5nIiwidmVyc2lvbnMiLCJzZXRWZXJzaW9ucyIsInNob3dBbGxWZXJzaW9ucyIsInNldFNob3dBbGxWZXJzaW9ucyIsInNlbGVjdGVkVmVyc2lvbiIsInNldFNlbGVjdGVkVmVyc2lvbiIsIm1hbnVhbENvZGUiLCJzZXRNYW51YWxDb2RlIiwicHJldmlld0Vycm9ycyIsInNldFByZXZpZXdFcnJvcnMiLCJjb21tZW50Iiwic2V0Q29tbWVudCIsImNvbW1lbnRzIiwic2V0Q29tbWVudHMiLCJ2b3RlcyIsInNldFZvdGVzIiwibWUiLCJzZXRNZSIsInBlcmZNb2RlIiwic2V0UGVyZk1vZGUiLCJjbGllbnRJZCIsImtleSIsImlkIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwic2V0SXRlbSIsImlzT3duZXIiLCJjcmVhdG9yX2lkIiwid2l0aEFJSGVscGVyIiwiY29kZSIsIndzVXJsIiwicmVwbGFjZSIsImNsaWVudE5hbWUiLCJ1c2VybmFtZSIsImhlbHBlciIsImluY2x1ZGVzIiwibG9hZCIsInJlcyIsImZldGNoIiwiY3JlZGVudGlhbHMiLCJvayIsIkVycm9yIiwidGV4dCIsImRhdGEiLCJqc29uIiwibWV0aG9kIiwiY2F0Y2giLCJtZVJlcyIsIm1lRGF0YSIsInZvdGVSZXMiLCJ2ZGF0YSIsImNvdW50IiwiY29tbWVudFJlcyIsImNkYXRhIiwidmVyIiwiZXJyIiwibWVzc2FnZSIsIm9uTWVzc2FnZSIsImV2ZW50IiwidHlwZSIsInByZXYiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdyb3VwZWRWZXJzaW9ucyIsImhhc2giLCJzdHIiLCJoIiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJzZWVuIiwiTWFwIiwib3JkZXJlZCIsInYiLCJoYXMiLCJnZXQiLCJlbnRyeSIsInNldCIsInB1c2giLCJvcGVuRnVsbHNjcmVlbiIsImN1cnJlbnQiLCJkb2N1bWVudCIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZXhpdEZ1bGxzY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsImZvY3VzUHJldmlldyIsImNvbnRlbnRXaW5kb3ciLCJmb2N1cyIsInN1Ym1pdEVkaXQiLCJ0cmltIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwicm9sbGJhY2siLCJ2ZXJzaW9uSWQiLCJzYXZlTWFudWFsIiwic3VibWl0Q29tbWVudCIsImNvbnRlbnQiLCJjIiwidG9nZ2xlVm90ZSIsIm1haW4iLCJjbGFzc05hbWUiLCJocmVmIiwicCIsInN0eWxlIiwiY29sb3IiLCJkaXYiLCJkaXNwbGF5IiwiZ2FwIiwiaDEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYnV0dG9uIiwib25DbGljayIsInJlZiIsImlmcmFtZSIsInNyY0RvYyIsInNhbmRib3giLCJtYXAiLCJlIiwicHJvbXB0IiwibG9jYXRpb24iLCJvcmlnaW4iLCJ0ZXh0YXJlYSIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsIm1pbkhlaWdodCIsImRpc2FibGVkIiwibWFyZ2luVG9wIiwic3Ryb25nIiwic3BhbiIsIm1hcmdpbkxlZnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiYWxpZ25JdGVtcyIsImZsZXgiLCJhY3Rpb24iLCJzIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsInJlYWRPbmx5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/games/[id]/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/PartySidebar.tsx":
/*!*************************************!*\
  !*** ./components/PartySidebar.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PartySidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst API = \"http://localhost:8000\" ?? 0;\nfunction PartySidebar() {\n    const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [me, setMe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [parties, setParties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [partyId, setPartyId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [party, setParty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [members, setMembers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [online, setOnline] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [votes, setVotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [games, setGames] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [createName, setCreateName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [createPrivate, setCreatePrivate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [createMax, setCreateMax] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(2);\n    const [joinPartyId, setJoinPartyId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [joinCode, setJoinCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [chatInput, setChatInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [chatLog, setChatLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [launching, setLaunching] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const clientId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (true) return \"gf-client\";\n        const key = \"gf_client_id\";\n        let id = \"\";\n        try {\n            id = window.localStorage.getItem(key) || \"\";\n        } catch  {}\n        if (!id) {\n            id = Math.random().toString(36).slice(2) + Math.random().toString(36).slice(2);\n            try {\n                window.localStorage.setItem(key, id);\n            } catch  {}\n        }\n        return id;\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const saved =  false ? 0 : null;\n        if (saved) setPartyId(saved);\n        loadMe();\n        loadParties();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!partyId) return;\n        if (false) {}\n        loadParty(partyId);\n        loadVotes(partyId);\n        connectPartyChat(partyId);\n        return ()=>{\n            wsRef.current?.close();\n            wsRef.current = null;\n        };\n    }, [\n        partyId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!party) return;\n        const size = members.length || 1;\n        loadGames(size);\n    }, [\n        party,\n        members\n    ]);\n    async function loadMe() {\n        try {\n            const res = await fetch(`${API}/auth/me`, {\n                credentials: \"include\"\n            });\n            const data = await res.json();\n            setMe(data);\n        } catch  {}\n    }\n    async function loadParties() {\n        const res = await fetch(`${API}/parties`);\n        if (!res.ok) return;\n        setParties(await res.json());\n    }\n    async function loadParty(id) {\n        const res = await fetch(`${API}/parties/${id}`, {\n            credentials: \"include\"\n        });\n        if (!res.ok) return;\n        const detail = await res.json();\n        setParty(detail.party);\n        setMembers(detail.members || []);\n    }\n    async function loadVotes(id) {\n        const res = await fetch(`${API}/parties/${id}/votes`);\n        if (!res.ok) return;\n        const rows = await res.json();\n        const map = {};\n        rows.forEach((r)=>map[r.game_id] = r.votes);\n        setVotes(map);\n    }\n    async function loadGames(minPlayers) {\n        const params = new URLSearchParams();\n        params.set(\"multiplayer\", \"true\");\n        params.set(\"min_players\", String(minPlayers));\n        const res = await fetch(`${API}/games?${params.toString()}`);\n        if (!res.ok) return;\n        const data = await res.json();\n        setGames(data);\n    }\n    async function createParty() {\n        if (!me) {\n            alert(\"Log in to create a party.\");\n            return;\n        }\n        if (!createName.trim()) return;\n        const res = await fetch(`${API}/parties`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: \"include\",\n            body: JSON.stringify({\n                name: createName.trim(),\n                is_private: createPrivate,\n                max_players: createMax\n            })\n        });\n        if (!res.ok) return;\n        const data = await res.json();\n        setPartyId(data.id);\n        setCreateName(\"\");\n        setJoinCode(\"\");\n        loadParties();\n    }\n    async function joinParty(id, code) {\n        if (!me) {\n            alert(\"Log in to join a party.\");\n            return;\n        }\n        const res = await fetch(`${API}/parties/${id}/join`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: \"include\",\n            body: JSON.stringify({\n                code: code || null\n            })\n        });\n        if (!res.ok) return;\n        setPartyId(id);\n        loadParties();\n    }\n    async function leaveParty() {\n        if (!partyId) return;\n        await fetch(`${API}/parties/${partyId}/leave`, {\n            method: \"POST\",\n            credentials: \"include\"\n        });\n        setPartyId(null);\n        setParty(null);\n        setMembers([]);\n        setOnline([]);\n        setChatLog([]);\n        setVotes({});\n        wsRef.current?.close();\n        wsRef.current = null;\n    }\n    function connectPartyChat(id) {\n        wsRef.current?.close();\n        const wsUrl = API.replace(\"http://\", \"ws://\").replace(\"https://\", \"wss://\");\n        const params = new URLSearchParams();\n        params.set(\"client_id\", clientId);\n        if (me?.username) params.set(\"name\", me.username);\n        const ws = new WebSocket(`${wsUrl}/ws/party-${encodeURIComponent(id)}?${params.toString()}`);\n        wsRef.current = ws;\n        ws.onmessage = (evt)=>{\n            try {\n                const msg = JSON.parse(evt.data);\n                if (msg.type === \"room_state\") {\n                    const list = (msg.players || []).map((p)=>({\n                            id: p.id,\n                            name: p.name || \"Player\"\n                        }));\n                    setOnline(list);\n                    return;\n                }\n                if (msg.type === \"chat\") {\n                    setChatLog((prev)=>[\n                            `${msg.name || \"Player\"}: ${msg.text}`,\n                            ...prev\n                        ].slice(0, 40));\n                    return;\n                }\n                if (msg.type === \"launch\" && msg.game_id) {\n                    const gameId = msg.game_id;\n                    window.location.href = `/play/${gameId}`;\n                    return;\n                }\n            } catch  {}\n        };\n    }\n    function sendChat() {\n        const ws = wsRef.current;\n        if (!ws || ws.readyState !== 1 || !chatInput.trim()) return;\n        ws.send(JSON.stringify({\n            type: \"chat\",\n            name: me?.username || \"Player\",\n            text: chatInput.trim()\n        }));\n        setChatInput(\"\");\n    }\n    async function vote(gameId) {\n        if (!partyId) return;\n        const res = await fetch(`${API}/parties/${partyId}/vote`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: \"include\",\n            body: JSON.stringify({\n                game_id: gameId\n            })\n        });\n        if (res.ok) loadVotes(partyId);\n    }\n    const partySize = members.length || 0;\n    const partyCap = party?.max_players ?? null;\n    const topGameId = Object.entries(votes).sort((a, b)=>b[1] - a[1]).map(([id])=>Number(id))[0];\n    const topGame = games.find((g)=>g.id === topGameId);\n    function launchTopGame() {\n        if (!partyId || !topGameId) return;\n        const ws = wsRef.current;\n        if (ws && ws.readyState === 1) {\n            setLaunching(true);\n            ws.send(JSON.stringify({\n                type: \"launch\",\n                game_id: topGameId\n            }));\n            setTimeout(()=>setLaunching(false), 800);\n        } else {\n            window.location.href = `/play/${topGameId}`;\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `party-sidebar ${open ? \"open\" : \"\"}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"party-toggle\",\n                onClick: ()=>setOpen((v)=>!v),\n                children: open ? \"Close Party\" : \"Party\"\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                lineNumber: 251,\n                columnNumber: 7\n            }, this),\n            open && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"party-panel\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"party-title\",\n                        children: \"Party\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                        lineNumber: 256,\n                        columnNumber: 11\n                    }, this),\n                    !party && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"party-section\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-label\",\n                                children: \"Create Party\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 259,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: createName,\n                                onChange: (e)=>setCreateName(e.target.value),\n                                placeholder: \"Party name\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 260,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: createPrivate,\n                                                onChange: (e)=>setCreatePrivate(e.target.checked)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 24\n                                            }, this),\n                                            \" Private\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: String(createMax),\n                                        onChange: (e)=>setCreateMax(Math.max(2, parseInt(e.target.value || \"2\", 10) || 2)),\n                                        style: {\n                                            width: 60\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 263,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 261,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: createParty,\n                                children: \"Create\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 269,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-label\",\n                                style: {\n                                    marginTop: 10\n                                },\n                                children: \"Join Private\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 270,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: joinPartyId,\n                                onChange: (e)=>setJoinPartyId(e.target.value),\n                                placeholder: \"Party ID\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: joinCode,\n                                onChange: (e)=>setJoinCode(e.target.value),\n                                placeholder: \"Join code\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 272,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"secondary\",\n                                onClick: ()=>joinParty(joinPartyId.trim(), joinCode),\n                                disabled: !joinPartyId.trim() || !joinCode.trim(),\n                                children: \"Join Private\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 273,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                        lineNumber: 258,\n                        columnNumber: 13\n                    }, this),\n                    party && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"party-section\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-label\",\n                                children: \"Current Party\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-pill\",\n                                children: [\n                                    party.name,\n                                    \" (\",\n                                    partySize,\n                                    \"/\",\n                                    partyCap ?? \"?\",\n                                    \") \",\n                                    party.is_private ? \" Private\" : \" Public\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 281,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-meta\",\n                                children: [\n                                    \"Party ID: \",\n                                    party.id\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 282,\n                                columnNumber: 15\n                            }, this),\n                            party.is_private && party.join_code && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-meta\",\n                                children: [\n                                    \"Join code: \",\n                                    party.join_code\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 55\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: leaveParty,\n                                        children: \"Leave\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: ()=>loadParty(party.id),\n                                        children: \"Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                        lineNumber: 279,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"party-section\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-label\",\n                                children: \"Public Parties\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 292,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-list\",\n                                children: [\n                                    parties.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-meta\",\n                                        children: \"No public parties yet.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 294,\n                                        columnNumber: 40\n                                    }, this),\n                                    parties.map((p)=>{\n                                        const cap = p.max_players || 2;\n                                        const count = p.member_count || 0;\n                                        const full = count >= cap;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"secondary\",\n                                            onClick: ()=>joinParty(p.id),\n                                            disabled: full,\n                                            children: [\n                                                p.name,\n                                                \" (\",\n                                                count,\n                                                \"/\",\n                                                cap,\n                                                \") \",\n                                                full ? \" Full\" : \"\"\n                                            ]\n                                        }, p.id, true, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                            lineNumber: 300,\n                                            columnNumber: 19\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 293,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                        lineNumber: 291,\n                        columnNumber: 11\n                    }, this),\n                    party && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-label\",\n                                        children: \"Members\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 311,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-list\",\n                                        children: members.map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"party-meta\",\n                                                children: m.username\n                                            }, m.user_id, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                lineNumber: 314,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 312,\n                                        columnNumber: 17\n                                    }, this),\n                                    online.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-meta\",\n                                        children: [\n                                            \"Online: \",\n                                            online.map((p)=>p.name).join(\", \")\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 318,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 310,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-label\",\n                                        children: \"Party Chat\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 322,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-chat\",\n                                        children: [\n                                            chatLog.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"party-meta\",\n                                                children: \"No messages yet.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                lineNumber: 324,\n                                                columnNumber: 44\n                                            }, this),\n                                            chatLog.map((line, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"party-meta\",\n                                                    children: line\n                                                }, idx, false, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                    lineNumber: 326,\n                                                    columnNumber: 21\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 323,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-row\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: chatInput,\n                                                onChange: (e)=>setChatInput(e.target.value),\n                                                placeholder: \"message\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                lineNumber: 330,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: sendChat,\n                                                children: \"Send\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                lineNumber: 331,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 329,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"party-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-label\",\n                                        children: \"Vote Game\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 335,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-meta\",\n                                        children: [\n                                            \"Showing multiplayer games that fit \",\n                                            partySize || 2,\n                                            \" players.\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-list\",\n                                        children: [\n                                            games.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"party-meta\",\n                                                children: \"No eligible games found.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                lineNumber: 338,\n                                                columnNumber: 42\n                                            }, this),\n                                            games.map((g)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"party-game\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"party-meta\",\n                                                                    style: {\n                                                                        fontWeight: 700\n                                                                    },\n                                                                    children: g.title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                                    lineNumber: 342,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"party-meta\",\n                                                                    children: [\n                                                                        \"Max: \",\n                                                                        g.max_players || \"?\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                                    lineNumber: 343,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                            lineNumber: 341,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"party-row\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"secondary\",\n                                                                    onClick: ()=>vote(g.id),\n                                                                    children: [\n                                                                        \"Vote (\",\n                                                                        votes[g.id] || 0,\n                                                                        \")\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                                    lineNumber: 346,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                    className: \"secondary\",\n                                                                    href: `/games/${g.id}`,\n                                                                    children: \"Open\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                                    lineNumber: 347,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                            lineNumber: 345,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, g.id, true, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                                    lineNumber: 340,\n                                                    columnNumber: 21\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"party-row\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"secondary\",\n                                            onClick: launchTopGame,\n                                            disabled: !topGameId || launching,\n                                            children: topGameId ? `Launch Top: ${topGame?.title || topGameId}` : \"Launch Top\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                            lineNumber: 353,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                        lineNumber: 352,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                                lineNumber: 334,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n                lineNumber: 255,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx\",\n        lineNumber: 250,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0IsVUFBVSxDQUFDOUIsYUFBYWhGO3NEQUMzRWdGLFlBQVksQ0FBQyxZQUFZLEVBQUVPLFNBQVNtQyxTQUFTMUMsVUFBVSxDQUFDLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVaEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLy4vY29tcG9uZW50cy9QYXJ0eVNpZGViYXIudHN4PzNiNTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBBUEkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMID8/IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCI7XG5cbnR5cGUgUGFydHkgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgaXNfcHJpdmF0ZTogYm9vbGVhbjtcbiAgam9pbl9jb2RlPzogc3RyaW5nIHwgbnVsbDtcbiAgbWF4X3BsYXllcnM/OiBudW1iZXIgfCBudWxsO1xuICBtZW1iZXJfY291bnQ/OiBudW1iZXIgfCBudWxsO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgUGFydHlNZW1iZXIgPSB7XG4gIHVzZXJfaWQ6IG51bWJlcjtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgam9pbmVkX2F0Pzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgUGFydHlEZXRhaWwgPSB7XG4gIHBhcnR5OiBQYXJ0eTtcbiAgbWVtYmVyczogUGFydHlNZW1iZXJbXTtcbn07XG5cbnR5cGUgR2FtZSA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbXVsdGlwbGF5ZXI/OiBib29sZWFuO1xuICBtYXhfcGxheWVycz86IG51bWJlciB8IG51bGw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXJ0eVNpZGViYXIoKSB7XG4gIGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21lLCBzZXRNZV0gPSB1c2VTdGF0ZTxhbnkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BhcnRpZXMsIHNldFBhcnRpZXNdID0gdXNlU3RhdGU8UGFydHlbXT4oW10pO1xuICBjb25zdCBbcGFydHlJZCwgc2V0UGFydHlJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BhcnR5LCBzZXRQYXJ0eV0gPSB1c2VTdGF0ZTxQYXJ0eSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWVtYmVycywgc2V0TWVtYmVyc10gPSB1c2VTdGF0ZTxQYXJ0eU1lbWJlcltdPihbXSk7XG4gIGNvbnN0IFtvbmxpbmUsIHNldE9ubGluZV0gPSB1c2VTdGF0ZTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9W10+KFtdKTtcbiAgY29uc3QgW3ZvdGVzLCBzZXRWb3Rlc10gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBudW1iZXI+Pih7fSk7XG4gIGNvbnN0IFtnYW1lcywgc2V0R2FtZXNdID0gdXNlU3RhdGU8R2FtZVtdPihbXSk7XG4gIGNvbnN0IFtjcmVhdGVOYW1lLCBzZXRDcmVhdGVOYW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3JlYXRlUHJpdmF0ZSwgc2V0Q3JlYXRlUHJpdmF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjcmVhdGVNYXgsIHNldENyZWF0ZU1heF0gPSB1c2VTdGF0ZSgyKTtcbiAgY29uc3QgW2pvaW5QYXJ0eUlkLCBzZXRKb2luUGFydHlJZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2pvaW5Db2RlLCBzZXRKb2luQ29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NoYXRJbnB1dCwgc2V0Q2hhdElucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2hhdExvZywgc2V0Q2hhdExvZ10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCB3c1JlZiA9IHVzZVJlZjxXZWJTb2NrZXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xhdW5jaGluZywgc2V0TGF1bmNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBjbGllbnRJZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gXCJnZi1jbGllbnRcIjtcbiAgICBjb25zdCBrZXkgPSBcImdmX2NsaWVudF9pZFwiO1xuICAgIGxldCBpZCA9IFwiXCI7XG4gICAgdHJ5IHsgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCBcIlwiOyB9IGNhdGNoIHt9XG4gICAgaWYgKCFpZCkge1xuICAgICAgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICAgICAgdHJ5IHsgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgaWQpOyB9IGNhdGNoIHt9XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2F2ZWQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ2ZfcGFydHlfaWRcIikgOiBudWxsO1xuICAgIGlmIChzYXZlZCkgc2V0UGFydHlJZChzYXZlZCk7XG4gICAgbG9hZE1lKCk7XG4gICAgbG9hZFBhcnRpZXMoKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwYXJ0eUlkKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImdmX3BhcnR5X2lkXCIsIHBhcnR5SWQpO1xuICAgIGxvYWRQYXJ0eShwYXJ0eUlkKTtcbiAgICBsb2FkVm90ZXMocGFydHlJZCk7XG4gICAgY29ubmVjdFBhcnR5Q2hhdChwYXJ0eUlkKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd3NSZWYuY3VycmVudD8uY2xvc2UoKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH07XG4gIH0sIFtwYXJ0eUlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXBhcnR5KSByZXR1cm47XG4gICAgY29uc3Qgc2l6ZSA9IG1lbWJlcnMubGVuZ3RoIHx8IDE7XG4gICAgbG9hZEdhbWVzKHNpemUpO1xuICB9LCBbcGFydHksIG1lbWJlcnNdKTtcblxuICBhc3luYyBmdW5jdGlvbiBsb2FkTWUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vYXV0aC9tZWAsIHsgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBzZXRNZShkYXRhKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkUGFydGllcygpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L3BhcnRpZXNgKTtcbiAgICBpZiAoIXJlcy5vaykgcmV0dXJuO1xuICAgIHNldFBhcnRpZXMoYXdhaXQgcmVzLmpzb24oKSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkUGFydHkoaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vcGFydGllcy8ke2lkfWAsIHsgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiIH0pO1xuICAgIGlmICghcmVzLm9rKSByZXR1cm47XG4gICAgY29uc3QgZGV0YWlsOiBQYXJ0eURldGFpbCA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgc2V0UGFydHkoZGV0YWlsLnBhcnR5KTtcbiAgICBzZXRNZW1iZXJzKGRldGFpbC5tZW1iZXJzIHx8IFtdKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRWb3RlcyhpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9wYXJ0aWVzLyR7aWR9L3ZvdGVzYCk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICBjb25zdCByb3dzOiB7IGdhbWVfaWQ6IG51bWJlcjsgdm90ZXM6IG51bWJlciB9W10gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPG51bWJlciwgbnVtYmVyPiA9IHt9O1xuICAgIHJvd3MuZm9yRWFjaCgocikgPT4gKG1hcFtyLmdhbWVfaWRdID0gci52b3RlcykpO1xuICAgIHNldFZvdGVzKG1hcCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkR2FtZXMobWluUGxheWVyczogbnVtYmVyKSB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIHBhcmFtcy5zZXQoXCJtdWx0aXBsYXllclwiLCBcInRydWVcIik7XG4gICAgcGFyYW1zLnNldChcIm1pbl9wbGF5ZXJzXCIsIFN0cmluZyhtaW5QbGF5ZXJzKSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcz8ke3BhcmFtcy50b1N0cmluZygpfWApO1xuICAgIGlmICghcmVzLm9rKSByZXR1cm47XG4gICAgY29uc3QgZGF0YTogR2FtZVtdID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBzZXRHYW1lcyhkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVBhcnR5KCkge1xuICAgIGlmICghbWUpIHtcbiAgICAgIGFsZXJ0KFwiTG9nIGluIHRvIGNyZWF0ZSBhIHBhcnR5LlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjcmVhdGVOYW1lLnRyaW0oKSkgcmV0dXJuO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vcGFydGllc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGNyZWF0ZU5hbWUudHJpbSgpLCBpc19wcml2YXRlOiBjcmVhdGVQcml2YXRlLCBtYXhfcGxheWVyczogY3JlYXRlTWF4IH0pXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICBjb25zdCBkYXRhOiBQYXJ0eSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgc2V0UGFydHlJZChkYXRhLmlkKTtcbiAgICBzZXRDcmVhdGVOYW1lKFwiXCIpO1xuICAgIHNldEpvaW5Db2RlKFwiXCIpO1xuICAgIGxvYWRQYXJ0aWVzKCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBqb2luUGFydHkoaWQ6IHN0cmluZywgY29kZT86IHN0cmluZykge1xuICAgIGlmICghbWUpIHtcbiAgICAgIGFsZXJ0KFwiTG9nIGluIHRvIGpvaW4gYSBwYXJ0eS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vcGFydGllcy8ke2lkfS9qb2luYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29kZTogY29kZSB8fCBudWxsIH0pXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICBzZXRQYXJ0eUlkKGlkKTtcbiAgICBsb2FkUGFydGllcygpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbGVhdmVQYXJ0eSgpIHtcbiAgICBpZiAoIXBhcnR5SWQpIHJldHVybjtcbiAgICBhd2FpdCBmZXRjaChgJHtBUEl9L3BhcnRpZXMvJHtwYXJ0eUlkfS9sZWF2ZWAsIHsgbWV0aG9kOiBcIlBPU1RcIiwgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiIH0pO1xuICAgIHNldFBhcnR5SWQobnVsbCk7XG4gICAgc2V0UGFydHkobnVsbCk7XG4gICAgc2V0TWVtYmVycyhbXSk7XG4gICAgc2V0T25saW5lKFtdKTtcbiAgICBzZXRDaGF0TG9nKFtdKTtcbiAgICBzZXRWb3Rlcyh7fSk7XG4gICAgd3NSZWYuY3VycmVudD8uY2xvc2UoKTtcbiAgICB3c1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbm5lY3RQYXJ0eUNoYXQoaWQ6IHN0cmluZykge1xuICAgIHdzUmVmLmN1cnJlbnQ/LmNsb3NlKCk7XG4gICAgY29uc3Qgd3NVcmwgPSBBUEkucmVwbGFjZShcImh0dHA6Ly9cIiwgXCJ3czovL1wiKS5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJ3c3M6Ly9cIik7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIHBhcmFtcy5zZXQoXCJjbGllbnRfaWRcIiwgY2xpZW50SWQpO1xuICAgIGlmIChtZT8udXNlcm5hbWUpIHBhcmFtcy5zZXQoXCJuYW1lXCIsIG1lLnVzZXJuYW1lKTtcbiAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoYCR7d3NVcmx9L3dzL3BhcnR5LSR7ZW5jb2RlVVJJQ29tcG9uZW50KGlkKX0/JHtwYXJhbXMudG9TdHJpbmcoKX1gKTtcbiAgICB3c1JlZi5jdXJyZW50ID0gd3M7XG4gICAgd3Mub25tZXNzYWdlID0gKGV2dCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShldnQuZGF0YSk7XG4gICAgICAgIGlmIChtc2cudHlwZSA9PT0gXCJyb29tX3N0YXRlXCIpIHtcbiAgICAgICAgICBjb25zdCBsaXN0ID0gKG1zZy5wbGF5ZXJzIHx8IFtdKS5tYXAoKHA6IGFueSkgPT4gKHsgaWQ6IHAuaWQsIG5hbWU6IHAubmFtZSB8fCBcIlBsYXllclwiIH0pKTtcbiAgICAgICAgICBzZXRPbmxpbmUobGlzdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cudHlwZSA9PT0gXCJjaGF0XCIpIHtcbiAgICAgICAgICBzZXRDaGF0TG9nKChwcmV2KSA9PiBbYCR7bXNnLm5hbWUgfHwgXCJQbGF5ZXJcIn06ICR7bXNnLnRleHR9YCwgLi4ucHJldl0uc2xpY2UoMCwgNDApKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZy50eXBlID09PSBcImxhdW5jaFwiICYmIG1zZy5nYW1lX2lkKSB7XG4gICAgICAgICAgY29uc3QgZ2FtZUlkID0gbXNnLmdhbWVfaWQ7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3BsYXkvJHtnYW1lSWR9YDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2VuZENoYXQoKSB7XG4gICAgY29uc3Qgd3MgPSB3c1JlZi5jdXJyZW50O1xuICAgIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gMSB8fCAhY2hhdElucHV0LnRyaW0oKSkgcmV0dXJuO1xuICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNoYXRcIiwgbmFtZTogbWU/LnVzZXJuYW1lIHx8IFwiUGxheWVyXCIsIHRleHQ6IGNoYXRJbnB1dC50cmltKCkgfSkpO1xuICAgIHNldENoYXRJbnB1dChcIlwiKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHZvdGUoZ2FtZUlkOiBudW1iZXIpIHtcbiAgICBpZiAoIXBhcnR5SWQpIHJldHVybjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L3BhcnRpZXMvJHtwYXJ0eUlkfS92b3RlYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZ2FtZV9pZDogZ2FtZUlkIH0pXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vaykgbG9hZFZvdGVzKHBhcnR5SWQpO1xuICB9XG5cbiAgY29uc3QgcGFydHlTaXplID0gbWVtYmVycy5sZW5ndGggfHwgMDtcbiAgY29uc3QgcGFydHlDYXAgPSBwYXJ0eT8ubWF4X3BsYXllcnMgPz8gbnVsbDtcbiAgY29uc3QgdG9wR2FtZUlkID0gT2JqZWN0LmVudHJpZXModm90ZXMpXG4gICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKVxuICAgIC5tYXAoKFtpZF0pID0+IE51bWJlcihpZCkpWzBdO1xuICBjb25zdCB0b3BHYW1lID0gZ2FtZXMuZmluZCgoZykgPT4gZy5pZCA9PT0gdG9wR2FtZUlkKTtcblxuICBmdW5jdGlvbiBsYXVuY2hUb3BHYW1lKCkge1xuICAgIGlmICghcGFydHlJZCB8fCAhdG9wR2FtZUlkKSByZXR1cm47XG4gICAgY29uc3Qgd3MgPSB3c1JlZi5jdXJyZW50O1xuICAgIGlmICh3cyAmJiB3cy5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICBzZXRMYXVuY2hpbmcodHJ1ZSk7XG4gICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJsYXVuY2hcIiwgZ2FtZV9pZDogdG9wR2FtZUlkIH0pKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0TGF1bmNoaW5nKGZhbHNlKSwgODAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3BsYXkvJHt0b3BHYW1lSWR9YDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcGFydHktc2lkZWJhciAke29wZW4gPyBcIm9wZW5cIiA6IFwiXCJ9YH0+XG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInBhcnR5LXRvZ2dsZVwiIG9uQ2xpY2s9eygpID0+IHNldE9wZW4oKHYpID0+ICF2KX0+XG4gICAgICAgIHtvcGVuID8gXCJDbG9zZSBQYXJ0eVwiIDogXCJQYXJ0eVwifVxuICAgICAgPC9idXR0b24+XG4gICAgICB7b3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktcGFuZWxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LXRpdGxlXCI+UGFydHk8L2Rpdj5cbiAgICAgICAgICB7IXBhcnR5ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktc2VjdGlvblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LWxhYmVsXCI+Q3JlYXRlIFBhcnR5PC9kaXY+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17Y3JlYXRlTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXRDcmVhdGVOYW1lKGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJQYXJ0eSBuYW1lXCIgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1yb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e2NyZWF0ZVByaXZhdGV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3JlYXRlUHJpdmF0ZShlLnRhcmdldC5jaGVja2VkKX0gLz4gUHJpdmF0ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17U3RyaW5nKGNyZWF0ZU1heCl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENyZWF0ZU1heChNYXRoLm1heCgyLCBwYXJzZUludChlLnRhcmdldC52YWx1ZSB8fCBcIjJcIiwgMTApIHx8IDIpKX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiA2MCB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2NyZWF0ZVBhcnR5fT5DcmVhdGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1sYWJlbFwiIHN0eWxlPXt7IG1hcmdpblRvcDogMTAgfX0+Sm9pbiBQcml2YXRlPC9kaXY+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17am9pblBhcnR5SWR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0Sm9pblBhcnR5SWQoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlBhcnR5IElEXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtqb2luQ29kZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXRKb2luQ29kZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiSm9pbiBjb2RlXCIgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXsoKSA9PiBqb2luUGFydHkoam9pblBhcnR5SWQudHJpbSgpLCBqb2luQ29kZSl9IGRpc2FibGVkPXsham9pblBhcnR5SWQudHJpbSgpIHx8ICFqb2luQ29kZS50cmltKCl9PlxuICAgICAgICAgICAgICAgIEpvaW4gUHJpdmF0ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3BhcnR5ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktc2VjdGlvblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LWxhYmVsXCI+Q3VycmVudCBQYXJ0eTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LXBpbGxcIj57cGFydHkubmFtZX0gKHtwYXJ0eVNpemV9L3twYXJ0eUNhcCA/PyBcIj9cIn0pIHtwYXJ0eS5pc19wcml2YXRlID8gXCLigKIgUHJpdmF0ZVwiIDogXCLigKIgUHVibGljXCJ9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktbWV0YVwiPlBhcnR5IElEOiB7cGFydHkuaWR9PC9kaXY+XG4gICAgICAgICAgICAgIHtwYXJ0eS5pc19wcml2YXRlICYmIHBhcnR5LmpvaW5fY29kZSAmJiA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LW1ldGFcIj5Kb2luIGNvZGU6IHtwYXJ0eS5qb2luX2NvZGV9PC9kaXY+fVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LXJvd1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17bGVhdmVQYXJ0eX0+TGVhdmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9eygpID0+IGxvYWRQYXJ0eShwYXJ0eS5pZCl9PlJlZnJlc2g8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LWxhYmVsXCI+UHVibGljIFBhcnRpZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktbGlzdFwiPlxuICAgICAgICAgICAgICB7cGFydGllcy5sZW5ndGggPT09IDAgJiYgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1tZXRhXCI+Tm8gcHVibGljIHBhcnRpZXMgeWV0LjwvZGl2Pn1cbiAgICAgICAgICAgICAge3BhcnRpZXMubWFwKChwKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FwID0gcC5tYXhfcGxheWVycyB8fCAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gcC5tZW1iZXJfY291bnQgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsID0gY291bnQgPj0gY2FwO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17cC5pZH0gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17KCkgPT4gam9pblBhcnR5KHAuaWQpfSBkaXNhYmxlZD17ZnVsbH0+XG4gICAgICAgICAgICAgICAgICAgIHtwLm5hbWV9ICh7Y291bnR9L3tjYXB9KSB7ZnVsbCA/IFwi4oCiIEZ1bGxcIiA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge3BhcnR5ICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktbGFiZWxcIj5NZW1iZXJzPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1saXN0XCI+XG4gICAgICAgICAgICAgICAgICB7bWVtYmVycy5tYXAoKG0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e20udXNlcl9pZH0gY2xhc3NOYW1lPVwicGFydHktbWV0YVwiPnttLnVzZXJuYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge29ubGluZS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktbWV0YVwiPk9ubGluZToge29ubGluZS5tYXAoKHApID0+IHAubmFtZSkuam9pbihcIiwgXCIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LWxhYmVsXCI+UGFydHkgQ2hhdDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktY2hhdFwiPlxuICAgICAgICAgICAgICAgICAge2NoYXRMb2cubGVuZ3RoID09PSAwICYmIDxkaXYgY2xhc3NOYW1lPVwicGFydHktbWV0YVwiPk5vIG1lc3NhZ2VzIHlldC48L2Rpdj59XG4gICAgICAgICAgICAgICAgICB7Y2hhdExvZy5tYXAoKGxpbmUsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJwYXJ0eS1tZXRhXCI+e2xpbmV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LXJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtjaGF0SW5wdXR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q2hhdElucHV0KGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJtZXNzYWdlXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17c2VuZENoYXR9PlNlbmQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktbGFiZWxcIj5Wb3RlIEdhbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LW1ldGFcIj5TaG93aW5nIG11bHRpcGxheWVyIGdhbWVzIHRoYXQgZml0IHtwYXJ0eVNpemUgfHwgMn0gcGxheWVycy48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LWxpc3RcIj5cbiAgICAgICAgICAgICAgICAgIHtnYW1lcy5sZW5ndGggPT09IDAgJiYgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1tZXRhXCI+Tm8gZWxpZ2libGUgZ2FtZXMgZm91bmQuPC9kaXY+fVxuICAgICAgICAgICAgICAgICAge2dhbWVzLm1hcCgoZykgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Zy5pZH0gY2xhc3NOYW1lPVwicGFydHktZ2FtZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LW1ldGFcIiBzdHlsZT17eyBmb250V2VpZ2h0OiA3MDAgfX0+e2cudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnR5LW1ldGFcIj5NYXg6IHtnLm1heF9wbGF5ZXJzIHx8IFwiP1wifTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydHktcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9eygpID0+IHZvdGUoZy5pZCl9PlZvdGUgKHt2b3Rlc1tnLmlkXSB8fCAwfSk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIGhyZWY9e2AvZ2FtZXMvJHtnLmlkfWB9Pk9wZW48L2E+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0eS1yb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17bGF1bmNoVG9wR2FtZX0gZGlzYWJsZWQ9eyF0b3BHYW1lSWQgfHwgbGF1bmNoaW5nfT5cbiAgICAgICAgICAgICAgICAgICAge3RvcEdhbWVJZCA/IGBMYXVuY2ggVG9wOiAke3RvcEdhbWU/LnRpdGxlIHx8IHRvcEdhbWVJZH1gIDogXCJMYXVuY2ggVG9wXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiQVBJIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJQYXJ0eVNpZGViYXIiLCJvcGVuIiwic2V0T3BlbiIsIm1lIiwic2V0TWUiLCJwYXJ0aWVzIiwic2V0UGFydGllcyIsInBhcnR5SWQiLCJzZXRQYXJ0eUlkIiwicGFydHkiLCJzZXRQYXJ0eSIsIm1lbWJlcnMiLCJzZXRNZW1iZXJzIiwib25saW5lIiwic2V0T25saW5lIiwidm90ZXMiLCJzZXRWb3RlcyIsImdhbWVzIiwic2V0R2FtZXMiLCJjcmVhdGVOYW1lIiwic2V0Q3JlYXRlTmFtZSIsImNyZWF0ZVByaXZhdGUiLCJzZXRDcmVhdGVQcml2YXRlIiwiY3JlYXRlTWF4Iiwic2V0Q3JlYXRlTWF4Iiwiam9pblBhcnR5SWQiLCJzZXRKb2luUGFydHlJZCIsImpvaW5Db2RlIiwic2V0Sm9pbkNvZGUiLCJjaGF0SW5wdXQiLCJzZXRDaGF0SW5wdXQiLCJjaGF0TG9nIiwic2V0Q2hhdExvZyIsIndzUmVmIiwibGF1bmNoaW5nIiwic2V0TGF1bmNoaW5nIiwiY2xpZW50SWQiLCJrZXkiLCJpZCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsInNldEl0ZW0iLCJzYXZlZCIsImxvYWRNZSIsImxvYWRQYXJ0aWVzIiwibG9hZFBhcnR5IiwibG9hZFZvdGVzIiwiY29ubmVjdFBhcnR5Q2hhdCIsImN1cnJlbnQiLCJjbG9zZSIsInNpemUiLCJsZW5ndGgiLCJsb2FkR2FtZXMiLCJyZXMiLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwiZGF0YSIsImpzb24iLCJvayIsImRldGFpbCIsInJvd3MiLCJtYXAiLCJmb3JFYWNoIiwiciIsImdhbWVfaWQiLCJtaW5QbGF5ZXJzIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2V0IiwiU3RyaW5nIiwiY3JlYXRlUGFydHkiLCJhbGVydCIsInRyaW0iLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiaXNfcHJpdmF0ZSIsIm1heF9wbGF5ZXJzIiwiam9pblBhcnR5IiwiY29kZSIsImxlYXZlUGFydHkiLCJ3c1VybCIsInJlcGxhY2UiLCJ1c2VybmFtZSIsIndzIiwiV2ViU29ja2V0IiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwib25tZXNzYWdlIiwiZXZ0IiwibXNnIiwicGFyc2UiLCJ0eXBlIiwibGlzdCIsInBsYXllcnMiLCJwIiwicHJldiIsInRleHQiLCJnYW1lSWQiLCJsb2NhdGlvbiIsImhyZWYiLCJzZW5kQ2hhdCIsInJlYWR5U3RhdGUiLCJzZW5kIiwidm90ZSIsInBhcnR5U2l6ZSIsInBhcnR5Q2FwIiwidG9wR2FtZUlkIiwiT2JqZWN0IiwiZW50cmllcyIsInNvcnQiLCJhIiwiYiIsIk51bWJlciIsInRvcEdhbWUiLCJmaW5kIiwiZyIsImxhdW5jaFRvcEdhbWUiLCJzZXRUaW1lb3V0IiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsInYiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJsYWJlbCIsImNoZWNrZWQiLCJtYXgiLCJwYXJzZUludCIsInN0eWxlIiwid2lkdGgiLCJtYXJnaW5Ub3AiLCJkaXNhYmxlZCIsImpvaW5fY29kZSIsImNhcCIsImNvdW50IiwibWVtYmVyX2NvdW50IiwiZnVsbCIsIm0iLCJ1c2VyX2lkIiwiam9pbiIsImxpbmUiLCJpZHgiLCJmb250V2VpZ2h0IiwidGl0bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/PartySidebar.tsx\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"e6abc5f59a1b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLy4vYXBwL2dsb2JhbHMuY3NzPzQ0NmYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJlNmFiYzVmNTlhMWJcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/games/[id]/page.tsx":
/*!*********************************!*\
  !*** ./app/games/[id]/page.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_PartySidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PartySidebar */ \"(rsc)/./components/PartySidebar.tsx\");\n\n\n\nconst metadata = {\n    title: \"Game Factory\",\n    description: \"Create, play, and share AI-generated games\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"app-shell\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"topbar\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                className: \"logo\",\n                                href: \"/\",\n                                children: \"Game Factory\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                lineNumber: 16,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                                className: \"top-nav\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/\",\n                                        children: \"Create\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 18,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/help\",\n                                        children: \"Help\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 19,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/account\",\n                                        children: \"Account\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 20,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                lineNumber: 17,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                        lineNumber: 15,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PartySidebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                        lineNumber: 23,\n                        columnNumber: 11\n                    }, this),\n                    children,\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                        className: \"footer\",\n                        children: \"Built for rapid game magic. No Docker required.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                        lineNumber: 25,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                lineNumber: 14,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n            lineNumber: 13,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVCO0FBRStCO0FBRS9DLE1BQU1DLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDO3NCQUNDLDRFQUFDQztnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNDO3dCQUFPRCxXQUFVOzswQ0FDaEIsOERBQUNFO2dDQUFFRixXQUFVO2dDQUFPRyxNQUFLOzBDQUFJOzs7Ozs7MENBQzdCLDhEQUFDQztnQ0FBSUosV0FBVTs7a0RBQ2IsOERBQUNFO3dDQUFFQyxNQUFLO2tEQUFJOzs7Ozs7a0RBQ1osOERBQUNEO3dDQUFFQyxNQUFLO2tEQUFROzs7Ozs7a0RBQ2hCLDhEQUFDRDt3Q0FBRUMsTUFBSztrREFBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQUd2Qiw4REFBQ2IsZ0VBQVlBOzs7OztvQkFDWks7a0NBQ0QsOERBQUNVO3dCQUFPTCxXQUFVO2tDQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FtZS1mYWN0b3J5LXdlYi8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuaW1wb3J0IHR5cGUgeyBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQYXJ0eVNpZGViYXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvUGFydHlTaWRlYmFyXCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcbiAgdGl0bGU6IFwiR2FtZSBGYWN0b3J5XCIsXG4gIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSwgcGxheSwgYW5kIHNoYXJlIEFJLWdlbmVyYXRlZCBnYW1lc1wiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8aHRtbCBsYW5nPVwiZW5cIj5cbiAgICAgIDxib2R5PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1zaGVsbFwiPlxuICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwidG9wYmFyXCI+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJsb2dvXCIgaHJlZj1cIi9cIj5HYW1lIEZhY3Rvcnk8L2E+XG4gICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cInRvcC1uYXZcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIi9cIj5DcmVhdGU8L2E+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIvaGVscFwiPkhlbHA8L2E+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIvYWNjb3VudFwiPkFjY291bnQ8L2E+XG4gICAgICAgICAgICA8L25hdj5cbiAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgICA8UGFydHlTaWRlYmFyIC8+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwiZm9vdGVyXCI+QnVpbHQgZm9yIHJhcGlkIGdhbWUgbWFnaWMuIE5vIERvY2tlciByZXF1aXJlZC48L2Zvb3Rlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlBhcnR5U2lkZWJhciIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImEiLCJocmVmIiwibmF2IiwiZm9vdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./components/PartySidebar.tsx":
/*!*************************************!*\
  !*** ./components/PartySidebar.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/jarjarbeatu/Documents/Arcadia/apps/web/components/PartySidebar.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();