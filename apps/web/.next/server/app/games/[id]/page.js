/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/games/[id]/page";
exports.ids = ["app/games/[id]/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?9d97\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'games',\n        {\n        children: [\n        '[id]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/games/[id]/page.tsx */ \"(rsc)/./app/games/[id]/page.tsx\")), \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/games/[id]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/games/[id]/page\",\n        pathname: \"/games/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZnYW1lcyUyRiU1QmlkJTVEJTJGcGFnZSZwYWdlPSUyRmdhbWVzJTJGJTVCaWQlNUQlMkZwYWdlJmFwcFBhdGhzPSUyRmdhbWVzJTJGJTVCaWQlNUQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGZ2FtZXMlMkYlNUJpZCU1RCUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRmphcmphcmJlYXR1JTJGRG9jdW1lbnRzJTJGQXJjYWRpYSUyRmFwcHMlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsOEpBQTBHO0FBQ2pJO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQWlHO0FBQzFILG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLz8yOTJkIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2dhbWVzJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW2lkXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXJqYXJiZWF0dS9Eb2N1bWVudHMvQXJjYWRpYS9hcHBzL3dlYi9hcHAvZ2FtZXMvW2lkXS9wYWdlLnRzeFwiKSwgXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvYXBwL2dhbWVzL1tpZF0vcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL2FwcC9sYXlvdXQudHN4XCIpLCBcIi9Vc2Vycy9qYXJqYXJiZWF0dS9Eb2N1bWVudHMvQXJjYWRpYS9hcHBzL3dlYi9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL2FwcC9nYW1lcy9baWRdL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvZ2FtZXMvW2lkXS9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL2dhbWVzL1tpZF0vcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvZ2FtZXMvW2lkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fgames%2F%5Bid%5D%2Fpage.tsx&server=true!":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fgames%2F%5Bid%5D%2Fpage.tsx&server=true! ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/games/[id]/page.tsx */ \"(ssr)/./app/games/[id]/page.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGYXBwJTJGZ2FtZXMlMkYlNUJpZCU1RCUyRnBhZ2UudHN4JnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWUtZmFjdG9yeS13ZWIvP2RiMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvYXBwL2dhbWVzL1tpZF0vcGFnZS50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fgames%2F%5Bid%5D%2Fpage.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fglobals.css&server=true!":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp%2Fglobals.css&server=true! ***!
  \********************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGYXBwLXJvdXRlci5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmVycm9yLWJvdW5kYXJ5LmpzJm1vZHVsZXM9JTJGVXNlcnMlMkZqYXJqYXJiZWF0dSUyRkRvY3VtZW50cyUyRkFyY2FkaWElMkZhcHBzJTJGd2ViJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGamFyamFyYmVhdHUlMkZEb2N1bWVudHMlMkZBcmNhZGlhJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMmbW9kdWxlcz0lMkZVc2VycyUyRmphcmphcmJlYXR1JTJGRG9jdW1lbnRzJTJGQXJjYWRpYSUyRmFwcHMlMkZ3ZWIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXlJO0FBQ3pJLDBPQUE2STtBQUM3SSx3T0FBNEk7QUFDNUksa1BBQWlKO0FBQ2pKLHNRQUEySjtBQUMzSiIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWUtZmFjdG9yeS13ZWIvPzE5YTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phcmphcmJlYXR1L0RvY3VtZW50cy9BcmNhZGlhL2FwcHMvd2ViL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamFyamFyYmVhdHUvRG9jdW1lbnRzL0FyY2FkaWEvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qc1wiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/games/[id]/page.tsx":
/*!*********************************!*\
  !*** ./app/games/[id]/page.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst API = \"http://localhost:8000\" ?? 0;\nfunction GamePage({ params }) {\n    const [game, setGame] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [instruction, setInstruction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editing, setEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [versions, setVersions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showAllVersions, setShowAllVersions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedVersion, setSelectedVersion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [manualCode, setManualCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [previewErrors, setPreviewErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [comment, setComment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [comments, setComments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [votes, setVotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [me, setMe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [perfMode, setPerfMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isOwner = me && game && me.id === game.creator_id;\n    function withAIHelper(code) {\n        const wsUrl = API.replace(\"http://\", \"ws://\").replace(\"https://\", \"wss://\");\n        const helper = `\n<script>\n(() => {\n  const perf = ${perfMode ? \"true\" : \"false\"};\n  window.__GF_PERF_MODE = perf;\n  if (perf) {\n    const dpr = window.devicePixelRatio || 1;\n    try {\n      Object.defineProperty(window, 'devicePixelRatio', { get: () => Math.min(1, dpr), configurable: true });\n    } catch {}\n  }\n})();\nwindow.GameFactoryAI = async function(prompt, system, timeoutMs=8000){\n  const controller = new AbortController();\n  const timer = setTimeout(()=>controller.abort(), timeoutMs);\n  try{\n    const res = await fetch(\"${API}/ai\", {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({ prompt, system }),\n      signal: controller.signal\n    });\n    const data = await res.json();\n    return data.content || \"\";\n  } finally {\n    clearTimeout(timer);\n  }\n};\nwindow.GameFactoryMultiplayer = function(roomId){\n  const ws = new WebSocket(\"${wsUrl}/ws/\" + encodeURIComponent(roomId || \"lobby\"));\n  const handlers = [];\n  ws.onmessage = (evt) => {\n    handlers.forEach((fn) => fn(evt.data));\n  };\n  return {\n    send: (data) => {\n      if (ws.readyState === 1) ws.send(typeof data === \"string\" ? data : JSON.stringify(data));\n    },\n    onMessage: (fn) => handlers.push(fn),\n    disconnect: () => ws.close()\n  };\n};\nwindow.GameFactoryKit = (function(){\n  const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));\n  const lerp = (a,b,t)=>a+(b-a)*t;\n  const map = (v,inMin,inMax,outMin,outMax)=>outMin+(outMax-outMin)*((v-inMin)/(inMax-inMin));\n  const rand = (min=0,max=1)=>Math.random()*(max-min)+min;\n  const choice = (arr)=>arr[Math.floor(Math.random()*arr.length)];\n  const now = ()=>performance.now();\n  const easing = {\n    linear:t=>t,\n    inQuad:t=>t*t,\n    outQuad:t=>t*(2-t),\n    inOutQuad:t=>t<0.5?2*t*t:-1+(4-2*t)*t\n  };\n  const tween = (obj, prop, to, duration, ease=easing.inOutQuad) => {\n    const from = obj[prop];\n    const start = now();\n    return new Promise((resolve)=>{\n      function tick(){\n        const t = Math.min(1, (now()-start)/duration);\n        obj[prop] = from + (to-from)*ease(t);\n        if (t<1) requestAnimationFrame(tick); else resolve(true);\n      }\n      tick();\n    });\n  };\n  const storage = {\n    save:(key,val)=>localStorage.setItem(key,JSON.stringify(val)),\n    load:(key,def=null)=>{ try{const v=localStorage.getItem(key); return v?JSON.parse(v):def;}catch{return def;} },\n    slotSave:(slot,val)=>localStorage.setItem(\"gf_slot_\"+slot,JSON.stringify(val)),\n    slotLoad:(slot,def=null)=>{ try{const v=localStorage.getItem(\"gf_slot_\"+slot); return v?JSON.parse(v):def;}catch{return def;} }\n  };\n  const input = (function(){\n    const keys = {};\n    const mouse = {x:0,y:0,down:false};\n    window.addEventListener('keydown',e=>keys[e.key]=true);\n    window.addEventListener('keyup',e=>keys[e.key]=false);\n    window.addEventListener('mousemove',e=>{mouse.x=e.clientX; mouse.y=e.clientY;});\n    window.addEventListener('mousedown',()=>mouse.down=true);\n    window.addEventListener('mouseup',()=>mouse.down=false);\n    return { keys, mouse, isDown:(k)=>!!keys[k] };\n  })();\n  const audio = (function(){\n    let ctx;\n    const ensure=()=>ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());\n    const beep=(freq=440,dur=0.1,type='sine',vol=0.2)=>{\n      if (dur > 5) dur = dur / 1000;\n      const c=ensure();\n      const o=c.createOscillator(); const g=c.createGain();\n      o.type=type; o.frequency.value=freq;\n      const t=c.currentTime;\n      g.gain.setValueAtTime(0.0001, t);\n      g.gain.exponentialRampToValueAtTime(Math.max(0.0001, vol), t+0.01);\n      g.gain.exponentialRampToValueAtTime(0.0001, t+dur);\n      o.connect(g); g.connect(c.destination);\n      o.start(t); o.stop(t+dur+0.02);\n    };\n    return { beep };\n  })();\n  const physics2d = {\n    step:(obj,dt)=>{ obj.vx=(obj.vx||0)+(obj.ax||0)*dt; obj.vy=(obj.vy||0)+(obj.ay||0)*dt; obj.x+=obj.vx*dt; obj.y+=obj.vy*dt; },\n    aabb:(a,b)=>a.x<a.w+b.x&&a.x+a.w>b.x&&a.y<a.h+b.y&&a.y+a.h>b.y,\n    circle:(a,b)=>Math.hypot(a.x-b.x,a.y-b.y)<(a.r+b.r)\n  };\n  const cooldown = (function(){\n    const map = new Map();\n    const ready=(key,ms)=>{ const t=now(); if(!map.has(key)||t-map.get(key)>=ms){ map.set(key,t); return true;} return false; };\n    return { ready };\n  })();\n  const timers = (function(){\n    const list=[];\n    const after=(ms,fn)=>{ const t=now()+ms; list.push({t,fn}); };\n    const tick=()=>{ const t=now(); for(let i=list.length-1;i>=0;i--){ if(t>=list[i].t){ list[i].fn(); list.splice(i,1);} } };\n    return { after, tick };\n  })();\n  const particles = (function(){\n    const list=[];\n    const spawn=(x,y,count=20)=>{ for(let i=0;i<count;i++){ list.push({x,y,vx:rand(-1,1),vy:rand(-1,1),life:rand(0.4,1)});} };\n    const update=(dt)=>{ for(const p of list){ p.x+=p.vx*dt*60; p.y+=p.vy*dt*60; p.life-=dt; } };\n    const draw=(ctx)=>{ for(const p of list){ if(p.life<=0) continue; ctx.globalAlpha=Math.max(0,p.life); ctx.fillRect(p.x,p.y,2,2);} ctx.globalAlpha=1; };\n    const prune=()=>{ for(let i=list.length-1;i>=0;i--){ if(list[i].life<=0) list.splice(i,1);} };\n    return { spawn, update, draw, prune, list };\n  })();\n  const pseudo3d = {\n    project:(pt,cam)=>{ const z=pt.z-(cam.z||0); const scale=(cam.fov||400)/(z||1); return { x:(pt.x-(cam.x||0))*scale+(cam.cx||0), y:(pt.y-(cam.y||0))*scale+(cam.cy||0), scale }; }\n  };\n  const color = {\n    hexToRgb:(hex)=>{ const h=hex.replace('#',''); const bigint=parseInt(h,16); return {r:(bigint>>16)&255,g:(bigint>>8)&255,b:bigint&255}; },\n    rgbToHex:(r,g,b)=>'#'+[r,g,b].map(v=>v.toString(16).padStart(2,'0')).join(''),\n    lerp:(a,b,t)=>({ r:Math.round(a.r+(b.r-a.r)*t), g:Math.round(a.g+(b.g-a.g)*t), b:Math.round(a.b+(b.b-a.b)*t) })\n  };\n  const text = {\n    wrap:(ctx,text,maxWidthOrX,y,maybeW,maybeLineH)=>{\n      if (typeof maxWidthOrX === 'number' && typeof y === 'number' && typeof maybeW === 'number') {\n        const x = maxWidthOrX;\n        const maxW = maybeW;\n        const lineH = typeof maybeLineH === 'number' ? maybeLineH : 18;\n        const lines = textWrap(ctx, text, maxW);\n        lines.forEach((ln,i)=>ctx.fillText(ln,x,y+i*lineH));\n        return lines;\n      }\n      return textWrap(ctx, text, maxWidthOrX);\n    }\n  };\n  function textWrap(ctx, txt, maxWidth){\n    const words=String(txt||'').split(' '); let line=''; const lines=[];\n    for(const w of words){ const test=line+w+' '; if(ctx.measureText(test).width>maxWidth){ lines.push(line.trim()); line=w+' '; } else { line=test; } }\n    lines.push(line.trim()); return lines;\n  }\n  const rng = (function(){\n    let seed = 1234567;\n    const setSeed = (s)=>{ seed = s>>>0; };\n    const next = ()=>{ seed = (seed*1664525+1013904223)>>>0; return seed/4294967296; };\n    return { setSeed, next };\n  })();\n  const eventBus = (function(){\n    const map=new Map();\n    const on=(evt,fn)=>{ if(!map.has(evt)) map.set(evt,[]); map.get(evt).push(fn); };\n    const emit=(evt,data)=>{ (map.get(evt)||[]).forEach(fn=>fn(data)); };\n    return { on, emit };\n  })();\n  const fsm = (initial)=>{ let state=initial; const transitions=new Map(); const on=(from,to,fn)=>transitions.set(from+'>'+to,fn); const set=(to)=>{ const fn=transitions.get(state+'>'+to); state=to; if(fn) fn(); }; const get=()=>state; return { on, set, get }; };\n  const sprites = {\n    draw:(ctx,img,frame,fw,fh,x,y,scale=1)=>{ const sx=frame*fw; ctx.drawImage(img,sx,0,fw,fh,x,y,fw*scale,fh*scale); }\n  };\n  const pathfinding = {\n    aStar:(grid,start,end)=>{ const open=[start]; const came=new Map(); const g=new Map(); const f=new Map(); const key=(p)=>p.x+','+p.y; const h=(a,b)=>Math.abs(a.x-b.x)+Math.abs(a.y-b.y); g.set(key(start),0); f.set(key(start),h(start,end)); while(open.length){ open.sort((a,b)=>f.get(key(a))-f.get(key(b))); const current=open.shift(); if(current.x===end.x&&current.y===end.y){ const path=[current]; let k=key(current); while(came.has(k)){ const p=came.get(k); path.push(p); k=key(p); } return path.reverse(); } const dirs=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}]; for(const d of dirs){ const nx={x:current.x+d.x,y:current.y+d.y}; if(grid[nx.y]?.[nx.x]===1) continue; const tentative=(g.get(key(current))||0)+1; const nk=key(nx); if(tentative < (g.get(nk)??Infinity)){ came.set(nk,current); g.set(nk,tentative); f.set(nk,tentative+h(nx,end)); if(!open.find(p=>p.x===nx.x&&p.y===nx.y)) open.push(nx); } } } return []; }\n  };\n  const navmesh = {\n    build:(grid,diag=false)=>({ grid, diag }),\n    neighbors:(mesh,node)=>{ const dirs=mesh.diag?[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:-1}]:[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}]; return dirs.map(d=>({x:node.x+d.x,y:node.y+d.y})).filter(n=>mesh.grid[n.y]?.[n.x]!==1); },\n    lineOfSight:(mesh,a,b)=>{ let x0=a.x,y0=a.y,x1=b.x,y1=b.y; const dx=Math.abs(x1-x0), dy=Math.abs(y1-y0); let sx=x0<x1?1:-1, sy=y0<y1?1:-1; let err=dx-dy; while(true){ if(mesh.grid[y0]?.[x0]===1) return false; if(x0===x1 && y0===y1) break; const e2=2*err; if(e2>-dy){ err-=dy; x0+=sx; } if(e2<dx){ err+=dx; y0+=sy; } } return true; },\n    smooth:(path,mesh)=>{ if(path.length<=2) return path; const out=[path[0]]; let i=0; while(i<path.length-1){ let j=path.length-1; for(;j>i+1;j--){ if(navmesh.lineOfSight(mesh,path[i],path[j])) break; } out.push(path[j]); i=j; } return out; },\n    findPath:(mesh,start,end)=>{ const p=pathfinding.aStar(mesh.grid,start,end); return navmesh.smooth(p,mesh); }\n  };\n  const levelGrammar = {\n    expand:(rules,axiom,depth=3)=>{ let str=axiom; for(let i=0;i<depth;i++){ let out=\"\"; for(const ch of str){ const rule=rules[ch]; if(!rule){ out+=ch; continue; } if(Array.isArray(rule)){ const pick=rule[Math.floor(Math.random()*rule.length)]; out+=pick; } else if(typeof rule==='object'){ const entries=Object.entries(rule); const total=entries.reduce((s,[,w])=>s+Number(w||0),0); let r=Math.random()*total; for(const [sym,w] of entries){ r-=Number(w||0); if(r<=0){ out+=sym; break; } } } else { out+=String(rule); } } str=out; } return str; },\n    toGrid:(str,w,wall='#')=>{ const rows=[]; for(let i=0;i<str.length;i+=w){ rows.push(str.slice(i,i+w).split(\"\").map(c=>c===wall?1:0)); } return rows; },\n    interpret:(str,handlers)=>{ const state={ x:0,y:0,dir:0,stack:[] }; for(const ch of str){ if(handlers[ch]) handlers[ch](state); } return state; }\n  };\n  const audioSeq = (function(){\n    let ctx;\n    const ensure=()=>ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());\n    const noteToFreq=(n)=>{ const A4=440; const map={'C':-9,'C#':-8,'D':-7,'D#':-6,'E':-5,'F':-4,'F#':-3,'G':-2,'G#':-1,'A':0,'A#':1,'B':2}; const m=n.match(/([A-G]#?)(\\d)/); if(!m) return 440; const sem=map[m[1]]+(Number(m[2])-4)*12; return A4*Math.pow(2,sem/12); };\n    const play=(pattern,bpm=120)=>{ const c=ensure(); const beat=60/bpm; let t=c.currentTime; for(const note of pattern){ const o=c.createOscillator(); const g=c.createGain(); o.type=note.type||'sine'; o.frequency.value=note.freq|| (note.note?noteToFreq(note.note):440); g.gain.value=note.vol||0.15; o.connect(g); g.connect(c.destination); o.start(t); o.stop(t+(note.dur||0.2)); t+=beat*(note.beats||1); } };\n    const track=(steps,bpm=120)=>{ const c=ensure(); const beat=60/bpm; const start=c.currentTime; steps.forEach((s,i)=>{ if(!s) return; const o=c.createOscillator(); const g=c.createGain(); o.type=s.type||'square'; o.frequency.value=s.freq|| (s.note?noteToFreq(s.note):440); g.gain.value=s.vol||0.1; o.connect(g); g.connect(c.destination); o.start(start+i*beat); o.stop(start+i*beat+(s.dur||0.2)); }); };\n    return { play, track, noteToFreq };\n  })();\n  const ui = {\n    button:(text, x, y, w, h, onClick)=>({ type:'button', text, x,y,w,h,onClick,hover:false }),\n    slider:(label,x,y,w,min,max,value,onChange)=>({ type:'slider', label,x,y,w,h:24,min,max,value,onChange }),\n    checkbox:(label,x,y,value,onChange)=>({ type:'checkbox', label,x,y,w:18,h:18,value,onChange }),\n    draw:(ctx, widgets)=>{ widgets.forEach(w=>{ if(w.type==='button'){ ctx.fillStyle=w.hover?'rgba(255,255,255,0.2)':'rgba(0,0,0,0.5)'; ctx.fillRect(w.x,w.y,w.w,w.h); ctx.fillStyle='#fff'; ctx.fillText(w.text,w.x+8,w.y+w.h/2+4); } if(w.type==='slider'){ ctx.fillStyle='rgba(0,0,0,0.5)'; ctx.fillRect(w.x,w.y,w.w,w.h); const t=(w.value-w.min)/(w.max-w.min); ctx.fillStyle='#7df9ff'; ctx.fillRect(w.x, w.y, w.w*t, w.h); ctx.fillStyle='#fff'; ctx.fillText(w.label+': '+w.value.toFixed(1), w.x+4, w.y-4); } if(w.type==='checkbox'){ ctx.strokeStyle='#fff'; ctx.strokeRect(w.x,w.y,w.w,w.h); if(w.value){ ctx.fillStyle='#7df9ff'; ctx.fillRect(w.x+3,w.y+3,w.w-6,w.h-6); } ctx.fillStyle='#fff'; ctx.fillText(w.label, w.x+w.w+6, w.y+w.h-2); } }); },\n    hit:(w, mx, my)=>mx>=w.x&&mx<=w.x+w.w&&my>=w.y&&my<=w.y+w.h,\n    handleClick:(widgets,mx,my)=>{ widgets.forEach(w=>{ if(ui.hit(w,mx,my)){ if(w.type==='button' && w.onClick) w.onClick(); if(w.type==='checkbox' && w.onChange){ w.value=!w.value; w.onChange(w.value); } } }); },\n    handleDrag:(widgets,mx,my)=>{ widgets.forEach(w=>{ if(w.type==='slider' && ui.hit(w,mx,my)){ const t=Math.max(0,Math.min(1,(mx-w.x)/w.w)); w.value=w.min + (w.max-w.min)*t; if(w.onChange) w.onChange(w.value); } }); }\n  };\n  const ecs = (function(){\n    let nextId=1;\n    const entities=new Set();\n    const components=new Map();\n    const systems=[];\n    const create=()=>{ const id=nextId++; entities.add(id); return id; };\n    const add=(id,name,data)=>{ if(!components.has(name)) components.set(name,new Map()); components.get(name).set(id,data); return data; };\n    const get=(id,name)=>components.get(name)?.get(id);\n    const has=(id,name)=>components.get(name)?.has(id);\n    const remove=(id)=>{ entities.delete(id); for(const map of components.values()){ map.delete(id);} };\n    const query=(names)=>{ const sets=names.map(n=>components.get(n)||new Map()); return [...entities].filter(id=>names.every(n=>sets[names.indexOf(n)].has(id))); };\n    const system=(names,fn)=>{ systems.push({names,fn}); };\n    const update=(dt)=>{ for(const s of systems){ const ids=query(s.names); for(const id of ids){ const comps=s.names.map(n=>get(id,n)); s.fn(id, ...comps, dt); } } };\n    return { create, add, get, has, remove, query, system, update, components, entities };\n  })();\n  const terrain = {\n    perlin2:(x,y)=>{ const s=Math.sin(x*12.9898+y*78.233)*43758.5453; return s-Math.floor(s); },\n    heightMap:(w,h,scale=0.1)=>{ const map=[]; for(let y=0;y<h;y++){ const row=[]; for(let x=0;x<w;x++){ row.push(terrain.perlin2(x*scale,y*scale)); } map.push(row);} return map; }\n  };\n  const camera = {\n    shake:(state,strength=6,decay=0.9)=>{ state.shake= {strength,decay,x:0,y:0}; },\n    applyShake:(state,ctx)=>{ if(!state.shake) return; state.shake.x = rand(-state.shake.strength,state.shake.strength); state.shake.y = rand(-state.shake.strength,state.shake.strength); ctx.translate(state.shake.x,state.shake.y); state.shake.strength*=state.shake.decay; if(state.shake.strength<0.3) state.shake=null; }\n  };\n  const webgl = {\n    create:(canvas)=>canvas.getContext('webgl')||canvas.getContext('experimental-webgl')\n  };\n  const gamepad = (function(){\n    const state={ axes:[], buttons:[] };\n    const poll=()=>{ const gp=navigator.getGamepads?.()[0]; if(!gp) return state; state.axes=gp.axes; state.buttons=gp.buttons.map(b=>b.pressed); return state; };\n    return { poll, state };\n  })();\n  const assets = {\n    image:(src)=>new Promise((res,rej)=>{ const img=new Image(); img.onload=()=>res(img); img.onerror=rej; img.src=src; }),\n    audio:(src)=>new Promise((res,rej)=>{ const a=new Audio(); a.oncanplaythrough=()=>res(a); a.onerror=rej; a.src=src; })\n  };\n  const grid = {\n    make:(w,h,fill=0)=>Array.from({length:h},()=>Array.from({length:w},()=>fill)),\n    inBounds:(g,x,y)=>y>=0&&y<g.length&&x>=0&&x<g[0].length\n  };\n  const camera2d = {\n    worldToScreen:(cam,x,y)=>({ x: x-cam.x, y: y-cam.y }),\n    screenToWorld:(cam,x,y)=>({ x: x+cam.x, y: y+cam.y })\n  };\n  const metrics = (function(){\n    let last=now(), fps=0;\n    const tick=()=>{ const t=now(); fps=1000/(t-last); last=t; return fps; };\n    return { tick, get:()=>fps };\n  })();\n  const logger = (function(){\n    const logs=[]; const push=(msg)=>{ logs.unshift({ msg, t:now() }); if(logs.length>20) logs.pop(); };\n    return { logs, push };\n  })();\n  const dialogue = (function(){\n    const lines=[]; const say=(text)=>lines.push(text); const next=()=>lines.shift();\n    return { say, next, lines };\n  })();\n  const timeline = (function(){\n    const steps=[]; const add=(at,fn)=>steps.push({at,fn,done:false}); const run=(t)=>{ for(const s of steps){ if(!s.done && t>=s.at){ s.done=true; s.fn(); } } };\n    return { add, run };\n  })();\n  return { clamp, lerp, map, rand, choice, now, easing, tween, storage, input, audio, physics2d, cooldown, timers, particles, pseudo3d, color, text, rng, eventBus, fsm, sprites, pathfinding, navmesh, levelGrammar, audioSeq, ui, ecs, terrain, camera, webgl, gamepad, assets, grid, camera2d, metrics, logger, dialogue, timeline };\n})();\n// Compatibility shims for models that don't namespace helpers\n(function(){\n  const K = window.GameFactoryKit;\n  if (!K) return;\n  window.clamp = window.clamp || K.clamp;\n  window.lerp = window.lerp || K.lerp;\n  window.map = window.map || K.map;\n  window.rand = window.rand || K.rand;\n  window.rng = window.rng || K.rng;\n  window.choice = window.choice || K.choice;\n  window.now = window.now || K.now;\n  window.audio = window.audio || K.audio;\n  window.input = window.input || K.input;\n  window.storage = window.storage || K.storage;\n  window.text = window.text || K.text;\n  window.timers = window.timers || K.timers;\n  window.circle = window.circle || ((a,b)=>K.physics2d.circle(a,b));\n  window.pseudo3d = window.pseudo3d || K.pseudo3d;\n  const camState = { shake: null };\n  window.camera = window.camera || {\n    shake: (strength=6, decay=0.9) => K.camera.shake(camState, strength, decay),\n    applyShake: (ctx) => K.camera.applyShake(camState, ctx)\n  };\n  window.particles = window.particles || {\n    spawn: (a,b,c) => {\n      if (typeof a === \"object\") {\n        const o = a || {};\n        K.particles.spawn(o.x || 0, o.y || 0, o.count || 20);\n      } else {\n        K.particles.spawn(a || 0, b || 0, c || 20);\n      }\n    },\n    update: (dt) => {\n      const v = dt > 10 ? dt / 1000 : dt;\n      K.particles.update(v);\n      K.particles.prune();\n    },\n    draw: (ctx) => K.particles.draw(ctx),\n    prune: () => K.particles.prune()\n  };\n  window.onerror = function(message, source, lineno, colno) {\n    parent.postMessage({ type: \"game_error\", message: String(message) + \" @ \" + lineno + \":\" + colno }, \"*\");\n  };\n  window.onunhandledrejection = function(event) {\n    parent.postMessage({ type: \"game_error\", message: String(event?.reason || \"Unhandled rejection\") }, \"*\");\n  };\n})();\n</script>\n`;\n        if (code.includes(\"window.GameFactoryKit\") || code.includes(\"GameFactoryAI = async function\")) return code;\n        if (code.includes(\"</head>\")) return code.replace(\"</head>\", `${helper}</head>`);\n        return helper + code;\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function load() {\n            try {\n                const res = await fetch(`${API}/games/${params.id}`, {\n                    credentials: \"include\"\n                });\n                if (!res.ok) throw new Error(await res.text());\n                const data = await res.json();\n                setGame(data);\n                setManualCode(data.code);\n                fetch(`${API}/games/${params.id}/play`, {\n                    method: \"POST\"\n                }).catch(()=>{});\n                const meRes = await fetch(`${API}/auth/me`, {\n                    credentials: \"include\"\n                });\n                if (meRes.ok) {\n                    const meData = await meRes.json();\n                    setMe(meData);\n                }\n                const voteRes = await fetch(`${API}/games/${params.id}/votes`);\n                if (voteRes.ok) {\n                    const vdata = await voteRes.json();\n                    setVotes(vdata.count || 0);\n                }\n                const commentRes = await fetch(`${API}/games/${params.id}/comments`);\n                if (commentRes.ok) {\n                    const cdata = await commentRes.json();\n                    setComments(cdata);\n                }\n                const ver = await fetch(`${API}/games/${params.id}/versions`);\n                if (ver.ok) {\n                    const vdata = await ver.json();\n                    setVersions(vdata);\n                }\n            } catch (err) {\n                setError(err.message || \"Failed to load game\");\n            }\n        }\n        load();\n    }, [\n        params.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (game) setManualCode(game.code);\n    }, [\n        game?.code,\n        game?.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onMessage(event) {\n            const data = event.data;\n            if (data && data.type === \"game_error\") {\n                setPreviewErrors((prev)=>[\n                        data.message,\n                        ...prev\n                    ].slice(0, 5));\n            }\n        }\n        window.addEventListener(\"message\", onMessage);\n        return ()=>window.removeEventListener(\"message\", onMessage);\n    }, []);\n    const groupedVersions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        function hash(str) {\n            let h = 0;\n            for(let i = 0; i < str.length; i++){\n                h = h * 31 + str.charCodeAt(i) | 0;\n            }\n            return h.toString(16);\n        }\n        const seen = new Map();\n        const ordered = [];\n        for (const v of versions){\n            const key = hash(v.code || \"\");\n            if (seen.has(key)) {\n                seen.get(key).count += 1;\n            } else {\n                const entry = {\n                    v,\n                    count: 1\n                };\n                seen.set(key, entry);\n                ordered.push(entry);\n            }\n        }\n        return ordered;\n    }, [\n        versions\n    ]);\n    async function openFullscreen() {\n        if (!previewRef.current) return;\n        if (document.fullscreenElement) {\n            await document.exitFullscreen();\n            return;\n        }\n        await previewRef.current.requestFullscreen();\n    }\n    function focusPreview() {\n        iframeRef.current?.contentWindow?.focus();\n    }\n    async function submitEdit() {\n        if (!instruction.trim() || !game) return;\n        setEditing(true);\n        setError(null);\n        try {\n            const res = await fetch(`${API}/games/${game.id}/edit`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    instruction\n                })\n            });\n            if (!res.ok) throw new Error(await res.text());\n            const data = await res.json();\n            setGame(data);\n            setInstruction(\"\");\n            const ver = await fetch(`${API}/games/${params.id}/versions`);\n            if (ver.ok) {\n                const vdata = await ver.json();\n                setVersions(vdata);\n            }\n        } catch (err) {\n            setError(err.message || \"Edit failed\");\n        } finally{\n            setEditing(false);\n        }\n    }\n    async function rollback(versionId) {\n        if (!game) return;\n        setEditing(true);\n        setError(null);\n        try {\n            const res = await fetch(`${API}/games/${game.id}/rollback/${versionId}`, {\n                method: \"POST\"\n            });\n            if (!res.ok) throw new Error(await res.text());\n            const data = await res.json();\n            setGame(data);\n            const ver = await fetch(`${API}/games/${params.id}/versions`);\n            if (ver.ok) {\n                const vdata = await ver.json();\n                setVersions(vdata);\n            }\n        } catch (err) {\n            setError(err.message || \"Rollback failed\");\n        } finally{\n            setEditing(false);\n        }\n    }\n    async function saveManual() {\n        if (!game) return;\n        setEditing(true);\n        setError(null);\n        try {\n            const res = await fetch(`${API}/games/${game.id}`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    code: manualCode\n                })\n            });\n            if (!res.ok) throw new Error(await res.text());\n            const data = await res.json();\n            setGame(data);\n            const ver = await fetch(`${API}/games/${params.id}/versions`);\n            if (ver.ok) {\n                const vdata = await ver.json();\n                setVersions(vdata);\n            }\n        } catch (err) {\n            setError(err.message || \"Manual save failed\");\n        } finally{\n            setEditing(false);\n        }\n    }\n    async function submitComment() {\n        if (!comment.trim() || !game) return;\n        const res = await fetch(`${API}/games/${game.id}/comments`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: \"include\",\n            body: JSON.stringify({\n                content: comment\n            })\n        });\n        if (res.ok) {\n            const c = await res.json();\n            setComments((prev)=>[\n                    c,\n                    ...prev\n                ]);\n            setComment(\"\");\n        }\n    }\n    async function toggleVote() {\n        if (!game) return;\n        const res = await fetch(`${API}/games/${game.id}/vote`, {\n            method: \"POST\",\n            credentials: \"include\"\n        });\n        if (res.ok) {\n            const v = await fetch(`${API}/games/${game.id}/votes`);\n            if (v.ok) {\n                const vdata = await v.json();\n                setVotes(vdata.count || 0);\n            }\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                href: \"/\",\n                className: \"badge\",\n                children: \"Back\"\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 545,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                style: {\n                    color: \"#ff9b9b\"\n                },\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 546,\n                columnNumber: 17\n            }, this),\n            !game && !error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 547,\n                columnNumber: 27\n            }, this),\n            game && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"grid\",\n                    gap: 16\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: game.title\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 550,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#98a0b5\"\n                        },\n                        children: game.description\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 551,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"preview-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Play\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 553,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: ()=>setPerfMode((v)=>!v),\n                                        children: perfMode ? \"Perf Mode: On\" : \"Perf Mode: Off\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 555,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: openFullscreen,\n                                        children: \"Fullscreen\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 558,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 552,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"preview\",\n                        ref: previewRef,\n                        onClick: focusPreview,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                            ref: iframeRef,\n                            srcDoc: withAIHelper(game.code),\n                            sandbox: \"allow-scripts\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                            lineNumber: 562,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 561,\n                        columnNumber: 11\n                    }, this),\n                    previewErrors.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Preview Errors\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 566,\n                                columnNumber: 15\n                            }, this),\n                            previewErrors.map((e, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"card-meta\",\n                                    style: {\n                                        color: \"#ff9b9b\"\n                                    },\n                                    children: e\n                                }, i, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 568,\n                                    columnNumber: 17\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Prompt\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: game.prompt\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 574,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 572,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Share\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 577,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: \"Public link\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 578,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                children:  false ? 0 : `/play/${game.id}`\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 579,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 576,\n                        columnNumber: 11\n                    }, this),\n                    isOwner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Edit With AI\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 583,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: \"Describe the change you want.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 584,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: instruction,\n                                onChange: (e)=>setInstruction(e.target.value),\n                                placeholder: \"Add a timer, new obstacles, change art style...\",\n                                style: {\n                                    minHeight: 120\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 585,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: submitEdit,\n                                    disabled: editing,\n                                    children: editing ? \"Editing...\" : \"Apply Edit\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 592,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 591,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 582,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Community\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 599,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: toggleVote,\n                                        children: \"Upvote\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 601,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: [\n                                            \"Votes: \",\n                                            votes\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 602,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 600,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: comment,\n                                onChange: (e)=>setComment(e.target.value),\n                                placeholder: \"Write a comment...\",\n                                style: {\n                                    minHeight: 120\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 604,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: submitComment,\n                                    children: \"Post Comment\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 611,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 610,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginTop: 10,\n                                    display: \"grid\",\n                                    gap: 6\n                                },\n                                children: [\n                                    comments.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"No comments yet.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 614,\n                                        columnNumber: 41\n                                    }, this),\n                                    comments.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-meta\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                    children: [\n                                                        c.username || \"User\",\n                                                        \":\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                    lineNumber: 617,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \" \",\n                                                c.content,\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        marginLeft: 8,\n                                                        color: \"#98a0b5\"\n                                                    },\n                                                    children: c.created_at ? new Date(c.created_at).toLocaleString() : \"\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                    lineNumber: 618,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                            lineNumber: 616,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 613,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 598,\n                        columnNumber: 11\n                    }, this),\n                    isOwner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Manual Code Edit\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 628,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Edit HTML directly and save.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 629,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        value: manualCode,\n                                        onChange: (e)=>setManualCode(e.target.value),\n                                        style: {\n                                            minHeight: 220\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 630,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"button-row\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: saveManual,\n                                            disabled: editing,\n                                            children: editing ? \"Saving...\" : \"Save Code\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                            lineNumber: 636,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 635,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 627,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Version History\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 642,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Rollback to a previous version.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 643,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"grid\",\n                                            gap: 8\n                                        },\n                                        children: [\n                                            versions.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"No versions yet.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 645,\n                                                columnNumber: 45\n                                            }, this),\n                                            (showAllVersions ? groupedVersions : groupedVersions.slice(0, 6)).map((entry)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: 8,\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"secondary\",\n                                                            onClick: ()=>rollback(entry.v.id),\n                                                            disabled: editing,\n                                                            style: {\n                                                                flex: 1\n                                                            },\n                                                            children: [\n                                                                new Date(entry.v.created_at).toLocaleString(),\n                                                                \"  \",\n                                                                entry.v.title,\n                                                                \" [\",\n                                                                entry.v.action || \"edit\",\n                                                                \"]\",\n                                                                entry.count > 1 ? ` (x${entry.count})` : \"\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                            lineNumber: 648,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"secondary\",\n                                                            onClick: ()=>setSelectedVersion(entry.v),\n                                                            disabled: editing,\n                                                            children: \"Compare\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                            lineNumber: 657,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, entry.v.id, true, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                    lineNumber: 647,\n                                                    columnNumber: 21\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 644,\n                                        columnNumber: 17\n                                    }, this),\n                                    groupedVersions.length > 6 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        style: {\n                                            marginTop: 8\n                                        },\n                                        onClick: ()=>setShowAllVersions((s)=>!s),\n                                        children: showAllVersions ? \"Show Less\" : \"Show All\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 668,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 641,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true),\n                    selectedVersion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-title\",\n                                children: \"Compare Versions\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 681,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-meta\",\n                                children: [\n                                    \"Selected: \",\n                                    new Date(selectedVersion.created_at).toLocaleString(),\n                                    \"  \",\n                                    selectedVersion.title\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 682,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"grid\",\n                                    gridTemplateColumns: \"1fr 1fr\",\n                                    gap: 12\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"Current\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 687,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                readOnly: true,\n                                                value: game.code,\n                                                style: {\n                                                    minHeight: 220\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 688,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 686,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"Selected\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 691,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                readOnly: true,\n                                                value: selectedVersion.code,\n                                                style: {\n                                                    minHeight: 220\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                                lineNumber: 692,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                        lineNumber: 690,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 685,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"button-row\",\n                                style: {\n                                    marginTop: 8\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"secondary\",\n                                    onClick: ()=>setSelectedVersion(null),\n                                    children: \"Close Compare\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                    lineNumber: 696,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                                lineNumber: 695,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                        lineNumber: 680,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n                lineNumber: 549,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx\",\n        lineNumber: 544,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87b0RBQUV3QixXQUFXO2dEQUFJOzs7Ozs7Ozs7Ozs7a0RBRS9ELDhEQUFDdEI7OzBEQUNDLDhEQUFDQTtnREFBSUwsV0FBVTswREFBWTs7Ozs7OzBEQUMzQiw4REFBQ3NCO2dEQUFTb0IsUUFBUTtnREFBQ25CLE9BQU90SCxnQkFBZ0JvQixJQUFJO2dEQUFFOEUsT0FBTztvREFBRXdCLFdBQVc7Z0RBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FHNUUsOERBQUN0QjtnQ0FBSUwsV0FBVTtnQ0FBYUcsT0FBTztvQ0FBRTBCLFdBQVc7Z0NBQUU7MENBQ2hELDRFQUFDbEI7b0NBQU9YLFdBQVU7b0NBQVlZLFNBQVMsSUFBTTFHLG1CQUFtQjs4Q0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVdkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLy4vYXBwL2dhbWVzL1tpZF0vcGFnZS50c3g/NWQ3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5cbmNvbnN0IEFQSSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgPz8gXCJodHRwOi8vbG9jYWxob3N0OjgwMDBcIjtcblxudHlwZSBHYW1lID0ge1xuICBpZDogbnVtYmVyO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lUGFnZSh7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfSkge1xuICBjb25zdCBbZ2FtZSwgc2V0R2FtZV0gPSB1c2VTdGF0ZTxHYW1lIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHByZXZpZXdSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaWZyYW1lUmVmID0gdXNlUmVmPEhUTUxJRnJhbWVFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbnN0cnVjdGlvbiwgc2V0SW5zdHJ1Y3Rpb25dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlZGl0aW5nLCBzZXRFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZlcnNpb25zLCBzZXRWZXJzaW9uc10gPSB1c2VTdGF0ZTxHYW1lW10+KFtdKTtcbiAgY29uc3QgW3Nob3dBbGxWZXJzaW9ucywgc2V0U2hvd0FsbFZlcnNpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkVmVyc2lvbiwgc2V0U2VsZWN0ZWRWZXJzaW9uXSA9IHVzZVN0YXRlPGFueSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWFudWFsQ29kZSwgc2V0TWFudWFsQ29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3ByZXZpZXdFcnJvcnMsIHNldFByZXZpZXdFcnJvcnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2NvbW1lbnQsIHNldENvbW1lbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb21tZW50cywgc2V0Q29tbWVudHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3ZvdGVzLCBzZXRWb3Rlc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW21lLCBzZXRNZV0gPSB1c2VTdGF0ZTxhbnkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BlcmZNb2RlLCBzZXRQZXJmTW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgaXNPd25lciA9IG1lICYmIGdhbWUgJiYgbWUuaWQgPT09IGdhbWUuY3JlYXRvcl9pZDtcblxuICBmdW5jdGlvbiB3aXRoQUlIZWxwZXIoY29kZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgd3NVcmwgPSBBUEkucmVwbGFjZShcImh0dHA6Ly9cIiwgXCJ3czovL1wiKS5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJ3c3M6Ly9cIik7XG4gICAgY29uc3QgaGVscGVyID0gYFxuPHNjcmlwdD5cbigoKSA9PiB7XG4gIGNvbnN0IHBlcmYgPSAke3BlcmZNb2RlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCJ9O1xuICB3aW5kb3cuX19HRl9QRVJGX01PREUgPSBwZXJmO1xuICBpZiAocGVyZikge1xuICAgIGNvbnN0IGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdkZXZpY2VQaXhlbFJhdGlvJywgeyBnZXQ6ICgpID0+IE1hdGgubWluKDEsIGRwciksIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cbn0pKCk7XG53aW5kb3cuR2FtZUZhY3RvcnlBSSA9IGFzeW5jIGZ1bmN0aW9uKHByb21wdCwgc3lzdGVtLCB0aW1lb3V0TXM9ODAwMCl7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKT0+Y29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0TXMpO1xuICB0cnl7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIke0FQSX0vYWlcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb21wdCwgc3lzdGVtIH0pLFxuICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiBkYXRhLmNvbnRlbnQgfHwgXCJcIjtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICB9XG59O1xud2luZG93LkdhbWVGYWN0b3J5TXVsdGlwbGF5ZXIgPSBmdW5jdGlvbihyb29tSWQpe1xuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoXCIke3dzVXJsfS93cy9cIiArIGVuY29kZVVSSUNvbXBvbmVudChyb29tSWQgfHwgXCJsb2JieVwiKSk7XG4gIGNvbnN0IGhhbmRsZXJzID0gW107XG4gIHdzLm9ubWVzc2FnZSA9IChldnQpID0+IHtcbiAgICBoYW5kbGVycy5mb3JFYWNoKChmbikgPT4gZm4oZXZ0LmRhdGEpKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBzZW5kOiAoZGF0YSkgPT4ge1xuICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IDEpIHdzLnNlbmQodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIH0sXG4gICAgb25NZXNzYWdlOiAoZm4pID0+IGhhbmRsZXJzLnB1c2goZm4pLFxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHdzLmNsb3NlKClcbiAgfTtcbn07XG53aW5kb3cuR2FtZUZhY3RvcnlLaXQgPSAoZnVuY3Rpb24oKXtcbiAgY29uc3QgY2xhbXAgPSAodixtaW4sbWF4KT0+TWF0aC5tYXgobWluLE1hdGgubWluKG1heCx2KSk7XG4gIGNvbnN0IGxlcnAgPSAoYSxiLHQpPT5hKyhiLWEpKnQ7XG4gIGNvbnN0IG1hcCA9ICh2LGluTWluLGluTWF4LG91dE1pbixvdXRNYXgpPT5vdXRNaW4rKG91dE1heC1vdXRNaW4pKigodi1pbk1pbikvKGluTWF4LWluTWluKSk7XG4gIGNvbnN0IHJhbmQgPSAobWluPTAsbWF4PTEpPT5NYXRoLnJhbmRvbSgpKihtYXgtbWluKSttaW47XG4gIGNvbnN0IGNob2ljZSA9IChhcnIpPT5hcnJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmFyci5sZW5ndGgpXTtcbiAgY29uc3Qgbm93ID0gKCk9PnBlcmZvcm1hbmNlLm5vdygpO1xuICBjb25zdCBlYXNpbmcgPSB7XG4gICAgbGluZWFyOnQ9PnQsXG4gICAgaW5RdWFkOnQ9PnQqdCxcbiAgICBvdXRRdWFkOnQ9PnQqKDItdCksXG4gICAgaW5PdXRRdWFkOnQ9PnQ8MC41PzIqdCp0Oi0xKyg0LTIqdCkqdFxuICB9O1xuICBjb25zdCB0d2VlbiA9IChvYmosIHByb3AsIHRvLCBkdXJhdGlvbiwgZWFzZT1lYXNpbmcuaW5PdXRRdWFkKSA9PiB7XG4gICAgY29uc3QgZnJvbSA9IG9ialtwcm9wXTtcbiAgICBjb25zdCBzdGFydCA9IG5vdygpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcbiAgICAgIGZ1bmN0aW9uIHRpY2soKXtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIChub3coKS1zdGFydCkvZHVyYXRpb24pO1xuICAgICAgICBvYmpbcHJvcF0gPSBmcm9tICsgKHRvLWZyb20pKmVhc2UodCk7XG4gICAgICAgIGlmICh0PDEpIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsgZWxzZSByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuICAgICAgdGljaygpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBzdG9yYWdlID0ge1xuICAgIHNhdmU6KGtleSx2YWwpPT5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksSlNPTi5zdHJpbmdpZnkodmFsKSksXG4gICAgbG9hZDooa2V5LGRlZj1udWxsKT0+eyB0cnl7Y29uc3Qgdj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOyByZXR1cm4gdj9KU09OLnBhcnNlKHYpOmRlZjt9Y2F0Y2h7cmV0dXJuIGRlZjt9IH0sXG4gICAgc2xvdFNhdmU6KHNsb3QsdmFsKT0+bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJnZl9zbG90X1wiK3Nsb3QsSlNPTi5zdHJpbmdpZnkodmFsKSksXG4gICAgc2xvdExvYWQ6KHNsb3QsZGVmPW51bGwpPT57IHRyeXtjb25zdCB2PWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ2Zfc2xvdF9cIitzbG90KTsgcmV0dXJuIHY/SlNPTi5wYXJzZSh2KTpkZWY7fWNhdGNoe3JldHVybiBkZWY7fSB9XG4gIH07XG4gIGNvbnN0IGlucHV0ID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3Qga2V5cyA9IHt9O1xuICAgIGNvbnN0IG1vdXNlID0ge3g6MCx5OjAsZG93bjpmYWxzZX07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLGU9PmtleXNbZS5rZXldPXRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsZT0+a2V5c1tlLmtleV09ZmFsc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGU9Pnttb3VzZS54PWUuY2xpZW50WDsgbW91c2UueT1lLmNsaWVudFk7fSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsKCk9Pm1vdXNlLmRvd249dHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCgpPT5tb3VzZS5kb3duPWZhbHNlKTtcbiAgICByZXR1cm4geyBrZXlzLCBtb3VzZSwgaXNEb3duOihrKT0+ISFrZXlzW2tdIH07XG4gIH0pKCk7XG4gIGNvbnN0IGF1ZGlvID0gKGZ1bmN0aW9uKCl7XG4gICAgbGV0IGN0eDtcbiAgICBjb25zdCBlbnN1cmU9KCk9PmN0eHx8KGN0eD1uZXcgKHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCkpO1xuICAgIGNvbnN0IGJlZXA9KGZyZXE9NDQwLGR1cj0wLjEsdHlwZT0nc2luZScsdm9sPTAuMik9PntcbiAgICAgIGlmIChkdXIgPiA1KSBkdXIgPSBkdXIgLyAxMDAwO1xuICAgICAgY29uc3QgYz1lbnN1cmUoKTtcbiAgICAgIGNvbnN0IG89Yy5jcmVhdGVPc2NpbGxhdG9yKCk7IGNvbnN0IGc9Yy5jcmVhdGVHYWluKCk7XG4gICAgICBvLnR5cGU9dHlwZTsgby5mcmVxdWVuY3kudmFsdWU9ZnJlcTtcbiAgICAgIGNvbnN0IHQ9Yy5jdXJyZW50VGltZTtcbiAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjAwMDEsIHQpO1xuICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoTWF0aC5tYXgoMC4wMDAxLCB2b2wpLCB0KzAuMDEpO1xuICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAxLCB0K2R1cik7XG4gICAgICBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChjLmRlc3RpbmF0aW9uKTtcbiAgICAgIG8uc3RhcnQodCk7IG8uc3RvcCh0K2R1ciswLjAyKTtcbiAgICB9O1xuICAgIHJldHVybiB7IGJlZXAgfTtcbiAgfSkoKTtcbiAgY29uc3QgcGh5c2ljczJkID0ge1xuICAgIHN0ZXA6KG9iaixkdCk9Pnsgb2JqLnZ4PShvYmoudnh8fDApKyhvYmouYXh8fDApKmR0OyBvYmoudnk9KG9iai52eXx8MCkrKG9iai5heXx8MCkqZHQ7IG9iai54Kz1vYmoudngqZHQ7IG9iai55Kz1vYmoudnkqZHQ7IH0sXG4gICAgYWFiYjooYSxiKT0+YS54PGEudytiLngmJmEueCthLnc+Yi54JiZhLnk8YS5oK2IueSYmYS55K2EuaD5iLnksXG4gICAgY2lyY2xlOihhLGIpPT5NYXRoLmh5cG90KGEueC1iLngsYS55LWIueSk8KGEucitiLnIpXG4gIH07XG4gIGNvbnN0IGNvb2xkb3duID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHJlYWR5PShrZXksbXMpPT57IGNvbnN0IHQ9bm93KCk7IGlmKCFtYXAuaGFzKGtleSl8fHQtbWFwLmdldChrZXkpPj1tcyl7IG1hcC5zZXQoa2V5LHQpOyByZXR1cm4gdHJ1ZTt9IHJldHVybiBmYWxzZTsgfTtcbiAgICByZXR1cm4geyByZWFkeSB9O1xuICB9KSgpO1xuICBjb25zdCB0aW1lcnMgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBsaXN0PVtdO1xuICAgIGNvbnN0IGFmdGVyPShtcyxmbik9PnsgY29uc3QgdD1ub3coKSttczsgbGlzdC5wdXNoKHt0LGZufSk7IH07XG4gICAgY29uc3QgdGljaz0oKT0+eyBjb25zdCB0PW5vdygpOyBmb3IobGV0IGk9bGlzdC5sZW5ndGgtMTtpPj0wO2ktLSl7IGlmKHQ+PWxpc3RbaV0udCl7IGxpc3RbaV0uZm4oKTsgbGlzdC5zcGxpY2UoaSwxKTt9IH0gfTtcbiAgICByZXR1cm4geyBhZnRlciwgdGljayB9O1xuICB9KSgpO1xuICBjb25zdCBwYXJ0aWNsZXMgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBsaXN0PVtdO1xuICAgIGNvbnN0IHNwYXduPSh4LHksY291bnQ9MjApPT57IGZvcihsZXQgaT0wO2k8Y291bnQ7aSsrKXsgbGlzdC5wdXNoKHt4LHksdng6cmFuZCgtMSwxKSx2eTpyYW5kKC0xLDEpLGxpZmU6cmFuZCgwLjQsMSl9KTt9IH07XG4gICAgY29uc3QgdXBkYXRlPShkdCk9PnsgZm9yKGNvbnN0IHAgb2YgbGlzdCl7IHAueCs9cC52eCpkdCo2MDsgcC55Kz1wLnZ5KmR0KjYwOyBwLmxpZmUtPWR0OyB9IH07XG4gICAgY29uc3QgZHJhdz0oY3R4KT0+eyBmb3IoY29uc3QgcCBvZiBsaXN0KXsgaWYocC5saWZlPD0wKSBjb250aW51ZTsgY3R4Lmdsb2JhbEFscGhhPU1hdGgubWF4KDAscC5saWZlKTsgY3R4LmZpbGxSZWN0KHAueCxwLnksMiwyKTt9IGN0eC5nbG9iYWxBbHBoYT0xOyB9O1xuICAgIGNvbnN0IHBydW5lPSgpPT57IGZvcihsZXQgaT1saXN0Lmxlbmd0aC0xO2k+PTA7aS0tKXsgaWYobGlzdFtpXS5saWZlPD0wKSBsaXN0LnNwbGljZShpLDEpO30gfTtcbiAgICByZXR1cm4geyBzcGF3biwgdXBkYXRlLCBkcmF3LCBwcnVuZSwgbGlzdCB9O1xuICB9KSgpO1xuICBjb25zdCBwc2V1ZG8zZCA9IHtcbiAgICBwcm9qZWN0OihwdCxjYW0pPT57IGNvbnN0IHo9cHQuei0oY2FtLnp8fDApOyBjb25zdCBzY2FsZT0oY2FtLmZvdnx8NDAwKS8oenx8MSk7IHJldHVybiB7IHg6KHB0LngtKGNhbS54fHwwKSkqc2NhbGUrKGNhbS5jeHx8MCksIHk6KHB0LnktKGNhbS55fHwwKSkqc2NhbGUrKGNhbS5jeXx8MCksIHNjYWxlIH07IH1cbiAgfTtcbiAgY29uc3QgY29sb3IgPSB7XG4gICAgaGV4VG9SZ2I6KGhleCk9PnsgY29uc3QgaD1oZXgucmVwbGFjZSgnIycsJycpOyBjb25zdCBiaWdpbnQ9cGFyc2VJbnQoaCwxNik7IHJldHVybiB7cjooYmlnaW50Pj4xNikmMjU1LGc6KGJpZ2ludD4+OCkmMjU1LGI6YmlnaW50JjI1NX07IH0sXG4gICAgcmdiVG9IZXg6KHIsZyxiKT0+JyMnK1tyLGcsYl0ubWFwKHY9PnYudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsJzAnKSkuam9pbignJyksXG4gICAgbGVycDooYSxiLHQpPT4oeyByOk1hdGgucm91bmQoYS5yKyhiLnItYS5yKSp0KSwgZzpNYXRoLnJvdW5kKGEuZysoYi5nLWEuZykqdCksIGI6TWF0aC5yb3VuZChhLmIrKGIuYi1hLmIpKnQpIH0pXG4gIH07XG4gIGNvbnN0IHRleHQgPSB7XG4gICAgd3JhcDooY3R4LHRleHQsbWF4V2lkdGhPclgseSxtYXliZVcsbWF5YmVMaW5lSCk9PntcbiAgICAgIGlmICh0eXBlb2YgbWF4V2lkdGhPclggPT09ICdudW1iZXInICYmIHR5cGVvZiB5ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgbWF5YmVXID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25zdCB4ID0gbWF4V2lkdGhPclg7XG4gICAgICAgIGNvbnN0IG1heFcgPSBtYXliZVc7XG4gICAgICAgIGNvbnN0IGxpbmVIID0gdHlwZW9mIG1heWJlTGluZUggPT09ICdudW1iZXInID8gbWF5YmVMaW5lSCA6IDE4O1xuICAgICAgICBjb25zdCBsaW5lcyA9IHRleHRXcmFwKGN0eCwgdGV4dCwgbWF4Vyk7XG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxuLGkpPT5jdHguZmlsbFRleHQobG4seCx5K2kqbGluZUgpKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRleHRXcmFwKGN0eCwgdGV4dCwgbWF4V2lkdGhPclgpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gdGV4dFdyYXAoY3R4LCB0eHQsIG1heFdpZHRoKXtcbiAgICBjb25zdCB3b3Jkcz1TdHJpbmcodHh0fHwnJykuc3BsaXQoJyAnKTsgbGV0IGxpbmU9Jyc7IGNvbnN0IGxpbmVzPVtdO1xuICAgIGZvcihjb25zdCB3IG9mIHdvcmRzKXsgY29uc3QgdGVzdD1saW5lK3crJyAnOyBpZihjdHgubWVhc3VyZVRleHQodGVzdCkud2lkdGg+bWF4V2lkdGgpeyBsaW5lcy5wdXNoKGxpbmUudHJpbSgpKTsgbGluZT13KycgJzsgfSBlbHNlIHsgbGluZT10ZXN0OyB9IH1cbiAgICBsaW5lcy5wdXNoKGxpbmUudHJpbSgpKTsgcmV0dXJuIGxpbmVzO1xuICB9XG4gIGNvbnN0IHJuZyA9IChmdW5jdGlvbigpe1xuICAgIGxldCBzZWVkID0gMTIzNDU2NztcbiAgICBjb25zdCBzZXRTZWVkID0gKHMpPT57IHNlZWQgPSBzPj4+MDsgfTtcbiAgICBjb25zdCBuZXh0ID0gKCk9Pnsgc2VlZCA9IChzZWVkKjE2NjQ1MjUrMTAxMzkwNDIyMyk+Pj4wOyByZXR1cm4gc2VlZC80Mjk0OTY3Mjk2OyB9O1xuICAgIHJldHVybiB7IHNldFNlZWQsIG5leHQgfTtcbiAgfSkoKTtcbiAgY29uc3QgZXZlbnRCdXMgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBtYXA9bmV3IE1hcCgpO1xuICAgIGNvbnN0IG9uPShldnQsZm4pPT57IGlmKCFtYXAuaGFzKGV2dCkpIG1hcC5zZXQoZXZ0LFtdKTsgbWFwLmdldChldnQpLnB1c2goZm4pOyB9O1xuICAgIGNvbnN0IGVtaXQ9KGV2dCxkYXRhKT0+eyAobWFwLmdldChldnQpfHxbXSkuZm9yRWFjaChmbj0+Zm4oZGF0YSkpOyB9O1xuICAgIHJldHVybiB7IG9uLCBlbWl0IH07XG4gIH0pKCk7XG4gIGNvbnN0IGZzbSA9IChpbml0aWFsKT0+eyBsZXQgc3RhdGU9aW5pdGlhbDsgY29uc3QgdHJhbnNpdGlvbnM9bmV3IE1hcCgpOyBjb25zdCBvbj0oZnJvbSx0byxmbik9PnRyYW5zaXRpb25zLnNldChmcm9tKyc+Jyt0byxmbik7IGNvbnN0IHNldD0odG8pPT57IGNvbnN0IGZuPXRyYW5zaXRpb25zLmdldChzdGF0ZSsnPicrdG8pOyBzdGF0ZT10bzsgaWYoZm4pIGZuKCk7IH07IGNvbnN0IGdldD0oKT0+c3RhdGU7IHJldHVybiB7IG9uLCBzZXQsIGdldCB9OyB9O1xuICBjb25zdCBzcHJpdGVzID0ge1xuICAgIGRyYXc6KGN0eCxpbWcsZnJhbWUsZncsZmgseCx5LHNjYWxlPTEpPT57IGNvbnN0IHN4PWZyYW1lKmZ3OyBjdHguZHJhd0ltYWdlKGltZyxzeCwwLGZ3LGZoLHgseSxmdypzY2FsZSxmaCpzY2FsZSk7IH1cbiAgfTtcbiAgY29uc3QgcGF0aGZpbmRpbmcgPSB7XG4gICAgYVN0YXI6KGdyaWQsc3RhcnQsZW5kKT0+eyBjb25zdCBvcGVuPVtzdGFydF07IGNvbnN0IGNhbWU9bmV3IE1hcCgpOyBjb25zdCBnPW5ldyBNYXAoKTsgY29uc3QgZj1uZXcgTWFwKCk7IGNvbnN0IGtleT0ocCk9PnAueCsnLCcrcC55OyBjb25zdCBoPShhLGIpPT5NYXRoLmFicyhhLngtYi54KStNYXRoLmFicyhhLnktYi55KTsgZy5zZXQoa2V5KHN0YXJ0KSwwKTsgZi5zZXQoa2V5KHN0YXJ0KSxoKHN0YXJ0LGVuZCkpOyB3aGlsZShvcGVuLmxlbmd0aCl7IG9wZW4uc29ydCgoYSxiKT0+Zi5nZXQoa2V5KGEpKS1mLmdldChrZXkoYikpKTsgY29uc3QgY3VycmVudD1vcGVuLnNoaWZ0KCk7IGlmKGN1cnJlbnQueD09PWVuZC54JiZjdXJyZW50Lnk9PT1lbmQueSl7IGNvbnN0IHBhdGg9W2N1cnJlbnRdOyBsZXQgaz1rZXkoY3VycmVudCk7IHdoaWxlKGNhbWUuaGFzKGspKXsgY29uc3QgcD1jYW1lLmdldChrKTsgcGF0aC5wdXNoKHApOyBrPWtleShwKTsgfSByZXR1cm4gcGF0aC5yZXZlcnNlKCk7IH0gY29uc3QgZGlycz1be3g6MSx5OjB9LHt4Oi0xLHk6MH0se3g6MCx5OjF9LHt4OjAseTotMX1dOyBmb3IoY29uc3QgZCBvZiBkaXJzKXsgY29uc3Qgbng9e3g6Y3VycmVudC54K2QueCx5OmN1cnJlbnQueStkLnl9OyBpZihncmlkW254LnldPy5bbngueF09PT0xKSBjb250aW51ZTsgY29uc3QgdGVudGF0aXZlPShnLmdldChrZXkoY3VycmVudCkpfHwwKSsxOyBjb25zdCBuaz1rZXkobngpOyBpZih0ZW50YXRpdmUgPCAoZy5nZXQobmspPz9JbmZpbml0eSkpeyBjYW1lLnNldChuayxjdXJyZW50KTsgZy5zZXQobmssdGVudGF0aXZlKTsgZi5zZXQobmssdGVudGF0aXZlK2gobngsZW5kKSk7IGlmKCFvcGVuLmZpbmQocD0+cC54PT09bngueCYmcC55PT09bngueSkpIG9wZW4ucHVzaChueCk7IH0gfSB9IHJldHVybiBbXTsgfVxuICB9O1xuICBjb25zdCBuYXZtZXNoID0ge1xuICAgIGJ1aWxkOihncmlkLGRpYWc9ZmFsc2UpPT4oeyBncmlkLCBkaWFnIH0pLFxuICAgIG5laWdoYm9yczoobWVzaCxub2RlKT0+eyBjb25zdCBkaXJzPW1lc2guZGlhZz9be3g6MSx5OjB9LHt4Oi0xLHk6MH0se3g6MCx5OjF9LHt4OjAseTotMX0se3g6MSx5OjF9LHt4Oi0xLHk6MX0se3g6MSx5Oi0xfSx7eDotMSx5Oi0xfV06W3t4OjEseTowfSx7eDotMSx5OjB9LHt4OjAseToxfSx7eDowLHk6LTF9XTsgcmV0dXJuIGRpcnMubWFwKGQ9Pih7eDpub2RlLngrZC54LHk6bm9kZS55K2QueX0pKS5maWx0ZXIobj0+bWVzaC5ncmlkW24ueV0/LltuLnhdIT09MSk7IH0sXG4gICAgbGluZU9mU2lnaHQ6KG1lc2gsYSxiKT0+eyBsZXQgeDA9YS54LHkwPWEueSx4MT1iLngseTE9Yi55OyBjb25zdCBkeD1NYXRoLmFicyh4MS14MCksIGR5PU1hdGguYWJzKHkxLXkwKTsgbGV0IHN4PXgwPHgxPzE6LTEsIHN5PXkwPHkxPzE6LTE7IGxldCBlcnI9ZHgtZHk7IHdoaWxlKHRydWUpeyBpZihtZXNoLmdyaWRbeTBdPy5beDBdPT09MSkgcmV0dXJuIGZhbHNlOyBpZih4MD09PXgxICYmIHkwPT09eTEpIGJyZWFrOyBjb25zdCBlMj0yKmVycjsgaWYoZTI+LWR5KXsgZXJyLT1keTsgeDArPXN4OyB9IGlmKGUyPGR4KXsgZXJyKz1keDsgeTArPXN5OyB9IH0gcmV0dXJuIHRydWU7IH0sXG4gICAgc21vb3RoOihwYXRoLG1lc2gpPT57IGlmKHBhdGgubGVuZ3RoPD0yKSByZXR1cm4gcGF0aDsgY29uc3Qgb3V0PVtwYXRoWzBdXTsgbGV0IGk9MDsgd2hpbGUoaTxwYXRoLmxlbmd0aC0xKXsgbGV0IGo9cGF0aC5sZW5ndGgtMTsgZm9yKDtqPmkrMTtqLS0peyBpZihuYXZtZXNoLmxpbmVPZlNpZ2h0KG1lc2gscGF0aFtpXSxwYXRoW2pdKSkgYnJlYWs7IH0gb3V0LnB1c2gocGF0aFtqXSk7IGk9ajsgfSByZXR1cm4gb3V0OyB9LFxuICAgIGZpbmRQYXRoOihtZXNoLHN0YXJ0LGVuZCk9PnsgY29uc3QgcD1wYXRoZmluZGluZy5hU3RhcihtZXNoLmdyaWQsc3RhcnQsZW5kKTsgcmV0dXJuIG5hdm1lc2guc21vb3RoKHAsbWVzaCk7IH1cbiAgfTtcbiAgY29uc3QgbGV2ZWxHcmFtbWFyID0ge1xuICAgIGV4cGFuZDoocnVsZXMsYXhpb20sZGVwdGg9Myk9PnsgbGV0IHN0cj1heGlvbTsgZm9yKGxldCBpPTA7aTxkZXB0aDtpKyspeyBsZXQgb3V0PVwiXCI7IGZvcihjb25zdCBjaCBvZiBzdHIpeyBjb25zdCBydWxlPXJ1bGVzW2NoXTsgaWYoIXJ1bGUpeyBvdXQrPWNoOyBjb250aW51ZTsgfSBpZihBcnJheS5pc0FycmF5KHJ1bGUpKXsgY29uc3QgcGljaz1ydWxlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpydWxlLmxlbmd0aCldOyBvdXQrPXBpY2s7IH0gZWxzZSBpZih0eXBlb2YgcnVsZT09PSdvYmplY3QnKXsgY29uc3QgZW50cmllcz1PYmplY3QuZW50cmllcyhydWxlKTsgY29uc3QgdG90YWw9ZW50cmllcy5yZWR1Y2UoKHMsWyx3XSk9PnMrTnVtYmVyKHd8fDApLDApOyBsZXQgcj1NYXRoLnJhbmRvbSgpKnRvdGFsOyBmb3IoY29uc3QgW3N5bSx3XSBvZiBlbnRyaWVzKXsgci09TnVtYmVyKHd8fDApOyBpZihyPD0wKXsgb3V0Kz1zeW07IGJyZWFrOyB9IH0gfSBlbHNlIHsgb3V0Kz1TdHJpbmcocnVsZSk7IH0gfSBzdHI9b3V0OyB9IHJldHVybiBzdHI7IH0sXG4gICAgdG9HcmlkOihzdHIsdyx3YWxsPScjJyk9PnsgY29uc3Qgcm93cz1bXTsgZm9yKGxldCBpPTA7aTxzdHIubGVuZ3RoO2krPXcpeyByb3dzLnB1c2goc3RyLnNsaWNlKGksaSt3KS5zcGxpdChcIlwiKS5tYXAoYz0+Yz09PXdhbGw/MTowKSk7IH0gcmV0dXJuIHJvd3M7IH0sXG4gICAgaW50ZXJwcmV0OihzdHIsaGFuZGxlcnMpPT57IGNvbnN0IHN0YXRlPXsgeDowLHk6MCxkaXI6MCxzdGFjazpbXSB9OyBmb3IoY29uc3QgY2ggb2Ygc3RyKXsgaWYoaGFuZGxlcnNbY2hdKSBoYW5kbGVyc1tjaF0oc3RhdGUpOyB9IHJldHVybiBzdGF0ZTsgfVxuICB9O1xuICBjb25zdCBhdWRpb1NlcSA9IChmdW5jdGlvbigpe1xuICAgIGxldCBjdHg7XG4gICAgY29uc3QgZW5zdXJlPSgpPT5jdHh8fChjdHg9bmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpKTtcbiAgICBjb25zdCBub3RlVG9GcmVxPShuKT0+eyBjb25zdCBBND00NDA7IGNvbnN0IG1hcD17J0MnOi05LCdDIyc6LTgsJ0QnOi03LCdEIyc6LTYsJ0UnOi01LCdGJzotNCwnRiMnOi0zLCdHJzotMiwnRyMnOi0xLCdBJzowLCdBIyc6MSwnQic6Mn07IGNvbnN0IG09bi5tYXRjaCgvKFtBLUddIz8pKFxcZCkvKTsgaWYoIW0pIHJldHVybiA0NDA7IGNvbnN0IHNlbT1tYXBbbVsxXV0rKE51bWJlcihtWzJdKS00KSoxMjsgcmV0dXJuIEE0Kk1hdGgucG93KDIsc2VtLzEyKTsgfTtcbiAgICBjb25zdCBwbGF5PShwYXR0ZXJuLGJwbT0xMjApPT57IGNvbnN0IGM9ZW5zdXJlKCk7IGNvbnN0IGJlYXQ9NjAvYnBtOyBsZXQgdD1jLmN1cnJlbnRUaW1lOyBmb3IoY29uc3Qgbm90ZSBvZiBwYXR0ZXJuKXsgY29uc3Qgbz1jLmNyZWF0ZU9zY2lsbGF0b3IoKTsgY29uc3QgZz1jLmNyZWF0ZUdhaW4oKTsgby50eXBlPW5vdGUudHlwZXx8J3NpbmUnOyBvLmZyZXF1ZW5jeS52YWx1ZT1ub3RlLmZyZXF8fCAobm90ZS5ub3RlP25vdGVUb0ZyZXEobm90ZS5ub3RlKTo0NDApOyBnLmdhaW4udmFsdWU9bm90ZS52b2x8fDAuMTU7IG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGMuZGVzdGluYXRpb24pOyBvLnN0YXJ0KHQpOyBvLnN0b3AodCsobm90ZS5kdXJ8fDAuMikpOyB0Kz1iZWF0Kihub3RlLmJlYXRzfHwxKTsgfSB9O1xuICAgIGNvbnN0IHRyYWNrPShzdGVwcyxicG09MTIwKT0+eyBjb25zdCBjPWVuc3VyZSgpOyBjb25zdCBiZWF0PTYwL2JwbTsgY29uc3Qgc3RhcnQ9Yy5jdXJyZW50VGltZTsgc3RlcHMuZm9yRWFjaCgocyxpKT0+eyBpZighcykgcmV0dXJuOyBjb25zdCBvPWMuY3JlYXRlT3NjaWxsYXRvcigpOyBjb25zdCBnPWMuY3JlYXRlR2FpbigpOyBvLnR5cGU9cy50eXBlfHwnc3F1YXJlJzsgby5mcmVxdWVuY3kudmFsdWU9cy5mcmVxfHwgKHMubm90ZT9ub3RlVG9GcmVxKHMubm90ZSk6NDQwKTsgZy5nYWluLnZhbHVlPXMudm9sfHwwLjE7IG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGMuZGVzdGluYXRpb24pOyBvLnN0YXJ0KHN0YXJ0K2kqYmVhdCk7IG8uc3RvcChzdGFydCtpKmJlYXQrKHMuZHVyfHwwLjIpKTsgfSk7IH07XG4gICAgcmV0dXJuIHsgcGxheSwgdHJhY2ssIG5vdGVUb0ZyZXEgfTtcbiAgfSkoKTtcbiAgY29uc3QgdWkgPSB7XG4gICAgYnV0dG9uOih0ZXh0LCB4LCB5LCB3LCBoLCBvbkNsaWNrKT0+KHsgdHlwZTonYnV0dG9uJywgdGV4dCwgeCx5LHcsaCxvbkNsaWNrLGhvdmVyOmZhbHNlIH0pLFxuICAgIHNsaWRlcjoobGFiZWwseCx5LHcsbWluLG1heCx2YWx1ZSxvbkNoYW5nZSk9Pih7IHR5cGU6J3NsaWRlcicsIGxhYmVsLHgseSx3LGg6MjQsbWluLG1heCx2YWx1ZSxvbkNoYW5nZSB9KSxcbiAgICBjaGVja2JveDoobGFiZWwseCx5LHZhbHVlLG9uQ2hhbmdlKT0+KHsgdHlwZTonY2hlY2tib3gnLCBsYWJlbCx4LHksdzoxOCxoOjE4LHZhbHVlLG9uQ2hhbmdlIH0pLFxuICAgIGRyYXc6KGN0eCwgd2lkZ2V0cyk9Pnsgd2lkZ2V0cy5mb3JFYWNoKHc9PnsgaWYody50eXBlPT09J2J1dHRvbicpeyBjdHguZmlsbFN0eWxlPXcuaG92ZXI/J3JnYmEoMjU1LDI1NSwyNTUsMC4yKSc6J3JnYmEoMCwwLDAsMC41KSc7IGN0eC5maWxsUmVjdCh3Lngsdy55LHcudyx3LmgpOyBjdHguZmlsbFN0eWxlPScjZmZmJzsgY3R4LmZpbGxUZXh0KHcudGV4dCx3LngrOCx3Lnkrdy5oLzIrNCk7IH0gaWYody50eXBlPT09J3NsaWRlcicpeyBjdHguZmlsbFN0eWxlPSdyZ2JhKDAsMCwwLDAuNSknOyBjdHguZmlsbFJlY3Qody54LHcueSx3Lncsdy5oKTsgY29uc3QgdD0ody52YWx1ZS13Lm1pbikvKHcubWF4LXcubWluKTsgY3R4LmZpbGxTdHlsZT0nIzdkZjlmZic7IGN0eC5maWxsUmVjdCh3LngsIHcueSwgdy53KnQsIHcuaCk7IGN0eC5maWxsU3R5bGU9JyNmZmYnOyBjdHguZmlsbFRleHQody5sYWJlbCsnOiAnK3cudmFsdWUudG9GaXhlZCgxKSwgdy54KzQsIHcueS00KTsgfSBpZih3LnR5cGU9PT0nY2hlY2tib3gnKXsgY3R4LnN0cm9rZVN0eWxlPScjZmZmJzsgY3R4LnN0cm9rZVJlY3Qody54LHcueSx3Lncsdy5oKTsgaWYody52YWx1ZSl7IGN0eC5maWxsU3R5bGU9JyM3ZGY5ZmYnOyBjdHguZmlsbFJlY3Qody54KzMsdy55KzMsdy53LTYsdy5oLTYpOyB9IGN0eC5maWxsU3R5bGU9JyNmZmYnOyBjdHguZmlsbFRleHQody5sYWJlbCwgdy54K3cudys2LCB3Lnkrdy5oLTIpOyB9IH0pOyB9LFxuICAgIGhpdDoodywgbXgsIG15KT0+bXg+PXcueCYmbXg8PXcueCt3LncmJm15Pj13LnkmJm15PD13Lnkrdy5oLFxuICAgIGhhbmRsZUNsaWNrOih3aWRnZXRzLG14LG15KT0+eyB3aWRnZXRzLmZvckVhY2godz0+eyBpZih1aS5oaXQodyxteCxteSkpeyBpZih3LnR5cGU9PT0nYnV0dG9uJyAmJiB3Lm9uQ2xpY2spIHcub25DbGljaygpOyBpZih3LnR5cGU9PT0nY2hlY2tib3gnICYmIHcub25DaGFuZ2UpeyB3LnZhbHVlPSF3LnZhbHVlOyB3Lm9uQ2hhbmdlKHcudmFsdWUpOyB9IH0gfSk7IH0sXG4gICAgaGFuZGxlRHJhZzood2lkZ2V0cyxteCxteSk9Pnsgd2lkZ2V0cy5mb3JFYWNoKHc9PnsgaWYody50eXBlPT09J3NsaWRlcicgJiYgdWkuaGl0KHcsbXgsbXkpKXsgY29uc3QgdD1NYXRoLm1heCgwLE1hdGgubWluKDEsKG14LXcueCkvdy53KSk7IHcudmFsdWU9dy5taW4gKyAody5tYXgtdy5taW4pKnQ7IGlmKHcub25DaGFuZ2UpIHcub25DaGFuZ2Uody52YWx1ZSk7IH0gfSk7IH1cbiAgfTtcbiAgY29uc3QgZWNzID0gKGZ1bmN0aW9uKCl7XG4gICAgbGV0IG5leHRJZD0xO1xuICAgIGNvbnN0IGVudGl0aWVzPW5ldyBTZXQoKTtcbiAgICBjb25zdCBjb21wb25lbnRzPW5ldyBNYXAoKTtcbiAgICBjb25zdCBzeXN0ZW1zPVtdO1xuICAgIGNvbnN0IGNyZWF0ZT0oKT0+eyBjb25zdCBpZD1uZXh0SWQrKzsgZW50aXRpZXMuYWRkKGlkKTsgcmV0dXJuIGlkOyB9O1xuICAgIGNvbnN0IGFkZD0oaWQsbmFtZSxkYXRhKT0+eyBpZighY29tcG9uZW50cy5oYXMobmFtZSkpIGNvbXBvbmVudHMuc2V0KG5hbWUsbmV3IE1hcCgpKTsgY29tcG9uZW50cy5nZXQobmFtZSkuc2V0KGlkLGRhdGEpOyByZXR1cm4gZGF0YTsgfTtcbiAgICBjb25zdCBnZXQ9KGlkLG5hbWUpPT5jb21wb25lbnRzLmdldChuYW1lKT8uZ2V0KGlkKTtcbiAgICBjb25zdCBoYXM9KGlkLG5hbWUpPT5jb21wb25lbnRzLmdldChuYW1lKT8uaGFzKGlkKTtcbiAgICBjb25zdCByZW1vdmU9KGlkKT0+eyBlbnRpdGllcy5kZWxldGUoaWQpOyBmb3IoY29uc3QgbWFwIG9mIGNvbXBvbmVudHMudmFsdWVzKCkpeyBtYXAuZGVsZXRlKGlkKTt9IH07XG4gICAgY29uc3QgcXVlcnk9KG5hbWVzKT0+eyBjb25zdCBzZXRzPW5hbWVzLm1hcChuPT5jb21wb25lbnRzLmdldChuKXx8bmV3IE1hcCgpKTsgcmV0dXJuIFsuLi5lbnRpdGllc10uZmlsdGVyKGlkPT5uYW1lcy5ldmVyeShuPT5zZXRzW25hbWVzLmluZGV4T2YobildLmhhcyhpZCkpKTsgfTtcbiAgICBjb25zdCBzeXN0ZW09KG5hbWVzLGZuKT0+eyBzeXN0ZW1zLnB1c2goe25hbWVzLGZufSk7IH07XG4gICAgY29uc3QgdXBkYXRlPShkdCk9PnsgZm9yKGNvbnN0IHMgb2Ygc3lzdGVtcyl7IGNvbnN0IGlkcz1xdWVyeShzLm5hbWVzKTsgZm9yKGNvbnN0IGlkIG9mIGlkcyl7IGNvbnN0IGNvbXBzPXMubmFtZXMubWFwKG49PmdldChpZCxuKSk7IHMuZm4oaWQsIC4uLmNvbXBzLCBkdCk7IH0gfSB9O1xuICAgIHJldHVybiB7IGNyZWF0ZSwgYWRkLCBnZXQsIGhhcywgcmVtb3ZlLCBxdWVyeSwgc3lzdGVtLCB1cGRhdGUsIGNvbXBvbmVudHMsIGVudGl0aWVzIH07XG4gIH0pKCk7XG4gIGNvbnN0IHRlcnJhaW4gPSB7XG4gICAgcGVybGluMjooeCx5KT0+eyBjb25zdCBzPU1hdGguc2luKHgqMTIuOTg5OCt5Kjc4LjIzMykqNDM3NTguNTQ1MzsgcmV0dXJuIHMtTWF0aC5mbG9vcihzKTsgfSxcbiAgICBoZWlnaHRNYXA6KHcsaCxzY2FsZT0wLjEpPT57IGNvbnN0IG1hcD1bXTsgZm9yKGxldCB5PTA7eTxoO3krKyl7IGNvbnN0IHJvdz1bXTsgZm9yKGxldCB4PTA7eDx3O3grKyl7IHJvdy5wdXNoKHRlcnJhaW4ucGVybGluMih4KnNjYWxlLHkqc2NhbGUpKTsgfSBtYXAucHVzaChyb3cpO30gcmV0dXJuIG1hcDsgfVxuICB9O1xuICBjb25zdCBjYW1lcmEgPSB7XG4gICAgc2hha2U6KHN0YXRlLHN0cmVuZ3RoPTYsZGVjYXk9MC45KT0+eyBzdGF0ZS5zaGFrZT0ge3N0cmVuZ3RoLGRlY2F5LHg6MCx5OjB9OyB9LFxuICAgIGFwcGx5U2hha2U6KHN0YXRlLGN0eCk9PnsgaWYoIXN0YXRlLnNoYWtlKSByZXR1cm47IHN0YXRlLnNoYWtlLnggPSByYW5kKC1zdGF0ZS5zaGFrZS5zdHJlbmd0aCxzdGF0ZS5zaGFrZS5zdHJlbmd0aCk7IHN0YXRlLnNoYWtlLnkgPSByYW5kKC1zdGF0ZS5zaGFrZS5zdHJlbmd0aCxzdGF0ZS5zaGFrZS5zdHJlbmd0aCk7IGN0eC50cmFuc2xhdGUoc3RhdGUuc2hha2UueCxzdGF0ZS5zaGFrZS55KTsgc3RhdGUuc2hha2Uuc3RyZW5ndGgqPXN0YXRlLnNoYWtlLmRlY2F5OyBpZihzdGF0ZS5zaGFrZS5zdHJlbmd0aDwwLjMpIHN0YXRlLnNoYWtlPW51bGw7IH1cbiAgfTtcbiAgY29uc3Qgd2ViZ2wgPSB7XG4gICAgY3JlYXRlOihjYW52YXMpPT5jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKXx8Y2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpXG4gIH07XG4gIGNvbnN0IGdhbWVwYWQgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBzdGF0ZT17IGF4ZXM6W10sIGJ1dHRvbnM6W10gfTtcbiAgICBjb25zdCBwb2xsPSgpPT57IGNvbnN0IGdwPW5hdmlnYXRvci5nZXRHYW1lcGFkcz8uKClbMF07IGlmKCFncCkgcmV0dXJuIHN0YXRlOyBzdGF0ZS5heGVzPWdwLmF4ZXM7IHN0YXRlLmJ1dHRvbnM9Z3AuYnV0dG9ucy5tYXAoYj0+Yi5wcmVzc2VkKTsgcmV0dXJuIHN0YXRlOyB9O1xuICAgIHJldHVybiB7IHBvbGwsIHN0YXRlIH07XG4gIH0pKCk7XG4gIGNvbnN0IGFzc2V0cyA9IHtcbiAgICBpbWFnZTooc3JjKT0+bmV3IFByb21pc2UoKHJlcyxyZWopPT57IGNvbnN0IGltZz1uZXcgSW1hZ2UoKTsgaW1nLm9ubG9hZD0oKT0+cmVzKGltZyk7IGltZy5vbmVycm9yPXJlajsgaW1nLnNyYz1zcmM7IH0pLFxuICAgIGF1ZGlvOihzcmMpPT5uZXcgUHJvbWlzZSgocmVzLHJlaik9PnsgY29uc3QgYT1uZXcgQXVkaW8oKTsgYS5vbmNhbnBsYXl0aHJvdWdoPSgpPT5yZXMoYSk7IGEub25lcnJvcj1yZWo7IGEuc3JjPXNyYzsgfSlcbiAgfTtcbiAgY29uc3QgZ3JpZCA9IHtcbiAgICBtYWtlOih3LGgsZmlsbD0wKT0+QXJyYXkuZnJvbSh7bGVuZ3RoOmh9LCgpPT5BcnJheS5mcm9tKHtsZW5ndGg6d30sKCk9PmZpbGwpKSxcbiAgICBpbkJvdW5kczooZyx4LHkpPT55Pj0wJiZ5PGcubGVuZ3RoJiZ4Pj0wJiZ4PGdbMF0ubGVuZ3RoXG4gIH07XG4gIGNvbnN0IGNhbWVyYTJkID0ge1xuICAgIHdvcmxkVG9TY3JlZW46KGNhbSx4LHkpPT4oeyB4OiB4LWNhbS54LCB5OiB5LWNhbS55IH0pLFxuICAgIHNjcmVlblRvV29ybGQ6KGNhbSx4LHkpPT4oeyB4OiB4K2NhbS54LCB5OiB5K2NhbS55IH0pXG4gIH07XG4gIGNvbnN0IG1ldHJpY3MgPSAoZnVuY3Rpb24oKXtcbiAgICBsZXQgbGFzdD1ub3coKSwgZnBzPTA7XG4gICAgY29uc3QgdGljaz0oKT0+eyBjb25zdCB0PW5vdygpOyBmcHM9MTAwMC8odC1sYXN0KTsgbGFzdD10OyByZXR1cm4gZnBzOyB9O1xuICAgIHJldHVybiB7IHRpY2ssIGdldDooKT0+ZnBzIH07XG4gIH0pKCk7XG4gIGNvbnN0IGxvZ2dlciA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IGxvZ3M9W107IGNvbnN0IHB1c2g9KG1zZyk9PnsgbG9ncy51bnNoaWZ0KHsgbXNnLCB0Om5vdygpIH0pOyBpZihsb2dzLmxlbmd0aD4yMCkgbG9ncy5wb3AoKTsgfTtcbiAgICByZXR1cm4geyBsb2dzLCBwdXNoIH07XG4gIH0pKCk7XG4gIGNvbnN0IGRpYWxvZ3VlID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgbGluZXM9W107IGNvbnN0IHNheT0odGV4dCk9PmxpbmVzLnB1c2godGV4dCk7IGNvbnN0IG5leHQ9KCk9PmxpbmVzLnNoaWZ0KCk7XG4gICAgcmV0dXJuIHsgc2F5LCBuZXh0LCBsaW5lcyB9O1xuICB9KSgpO1xuICBjb25zdCB0aW1lbGluZSA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IHN0ZXBzPVtdOyBjb25zdCBhZGQ9KGF0LGZuKT0+c3RlcHMucHVzaCh7YXQsZm4sZG9uZTpmYWxzZX0pOyBjb25zdCBydW49KHQpPT57IGZvcihjb25zdCBzIG9mIHN0ZXBzKXsgaWYoIXMuZG9uZSAmJiB0Pj1zLmF0KXsgcy5kb25lPXRydWU7IHMuZm4oKTsgfSB9IH07XG4gICAgcmV0dXJuIHsgYWRkLCBydW4gfTtcbiAgfSkoKTtcbiAgcmV0dXJuIHsgY2xhbXAsIGxlcnAsIG1hcCwgcmFuZCwgY2hvaWNlLCBub3csIGVhc2luZywgdHdlZW4sIHN0b3JhZ2UsIGlucHV0LCBhdWRpbywgcGh5c2ljczJkLCBjb29sZG93biwgdGltZXJzLCBwYXJ0aWNsZXMsIHBzZXVkbzNkLCBjb2xvciwgdGV4dCwgcm5nLCBldmVudEJ1cywgZnNtLCBzcHJpdGVzLCBwYXRoZmluZGluZywgbmF2bWVzaCwgbGV2ZWxHcmFtbWFyLCBhdWRpb1NlcSwgdWksIGVjcywgdGVycmFpbiwgY2FtZXJhLCB3ZWJnbCwgZ2FtZXBhZCwgYXNzZXRzLCBncmlkLCBjYW1lcmEyZCwgbWV0cmljcywgbG9nZ2VyLCBkaWFsb2d1ZSwgdGltZWxpbmUgfTtcbn0pKCk7XG4vLyBDb21wYXRpYmlsaXR5IHNoaW1zIGZvciBtb2RlbHMgdGhhdCBkb24ndCBuYW1lc3BhY2UgaGVscGVyc1xuKGZ1bmN0aW9uKCl7XG4gIGNvbnN0IEsgPSB3aW5kb3cuR2FtZUZhY3RvcnlLaXQ7XG4gIGlmICghSykgcmV0dXJuO1xuICB3aW5kb3cuY2xhbXAgPSB3aW5kb3cuY2xhbXAgfHwgSy5jbGFtcDtcbiAgd2luZG93LmxlcnAgPSB3aW5kb3cubGVycCB8fCBLLmxlcnA7XG4gIHdpbmRvdy5tYXAgPSB3aW5kb3cubWFwIHx8IEsubWFwO1xuICB3aW5kb3cucmFuZCA9IHdpbmRvdy5yYW5kIHx8IEsucmFuZDtcbiAgd2luZG93LnJuZyA9IHdpbmRvdy5ybmcgfHwgSy5ybmc7XG4gIHdpbmRvdy5jaG9pY2UgPSB3aW5kb3cuY2hvaWNlIHx8IEsuY2hvaWNlO1xuICB3aW5kb3cubm93ID0gd2luZG93Lm5vdyB8fCBLLm5vdztcbiAgd2luZG93LmF1ZGlvID0gd2luZG93LmF1ZGlvIHx8IEsuYXVkaW87XG4gIHdpbmRvdy5pbnB1dCA9IHdpbmRvdy5pbnB1dCB8fCBLLmlucHV0O1xuICB3aW5kb3cuc3RvcmFnZSA9IHdpbmRvdy5zdG9yYWdlIHx8IEsuc3RvcmFnZTtcbiAgd2luZG93LnRleHQgPSB3aW5kb3cudGV4dCB8fCBLLnRleHQ7XG4gIHdpbmRvdy50aW1lcnMgPSB3aW5kb3cudGltZXJzIHx8IEsudGltZXJzO1xuICB3aW5kb3cuY2lyY2xlID0gd2luZG93LmNpcmNsZSB8fCAoKGEsYik9PksucGh5c2ljczJkLmNpcmNsZShhLGIpKTtcbiAgd2luZG93LnBzZXVkbzNkID0gd2luZG93LnBzZXVkbzNkIHx8IEsucHNldWRvM2Q7XG4gIGNvbnN0IGNhbVN0YXRlID0geyBzaGFrZTogbnVsbCB9O1xuICB3aW5kb3cuY2FtZXJhID0gd2luZG93LmNhbWVyYSB8fCB7XG4gICAgc2hha2U6IChzdHJlbmd0aD02LCBkZWNheT0wLjkpID0+IEsuY2FtZXJhLnNoYWtlKGNhbVN0YXRlLCBzdHJlbmd0aCwgZGVjYXkpLFxuICAgIGFwcGx5U2hha2U6IChjdHgpID0+IEsuY2FtZXJhLmFwcGx5U2hha2UoY2FtU3RhdGUsIGN0eClcbiAgfTtcbiAgd2luZG93LnBhcnRpY2xlcyA9IHdpbmRvdy5wYXJ0aWNsZXMgfHwge1xuICAgIHNwYXduOiAoYSxiLGMpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCBvID0gYSB8fCB7fTtcbiAgICAgICAgSy5wYXJ0aWNsZXMuc3Bhd24oby54IHx8IDAsIG8ueSB8fCAwLCBvLmNvdW50IHx8IDIwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEsucGFydGljbGVzLnNwYXduKGEgfHwgMCwgYiB8fCAwLCBjIHx8IDIwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTogKGR0KSA9PiB7XG4gICAgICBjb25zdCB2ID0gZHQgPiAxMCA/IGR0IC8gMTAwMCA6IGR0O1xuICAgICAgSy5wYXJ0aWNsZXMudXBkYXRlKHYpO1xuICAgICAgSy5wYXJ0aWNsZXMucHJ1bmUoKTtcbiAgICB9LFxuICAgIGRyYXc6IChjdHgpID0+IEsucGFydGljbGVzLmRyYXcoY3R4KSxcbiAgICBwcnVuZTogKCkgPT4gSy5wYXJ0aWNsZXMucHJ1bmUoKVxuICB9O1xuICB3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHNvdXJjZSwgbGluZW5vLCBjb2xubykge1xuICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZ2FtZV9lcnJvclwiLCBtZXNzYWdlOiBTdHJpbmcobWVzc2FnZSkgKyBcIiBAIFwiICsgbGluZW5vICsgXCI6XCIgKyBjb2xubyB9LCBcIipcIik7XG4gIH07XG4gIHdpbmRvdy5vbnVuaGFuZGxlZHJlamVjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJnYW1lX2Vycm9yXCIsIG1lc3NhZ2U6IFN0cmluZyhldmVudD8ucmVhc29uIHx8IFwiVW5oYW5kbGVkIHJlamVjdGlvblwiKSB9LCBcIipcIik7XG4gIH07XG59KSgpO1xuPC9zY3JpcHQ+XG5gO1xuICAgIGlmIChjb2RlLmluY2x1ZGVzKFwid2luZG93LkdhbWVGYWN0b3J5S2l0XCIpIHx8IGNvZGUuaW5jbHVkZXMoXCJHYW1lRmFjdG9yeUFJID0gYXN5bmMgZnVuY3Rpb25cIikpIHJldHVybiBjb2RlO1xuICAgIGlmIChjb2RlLmluY2x1ZGVzKFwiPC9oZWFkPlwiKSkgcmV0dXJuIGNvZGUucmVwbGFjZShcIjwvaGVhZD5cIiwgYCR7aGVscGVyfTwvaGVhZD5gKTtcbiAgICByZXR1cm4gaGVscGVyICsgY29kZTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9YCwgeyBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIgfSk7XG4gICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBzZXRHYW1lKGRhdGEpO1xuICAgICAgICBzZXRNYW51YWxDb2RlKGRhdGEuY29kZSk7XG4gICAgICAgIGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9L3BsYXlgLCB7IG1ldGhvZDogXCJQT1NUXCIgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICBjb25zdCBtZVJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vYXV0aC9tZWAsIHsgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiIH0pO1xuICAgICAgICBpZiAobWVSZXMub2spIHtcbiAgICAgICAgICBjb25zdCBtZURhdGEgPSBhd2FpdCBtZVJlcy5qc29uKCk7XG4gICAgICAgICAgc2V0TWUobWVEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2b3RlUmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke3BhcmFtcy5pZH0vdm90ZXNgKTtcbiAgICAgICAgaWYgKHZvdGVSZXMub2spIHtcbiAgICAgICAgICBjb25zdCB2ZGF0YSA9IGF3YWl0IHZvdGVSZXMuanNvbigpO1xuICAgICAgICAgIHNldFZvdGVzKHZkYXRhLmNvdW50IHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbW1lbnRSZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7cGFyYW1zLmlkfS9jb21tZW50c2ApO1xuICAgICAgICBpZiAoY29tbWVudFJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IGNkYXRhID0gYXdhaXQgY29tbWVudFJlcy5qc29uKCk7XG4gICAgICAgICAgc2V0Q29tbWVudHMoY2RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlciA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtwYXJhbXMuaWR9L3ZlcnNpb25zYCk7XG4gICAgICAgIGlmICh2ZXIub2spIHtcbiAgICAgICAgICBjb25zdCB2ZGF0YSA9IGF3YWl0IHZlci5qc29uKCk7XG4gICAgICAgICAgc2V0VmVyc2lvbnModmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBsb2FkIGdhbWVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGxvYWQoKTtcbiAgfSwgW3BhcmFtcy5pZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdhbWUpIHNldE1hbnVhbENvZGUoZ2FtZS5jb2RlKTtcbiAgfSwgW2dhbWU/LmNvZGUsIGdhbWU/LmlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZlbnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09IFwiZ2FtZV9lcnJvclwiKSB7XG4gICAgICAgIHNldFByZXZpZXdFcnJvcnMoKHByZXYpID0+IFtkYXRhLm1lc3NhZ2UsIC4uLnByZXZdLnNsaWNlKDAsIDUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uTWVzc2FnZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbk1lc3NhZ2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgZ3JvdXBlZFZlcnNpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFzaChzdHI6IHN0cmluZykge1xuICAgICAgbGV0IGggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaCA9IChoICogMzEgKyBzdHIuY2hhckNvZGVBdChpKSkgfCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGgudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBjb25zdCBzZWVuID0gbmV3IE1hcDxzdHJpbmcsIHsgdjogYW55OyBjb3VudDogbnVtYmVyIH0+KCk7XG4gICAgY29uc3Qgb3JkZXJlZDogeyB2OiBhbnk7IGNvdW50OiBudW1iZXIgfVtdID0gW107XG4gICAgZm9yIChjb25zdCB2IG9mIHZlcnNpb25zKSB7XG4gICAgICBjb25zdCBrZXkgPSBoYXNoKHYuY29kZSB8fCBcIlwiKTtcbiAgICAgIGlmIChzZWVuLmhhcyhrZXkpKSB7XG4gICAgICAgIHNlZW4uZ2V0KGtleSkhLmNvdW50ICs9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHsgdiwgY291bnQ6IDEgfTtcbiAgICAgICAgc2Vlbi5zZXQoa2V5LCBlbnRyeSk7XG4gICAgICAgIG9yZGVyZWQucHVzaChlbnRyeSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcmRlcmVkO1xuICB9LCBbdmVyc2lvbnNdKTtcblxuICBhc3luYyBmdW5jdGlvbiBvcGVuRnVsbHNjcmVlbigpIHtcbiAgICBpZiAoIXByZXZpZXdSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGlmIChkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgYXdhaXQgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgcHJldmlld1JlZi5jdXJyZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmb2N1c1ByZXZpZXcoKSB7XG4gICAgaWZyYW1lUmVmLmN1cnJlbnQ/LmNvbnRlbnRXaW5kb3c/LmZvY3VzKCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzdWJtaXRFZGl0KCkge1xuICAgIGlmICghaW5zdHJ1Y3Rpb24udHJpbSgpIHx8ICFnYW1lKSByZXR1cm47XG4gICAgc2V0RWRpdGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke2dhbWUuaWR9L2VkaXRgLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpbnN0cnVjdGlvbiB9KVxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlcy50ZXh0KCkpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBzZXRHYW1lKGRhdGEpO1xuICAgICAgc2V0SW5zdHJ1Y3Rpb24oXCJcIik7XG4gICAgICBjb25zdCB2ZXIgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7cGFyYW1zLmlkfS92ZXJzaW9uc2ApO1xuICAgICAgaWYgKHZlci5vaykge1xuICAgICAgICBjb25zdCB2ZGF0YSA9IGF3YWl0IHZlci5qc29uKCk7XG4gICAgICAgIHNldFZlcnNpb25zKHZkYXRhKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJFZGl0IGZhaWxlZFwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RWRpdGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gcm9sbGJhY2sodmVyc2lvbklkOiBudW1iZXIpIHtcbiAgICBpZiAoIWdhbWUpIHJldHVybjtcbiAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7Z2FtZS5pZH0vcm9sbGJhY2svJHt2ZXJzaW9uSWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIHNldEdhbWUoZGF0YSk7XG4gICAgICBjb25zdCB2ZXIgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7cGFyYW1zLmlkfS92ZXJzaW9uc2ApO1xuICAgICAgaWYgKHZlci5vaykge1xuICAgICAgICBjb25zdCB2ZGF0YSA9IGF3YWl0IHZlci5qc29uKCk7XG4gICAgICAgIHNldFZlcnNpb25zKHZkYXRhKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJSb2xsYmFjayBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEVkaXRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVNYW51YWwoKSB7XG4gICAgaWYgKCFnYW1lKSByZXR1cm47XG4gICAgc2V0RWRpdGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9nYW1lcy8ke2dhbWUuaWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb2RlOiBtYW51YWxDb2RlIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIHNldEdhbWUoZGF0YSk7XG4gICAgICBjb25zdCB2ZXIgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7cGFyYW1zLmlkfS92ZXJzaW9uc2ApO1xuICAgICAgaWYgKHZlci5vaykge1xuICAgICAgICBjb25zdCB2ZGF0YSA9IGF3YWl0IHZlci5qc29uKCk7XG4gICAgICAgIHNldFZlcnNpb25zKHZkYXRhKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJNYW51YWwgc2F2ZSBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEVkaXRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdENvbW1lbnQoKSB7XG4gICAgaWYgKCFjb21tZW50LnRyaW0oKSB8fCAhZ2FtZSkgcmV0dXJuO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtnYW1lLmlkfS9jb21tZW50c2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbnRlbnQ6IGNvbW1lbnQgfSlcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICBjb25zdCBjID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIHNldENvbW1lbnRzKChwcmV2KSA9PiBbYywgLi4ucHJldl0pO1xuICAgICAgc2V0Q29tbWVudChcIlwiKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGVWb3RlKCkge1xuICAgIGlmICghZ2FtZSkgcmV0dXJuO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXMvJHtnYW1lLmlkfS92b3RlYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIlxuICAgIH0pO1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIGNvbnN0IHYgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzLyR7Z2FtZS5pZH0vdm90ZXNgKTtcbiAgICAgIGlmICh2Lm9rKSB7XG4gICAgICAgIGNvbnN0IHZkYXRhID0gYXdhaXQgdi5qc29uKCk7XG4gICAgICAgIHNldFZvdGVzKHZkYXRhLmNvdW50IHx8IDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPG1haW4gY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgPExpbmsgaHJlZj1cIi9cIiBjbGFzc05hbWU9XCJiYWRnZVwiPkJhY2s8L0xpbms+XG4gICAgICB7ZXJyb3IgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFwiI2ZmOWI5YlwiIH19PntlcnJvcn08L3A+fVxuICAgICAgeyFnYW1lICYmICFlcnJvciAmJiA8cD5Mb2FkaW5nLi4uPC9wPn1cbiAgICAgIHtnYW1lICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImdyaWRcIiwgZ2FwOiAxNiB9fT5cbiAgICAgICAgICA8aDE+e2dhbWUudGl0bGV9PC9oMT5cbiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogXCIjOThhMGI1XCIgfX0+e2dhbWUuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJldmlldy1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlBsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9eygpID0+IHNldFBlcmZNb2RlKCh2KSA9PiAhdil9PlxuICAgICAgICAgICAgICAgIHtwZXJmTW9kZSA/IFwiUGVyZiBNb2RlOiBPblwiIDogXCJQZXJmIE1vZGU6IE9mZlwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXtvcGVuRnVsbHNjcmVlbn0+RnVsbHNjcmVlbjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3XCIgcmVmPXtwcmV2aWV3UmVmfSBvbkNsaWNrPXtmb2N1c1ByZXZpZXd9PlxuICAgICAgICAgICAgPGlmcmFtZSByZWY9e2lmcmFtZVJlZn0gc3JjRG9jPXt3aXRoQUlIZWxwZXIoZ2FtZS5jb2RlKX0gc2FuZGJveD1cImFsbG93LXNjcmlwdHNcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtwcmV2aWV3RXJyb3JzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlByZXZpZXcgRXJyb3JzPC9kaXY+XG4gICAgICAgICAgICAgIHtwcmV2aWV3RXJyb3JzLm1hcCgoZSwgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpfSBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIiBzdHlsZT17eyBjb2xvcjogXCIjZmY5YjliXCIgfX0+e2V9PC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlByb21wdDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj57Z2FtZS5wcm9tcHR9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5TaGFyZTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5QdWJsaWMgbGluazwvZGl2PlxuICAgICAgICAgICAgPGNvZGU+e3R5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9wbGF5LyR7Z2FtZS5pZH1gIDogYC9wbGF5LyR7Z2FtZS5pZH1gfTwvY29kZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7aXNPd25lciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+RWRpdCBXaXRoIEFJPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+RGVzY3JpYmUgdGhlIGNoYW5nZSB5b3Ugd2FudC48L2Rpdj5cbiAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgdmFsdWU9e2luc3RydWN0aW9ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5zdHJ1Y3Rpb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIGEgdGltZXIsIG5ldyBvYnN0YWNsZXMsIGNoYW5nZSBhcnQgc3R5bGUuLi5cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogMTIwIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17c3VibWl0RWRpdH0gZGlzYWJsZWQ9e2VkaXRpbmd9PlxuICAgICAgICAgICAgICAgICAge2VkaXRpbmcgPyBcIkVkaXRpbmcuLi5cIiA6IFwiQXBwbHkgRWRpdFwifVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5Db21tdW5pdHk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e3RvZ2dsZVZvdGV9PlVwdm90ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlZvdGVzOiB7dm90ZXN9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICB2YWx1ZT17Y29tbWVudH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDb21tZW50KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXcml0ZSBhIGNvbW1lbnQuLi5cIlxuICAgICAgICAgICAgICBzdHlsZT17eyBtaW5IZWlnaHQ6IDEyMCB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3N1Ym1pdENvbW1lbnR9PlBvc3QgQ29tbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMTAsIGRpc3BsYXk6IFwiZ3JpZFwiLCBnYXA6IDYgfX0+XG4gICAgICAgICAgICAgIHtjb21tZW50cy5sZW5ndGggPT09IDAgJiYgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5ObyBjb21tZW50cyB5ZXQuPC9kaXY+fVxuICAgICAgICAgICAgICB7Y29tbWVudHMubWFwKChjKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2MuaWR9IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz57Yy51c2VybmFtZSB8fCBcIlVzZXJcIn06PC9zdHJvbmc+IHtjLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBtYXJnaW5MZWZ0OiA4LCBjb2xvcjogXCIjOThhMGI1XCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjLmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZShjLmNyZWF0ZWRfYXQpLnRvTG9jYWxlU3RyaW5nKCkgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtpc093bmVyICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPk1hbnVhbCBDb2RlIEVkaXQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPkVkaXQgSFRNTCBkaXJlY3RseSBhbmQgc2F2ZS48L2Rpdj5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxDb2RlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNYW51YWxDb2RlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogMjIwIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1yb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17c2F2ZU1hbnVhbH0gZGlzYWJsZWQ9e2VkaXRpbmd9PlxuICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZyA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmUgQ29kZVwifVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5WZXJzaW9uIEhpc3Rvcnk8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlJvbGxiYWNrIHRvIGEgcHJldmlvdXMgdmVyc2lvbi48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZ3JpZFwiLCBnYXA6IDggfX0+XG4gICAgICAgICAgICAgICAgICB7dmVyc2lvbnMubGVuZ3RoID09PSAwICYmIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Tm8gdmVyc2lvbnMgeWV0LjwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgIHsoc2hvd0FsbFZlcnNpb25zID8gZ3JvdXBlZFZlcnNpb25zIDogZ3JvdXBlZFZlcnNpb25zLnNsaWNlKDAsIDYpKS5tYXAoKGVudHJ5OiBhbnkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2VudHJ5LnYuaWR9IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDgsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvbGxiYWNrKGVudHJ5LnYuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VkaXRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmbGV4OiAxIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKGVudHJ5LnYuY3JlYXRlZF9hdCkudG9Mb2NhbGVTdHJpbmcoKX0g4oCUIHtlbnRyeS52LnRpdGxlfSBbe2VudHJ5LnYuYWN0aW9uIHx8IFwiZWRpdFwifV1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRyeS5jb3VudCA+IDEgPyBgICh4JHtlbnRyeS5jb3VudH0pYCA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVmVyc2lvbihlbnRyeS52KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtlZGl0aW5nfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIENvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7Z3JvdXBlZFZlcnNpb25zLmxlbmd0aCA+IDYgJiYgKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IDggfX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0FsbFZlcnNpb25zKChzKSA9PiAhcyl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtzaG93QWxsVmVyc2lvbnMgPyBcIlNob3cgTGVzc1wiIDogXCJTaG93IEFsbFwifVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzZWxlY3RlZFZlcnNpb24gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPkNvbXBhcmUgVmVyc2lvbnM8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5cbiAgICAgICAgICAgICAgICBTZWxlY3RlZDoge25ldyBEYXRlKHNlbGVjdGVkVmVyc2lvbi5jcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygpfSDigJQge3NlbGVjdGVkVmVyc2lvbi50aXRsZX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJncmlkXCIsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMWZyIDFmclwiLCBnYXA6IDEyIH19PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPkN1cnJlbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSByZWFkT25seSB2YWx1ZT17Z2FtZS5jb2RlfSBzdHlsZT17eyBtaW5IZWlnaHQ6IDIyMCB9fSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlNlbGVjdGVkPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgcmVhZE9ubHkgdmFsdWU9e3NlbGVjdGVkVmVyc2lvbi5jb2RlfSBzdHlsZT17eyBtaW5IZWlnaHQ6IDIyMCB9fSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCIgc3R5bGU9e3sgbWFyZ2luVG9wOiA4IH19PlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRWZXJzaW9uKG51bGwpfT5cbiAgICAgICAgICAgICAgICAgIENsb3NlIENvbXBhcmVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9tYWluPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkxpbmsiLCJBUEkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkdhbWVQYWdlIiwicGFyYW1zIiwiZ2FtZSIsInNldEdhbWUiLCJlcnJvciIsInNldEVycm9yIiwicHJldmlld1JlZiIsImlmcmFtZVJlZiIsImluc3RydWN0aW9uIiwic2V0SW5zdHJ1Y3Rpb24iLCJlZGl0aW5nIiwic2V0RWRpdGluZyIsInZlcnNpb25zIiwic2V0VmVyc2lvbnMiLCJzaG93QWxsVmVyc2lvbnMiLCJzZXRTaG93QWxsVmVyc2lvbnMiLCJzZWxlY3RlZFZlcnNpb24iLCJzZXRTZWxlY3RlZFZlcnNpb24iLCJtYW51YWxDb2RlIiwic2V0TWFudWFsQ29kZSIsInByZXZpZXdFcnJvcnMiLCJzZXRQcmV2aWV3RXJyb3JzIiwiY29tbWVudCIsInNldENvbW1lbnQiLCJjb21tZW50cyIsInNldENvbW1lbnRzIiwidm90ZXMiLCJzZXRWb3RlcyIsIm1lIiwic2V0TWUiLCJwZXJmTW9kZSIsInNldFBlcmZNb2RlIiwiaXNPd25lciIsImlkIiwiY3JlYXRvcl9pZCIsIndpdGhBSUhlbHBlciIsImNvZGUiLCJ3c1VybCIsInJlcGxhY2UiLCJoZWxwZXIiLCJpbmNsdWRlcyIsImxvYWQiLCJyZXMiLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwib2siLCJFcnJvciIsInRleHQiLCJkYXRhIiwianNvbiIsIm1ldGhvZCIsImNhdGNoIiwibWVSZXMiLCJtZURhdGEiLCJ2b3RlUmVzIiwidmRhdGEiLCJjb3VudCIsImNvbW1lbnRSZXMiLCJjZGF0YSIsInZlciIsImVyciIsIm1lc3NhZ2UiLCJvbk1lc3NhZ2UiLCJldmVudCIsInR5cGUiLCJwcmV2Iiwic2xpY2UiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdyb3VwZWRWZXJzaW9ucyIsImhhc2giLCJzdHIiLCJoIiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJ0b1N0cmluZyIsInNlZW4iLCJNYXAiLCJvcmRlcmVkIiwidiIsImtleSIsImhhcyIsImdldCIsImVudHJ5Iiwic2V0IiwicHVzaCIsIm9wZW5GdWxsc2NyZWVuIiwiY3VycmVudCIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJleGl0RnVsbHNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZm9jdXNQcmV2aWV3IiwiY29udGVudFdpbmRvdyIsImZvY3VzIiwic3VibWl0RWRpdCIsInRyaW0iLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyb2xsYmFjayIsInZlcnNpb25JZCIsInNhdmVNYW51YWwiLCJzdWJtaXRDb21tZW50IiwiY29udGVudCIsImMiLCJ0b2dnbGVWb3RlIiwibWFpbiIsImNsYXNzTmFtZSIsImhyZWYiLCJwIiwic3R5bGUiLCJjb2xvciIsImRpdiIsImRpc3BsYXkiLCJnYXAiLCJoMSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJidXR0b24iLCJvbkNsaWNrIiwicmVmIiwiaWZyYW1lIiwic3JjRG9jIiwic2FuZGJveCIsIm1hcCIsImUiLCJwcm9tcHQiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInRleHRhcmVhIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwibWluSGVpZ2h0IiwiZGlzYWJsZWQiLCJtYXJnaW5Ub3AiLCJzdHJvbmciLCJ1c2VybmFtZSIsInNwYW4iLCJtYXJnaW5MZWZ0IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsImFsaWduSXRlbXMiLCJmbGV4IiwiYWN0aW9uIiwicyIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJyZWFkT25seSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/games/[id]/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"00125cca8d0e\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWZhY3Rvcnktd2ViLy4vYXBwL2dsb2JhbHMuY3NzPzQ0NmYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIwMDEyNWNjYThkMGVcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/games/[id]/page.tsx":
/*!*********************************!*\
  !*** ./app/games/[id]/page.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/games/[id]/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n\n\nconst metadata = {\n    title: \"Game Factory\",\n    description: \"Create, play, and share AI-generated games\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"app-shell\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"topbar\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                className: \"logo\",\n                                href: \"/\",\n                                children: \"Game Factory\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                lineNumber: 15,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                                className: \"top-nav\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/\",\n                                        children: \"Create\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 17,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/lobby\",\n                                        children: \"Lobby\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 18,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/toolkit\",\n                                        children: \"Toolkit\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 19,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"/account\",\n                                        children: \"Account\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                        lineNumber: 20,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                                lineNumber: 16,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                        lineNumber: 14,\n                        columnNumber: 11\n                    }, this),\n                    children,\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                        className: \"footer\",\n                        children: \"Built for rapid game magic. No Docker required.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                        lineNumber: 24,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/layout.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUI7QUFHaEIsTUFBTUEsV0FBVztJQUN0QkMsT0FBTztJQUNQQyxhQUFhO0FBQ2YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFBRUMsUUFBUSxFQUEyQjtJQUN0RSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztrQkFDVCw0RUFBQ0M7c0JBQ0MsNEVBQUNDO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0M7d0JBQU9ELFdBQVU7OzBDQUNoQiw4REFBQ0U7Z0NBQUVGLFdBQVU7Z0NBQU9HLE1BQUs7MENBQUk7Ozs7OzswQ0FDN0IsOERBQUNDO2dDQUFJSixXQUFVOztrREFDYiw4REFBQ0U7d0NBQUVDLE1BQUs7a0RBQUk7Ozs7OztrREFDWiw4REFBQ0Q7d0NBQUVDLE1BQUs7a0RBQVM7Ozs7OztrREFDakIsOERBQUNEO3dDQUFFQyxNQUFLO2tEQUFXOzs7Ozs7a0RBQ25CLDhEQUFDRDt3Q0FBRUMsTUFBSztrREFBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUd0QlI7a0NBQ0QsOERBQUNVO3dCQUFPTCxXQUFVO2tDQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FtZS1mYWN0b3J5LXdlYi8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuaW1wb3J0IHR5cGUgeyBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICB0aXRsZTogXCJHYW1lIEZhY3RvcnlcIixcbiAgZGVzY3JpcHRpb246IFwiQ3JlYXRlLCBwbGF5LCBhbmQgc2hhcmUgQUktZ2VuZXJhdGVkIGdhbWVzXCJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwLXNoZWxsXCI+XG4gICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJ0b3BiYXJcIj5cbiAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImxvZ29cIiBocmVmPVwiL1wiPkdhbWUgRmFjdG9yeTwvYT5cbiAgICAgICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9wLW5hdlwiPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiL1wiPkNyZWF0ZTwvYT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIi9sb2JieVwiPkxvYmJ5PC9hPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiL3Rvb2xraXRcIj5Ub29sa2l0PC9hPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiL2FjY291bnRcIj5BY2NvdW50PC9hPlxuICAgICAgICAgICAgPC9uYXY+XG4gICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwiZm9vdGVyXCI+QnVpbHQgZm9yIHJhcGlkIGdhbWUgbWFnaWMuIE5vIERvY2tlciByZXF1aXJlZC48L2Zvb3Rlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImEiLCJocmVmIiwibmF2IiwiZm9vdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgames%2F%5Bid%5D%2Fpage&page=%2Fgames%2F%5Bid%5D%2Fpage&appPaths=%2Fgames%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fgames%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarjarbeatu%2FDocuments%2FArcadia%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();