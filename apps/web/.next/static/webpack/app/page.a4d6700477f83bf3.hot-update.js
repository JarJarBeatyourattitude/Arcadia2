"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nvar _process_env_NEXT_PUBLIC_API_URL;\nconst API = (_process_env_NEXT_PUBLIC_API_URL = \"http://localhost:8000\") !== null && _process_env_NEXT_PUBLIC_API_URL !== void 0 ? _process_env_NEXT_PUBLIC_API_URL : \"http://localhost:8000\";\nfunction Home() {\n    _s();\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Create a neon arcade racer where the player dodges obstacles, collects boosts, and reaches 1000 points to win.\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [generated, setGenerated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [streaming, setStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastCode, setLastCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [previewErrors, setPreviewErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [previewWarnings, setPreviewWarnings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCode, setShowCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [games, setGames] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previewKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>generated ? generated.title + generated.code.length : \"empty\", [\n        generated\n    ]);\n    async function refreshGames() {\n        const res = await fetch(\"\".concat(API, \"/games\"));\n        const data = await res.json();\n        setGames(data);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        refreshGames().catch(()=>{});\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onMessage(event) {\n            const data = event.data;\n            if (data && data.type === \"game_error\") {\n                setPreviewErrors((prev)=>[\n                        data.message,\n                        ...prev\n                    ].slice(0, 5));\n            }\n        }\n        window.addEventListener(\"message\", onMessage);\n        return ()=>window.removeEventListener(\"message\", onMessage);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!generated) return;\n        const warnings = [];\n        if (generated.code.length > 800000) warnings.push(\"Very large HTML output; preview may be slow.\");\n        if (/<script[^>]+src=/i.test(generated.code)) warnings.push(\"External <script src> was stripped for safety.\");\n        if (new RegExp(\"<link[^>]+href=['\\\"]https?://\", \"i\").test(generated.code)) {\n            warnings.push(\"External <link href> was stripped for safety.\");\n        }\n        setPreviewWarnings(warnings);\n    }, [\n        generated\n    ]);\n    function withAIHelper(code) {\n        const wsUrl = API.replace(\"http://\", \"ws://\").replace(\"https://\", \"wss://\");\n        const helper = '\\n<script>\\nwindow.GameFactoryAI = async function(prompt, system, timeoutMs=8000){\\n  const controller = new AbortController();\\n  const timer = setTimeout(()=>controller.abort(), timeoutMs);\\n  try{\\n    const res = await fetch(\"'.concat(API, '/ai\", {\\n      method: \"POST\",\\n      headers: {\"Content-Type\": \"application/json\"},\\n      body: JSON.stringify({ prompt, system }),\\n      signal: controller.signal\\n    });\\n    const data = await res.json();\\n    return data.content || \"\";\\n  } finally {\\n    clearTimeout(timer);\\n  }\\n};\\nwindow.GameFactoryMultiplayer = function(roomId){\\n  const ws = new WebSocket(\"').concat(wsUrl, \"/ws/\\\" + encodeURIComponent(roomId || \\\"lobby\\\"));\\n  const handlers = [];\\n  ws.onmessage = (evt) => {\\n    handlers.forEach((fn) => fn(evt.data));\\n  };\\n  return {\\n    send: (data) => {\\n      if (ws.readyState === 1) ws.send(typeof data === \\\"string\\\" ? data : JSON.stringify(data));\\n    },\\n    onMessage: (fn) => handlers.push(fn),\\n    disconnect: () => ws.close()\\n  };\\n};\\nwindow.GameFactoryKit = (function(){\\n  const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));\\n  const lerp = (a,b,t)=>a+(b-a)*t;\\n  const map = (v,inMin,inMax,outMin,outMax)=>outMin+(outMax-outMin)*((v-inMin)/(inMax-inMin));\\n  const rand = (min=0,max=1)=>Math.random()*(max-min)+min;\\n  const choice = (arr)=>arr[Math.floor(Math.random()*arr.length)];\\n  const now = ()=>performance.now();\\n  const easing = {\\n    linear:t=>t,\\n    inQuad:t=>t*t,\\n    outQuad:t=>t*(2-t),\\n    inOutQuad:t=>t<0.5?2*t*t:-1+(4-2*t)*t\\n  };\\n  const tween = (obj, prop, to, duration, ease=easing.inOutQuad) => {\\n    const from = obj[prop];\\n    const start = now();\\n    return new Promise((resolve)=>{\\n      function tick(){\\n        const t = Math.min(1, (now()-start)/duration);\\n        obj[prop] = from + (to-from)*ease(t);\\n        if (t<1) requestAnimationFrame(tick); else resolve(true);\\n      }\\n      tick();\\n    });\\n  };\\n  const storage = {\\n    save:(key,val)=>localStorage.setItem(key,JSON.stringify(val)),\\n    load:(key,def=null)=>{ try{const v=localStorage.getItem(key); return v?JSON.parse(v):def;}catch{return def;} },\\n    slotSave:(slot,val)=>localStorage.setItem(\\\"gf_slot_\\\"+slot,JSON.stringify(val)),\\n    slotLoad:(slot,def=null)=>{ try{const v=localStorage.getItem(\\\"gf_slot_\\\"+slot); return v?JSON.parse(v):def;}catch{return def;} }\\n  };\\n  const input = (function(){\\n    const keys = {};\\n    const mouse = {x:0,y:0,down:false};\\n    window.addEventListener('keydown',e=>keys[e.key]=true);\\n    window.addEventListener('keyup',e=>keys[e.key]=false);\\n    window.addEventListener('mousemove',e=>{mouse.x=e.clientX; mouse.y=e.clientY;});\\n    window.addEventListener('mousedown',()=>mouse.down=true);\\n    window.addEventListener('mouseup',()=>mouse.down=false);\\n    return { keys, mouse, isDown:(k)=>!!keys[k] };\\n  })();\\n  const audio = (function(){\\n    let ctx;\\n    const ensure=()=>ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());\\n    const beep=(freq=440,dur=0.1,type='sine',vol=0.2)=>{\\n      if (dur > 5) dur = dur / 1000;\\n      const c=ensure();\\n      const o=c.createOscillator(); const g=c.createGain();\\n      o.type=type; o.frequency.value=freq;\\n      const t=c.currentTime;\\n      g.gain.setValueAtTime(0.0001, t);\\n      g.gain.exponentialRampToValueAtTime(Math.max(0.0001, vol), t+0.01);\\n      g.gain.exponentialRampToValueAtTime(0.0001, t+dur);\\n      o.connect(g); g.connect(c.destination);\\n      o.start(t); o.stop(t+dur+0.02);\\n    };\\n    return { beep };\\n  })();\\n  const physics2d = {\\n    step:(obj,dt)=>{ obj.vx=(obj.vx||0)+(obj.ax||0)*dt; obj.vy=(obj.vy||0)+(obj.ay||0)*dt; obj.x+=obj.vx*dt; obj.y+=obj.vy*dt; },\\n    aabb:(a,b)=>a.x<a.w+b.x&&a.x+a.w>b.x&&a.y<a.h+b.y&&a.y+a.h>b.y,\\n    circle:(a,b)=>Math.hypot(a.x-b.x,a.y-b.y)<(a.r+b.r)\\n  };\\n  const cooldown = (function(){\\n    const map = new Map();\\n    const ready=(key,ms)=>{ const t=now(); if(!map.has(key)||t-map.get(key)>=ms){ map.set(key,t); return true;} return false; };\\n    return { ready };\\n  })();\\n  const timers = (function(){\\n    const list=[];\\n    const after=(ms,fn)=>{ const t=now()+ms; list.push({t,fn}); };\\n    const tick=()=>{ const t=now(); for(let i=list.length-1;i>=0;i--){ if(t>=list[i].t){ list[i].fn(); list.splice(i,1);} } };\\n    return { after, tick };\\n  })();\\n  const particles = (function(){\\n    const list=[];\\n    const spawn=(x,y,count=20)=>{ for(let i=0;i<count;i++){ list.push({x,y,vx:rand(-1,1),vy:rand(-1,1),life:rand(0.4,1)});} };\\n    const update=(dt)=>{ for(const p of list){ p.x+=p.vx*dt*60; p.y+=p.vy*dt*60; p.life-=dt; } };\\n    const draw=(ctx)=>{ for(const p of list){ if(p.life<=0) continue; ctx.globalAlpha=Math.max(0,p.life); ctx.fillRect(p.x,p.y,2,2);} ctx.globalAlpha=1; };\\n    const prune=()=>{ for(let i=list.length-1;i>=0;i--){ if(list[i].life<=0) list.splice(i,1);} };\\n    return { spawn, update, draw, prune, list };\\n  })();\\n  const pseudo3d = {\\n    project:(pt,cam)=>{ const z=pt.z-(cam.z||0); const scale=(cam.fov||400)/(z||1); return { x:(pt.x-(cam.x||0))*scale+(cam.cx||0), y:(pt.y-(cam.y||0))*scale+(cam.cy||0), scale }; }\\n  };\\n  const color = {\\n    hexToRgb:(hex)=>{ const h=hex.replace('#',''); const bigint=parseInt(h,16); return {r:(bigint>>16)&255,g:(bigint>>8)&255,b:bigint&255}; },\\n    rgbToHex:(r,g,b)=>'#'+[r,g,b].map(v=>v.toString(16).padStart(2,'0')).join(''),\\n    lerp:(a,b,t)=>({ r:Math.round(a.r+(b.r-a.r)*t), g:Math.round(a.g+(b.g-a.g)*t), b:Math.round(a.b+(b.b-a.b)*t) })\\n  };\\n  const text = {\\n    wrap:(ctx,text,maxWidthOrX,y,maybeW,maybeLineH)=>{\\n      if (typeof maxWidthOrX === 'number' && typeof y === 'number' && typeof maybeW === 'number') {\\n        const x = maxWidthOrX;\\n        const maxW = maybeW;\\n        const lineH = typeof maybeLineH === 'number' ? maybeLineH : 18;\\n        const lines = textWrap(ctx, text, maxW);\\n        lines.forEach((ln,i)=>ctx.fillText(ln,x,y+i*lineH));\\n        return lines;\\n      }\\n      return textWrap(ctx, text, maxWidthOrX);\\n    }\\n  };\\n  function textWrap(ctx, txt, maxWidth){\\n    const words=String(txt||'').split(' '); let line=''; const lines=[];\\n    for(const w of words){ const test=line+w+' '; if(ctx.measureText(test).width>maxWidth){ lines.push(line.trim()); line=w+' '; } else { line=test; } }\\n    lines.push(line.trim()); return lines;\\n  }\\n  const rng = (function(){\\n    let seed = 1234567;\\n    const setSeed = (s)=>{ seed = s>>>0; };\\n    const next = ()=>{ seed = (seed*1664525+1013904223)>>>0; return seed/4294967296; };\\n    return { setSeed, next };\\n  })();\\n  const eventBus = (function(){\\n    const map=new Map();\\n    const on=(evt,fn)=>{ if(!map.has(evt)) map.set(evt,[]); map.get(evt).push(fn); };\\n    const emit=(evt,data)=>{ (map.get(evt)||[]).forEach(fn=>fn(data)); };\\n    return { on, emit };\\n  })();\\n  const fsm = (initial)=>{ let state=initial; const transitions=new Map(); const on=(from,to,fn)=>transitions.set(from+'>'+to,fn); const set=(to)=>{ const fn=transitions.get(state+'>'+to); state=to; if(fn) fn(); }; const get=()=>state; return { on, set, get }; };\\n  const sprites = {\\n    draw:(ctx,img,frame,fw,fh,x,y,scale=1)=>{ const sx=frame*fw; ctx.drawImage(img,sx,0,fw,fh,x,y,fw*scale,fh*scale); }\\n  };\\n  const pathfinding = {\\n    aStar:(grid,start,end)=>{ const open=[start]; const came=new Map(); const g=new Map(); const f=new Map(); const key=(p)=>p.x+','+p.y; const h=(a,b)=>Math.abs(a.x-b.x)+Math.abs(a.y-b.y); g.set(key(start),0); f.set(key(start),h(start,end)); while(open.length){ open.sort((a,b)=>f.get(key(a))-f.get(key(b))); const current=open.shift(); if(current.x===end.x&&current.y===end.y){ const path=[current]; let k=key(current); while(came.has(k)){ const p=came.get(k); path.push(p); k=key(p); } return path.reverse(); } const dirs=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}]; for(const d of dirs){ const nx={x:current.x+d.x,y:current.y+d.y}; if(grid[nx.y]?.[nx.x]===1) continue; const tentative=(g.get(key(current))||0)+1; const nk=key(nx); if(tentative < (g.get(nk)??Infinity)){ came.set(nk,current); g.set(nk,tentative); f.set(nk,tentative+h(nx,end)); if(!open.find(p=>p.x===nx.x&&p.y===nx.y)) open.push(nx); } } } return []; }\\n  };\\n  const navmesh = {\\n    build:(grid,diag=false)=>({ grid, diag }),\\n    neighbors:(mesh,node)=>{ const dirs=mesh.diag?[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:-1}]:[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}]; return dirs.map(d=>({x:node.x+d.x,y:node.y+d.y})).filter(n=>mesh.grid[n.y]?.[n.x]!==1); },\\n    lineOfSight:(mesh,a,b)=>{ let x0=a.x,y0=a.y,x1=b.x,y1=b.y; const dx=Math.abs(x1-x0), dy=Math.abs(y1-y0); let sx=x0<x1?1:-1, sy=y0<y1?1:-1; let err=dx-dy; while(true){ if(mesh.grid[y0]?.[x0]===1) return false; if(x0===x1 && y0===y1) break; const e2=2*err; if(e2>-dy){ err-=dy; x0+=sx; } if(e2<dx){ err+=dx; y0+=sy; } } return true; },\\n    smooth:(path,mesh)=>{ if(path.length<=2) return path; const out=[path[0]]; let i=0; while(i<path.length-1){ let j=path.length-1; for(;j>i+1;j--){ if(navmesh.lineOfSight(mesh,path[i],path[j])) break; } out.push(path[j]); i=j; } return out; },\\n    findPath:(mesh,start,end)=>{ const p=pathfinding.aStar(mesh.grid,start,end); return navmesh.smooth(p,mesh); }\\n  };\\n  const levelGrammar = {\\n    expand:(rules,axiom,depth=3)=>{ let str=axiom; for(let i=0;i<depth;i++){ let out=\\\"\\\"; for(const ch of str){ const rule=rules[ch]; if(!rule){ out+=ch; continue; } if(Array.isArray(rule)){ const pick=rule[Math.floor(Math.random()*rule.length)]; out+=pick; } else if(typeof rule==='object'){ const entries=Object.entries(rule); const total=entries.reduce((s,[,w])=>s+Number(w||0),0); let r=Math.random()*total; for(const [sym,w] of entries){ r-=Number(w||0); if(r<=0){ out+=sym; break; } } } else { out+=String(rule); } } str=out; } return str; },\\n    toGrid:(str,w,wall='#')=>{ const rows=[]; for(let i=0;i<str.length;i+=w){ rows.push(str.slice(i,i+w).split(\\\"\\\").map(c=>c===wall?1:0)); } return rows; },\\n    interpret:(str,handlers)=>{ const state={ x:0,y:0,dir:0,stack:[] }; for(const ch of str){ if(handlers[ch]) handlers[ch](state); } return state; }\\n  };\\n  const audioSeq = (function(){\\n    let ctx;\\n    const ensure=()=>ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());\\n    const noteToFreq=(n)=>{ const A4=440; const map={'C':-9,'C#':-8,'D':-7,'D#':-6,'E':-5,'F':-4,'F#':-3,'G':-2,'G#':-1,'A':0,'A#':1,'B':2}; const m=n.match(/([A-G]#?)(d)/); if(!m) return 440; const sem=map[m[1]]+(Number(m[2])-4)*12; return A4*Math.pow(2,sem/12); };\\n    const play=(pattern,bpm=120)=>{ const c=ensure(); const beat=60/bpm; let t=c.currentTime; for(const note of pattern){ const o=c.createOscillator(); const g=c.createGain(); o.type=note.type||'sine'; o.frequency.value=note.freq|| (note.note?noteToFreq(note.note):440); g.gain.value=note.vol||0.15; o.connect(g); g.connect(c.destination); o.start(t); o.stop(t+(note.dur||0.2)); t+=beat*(note.beats||1); } };\\n    const track=(steps,bpm=120)=>{ const c=ensure(); const beat=60/bpm; const start=c.currentTime; steps.forEach((s,i)=>{ if(!s) return; const o=c.createOscillator(); const g=c.createGain(); o.type=s.type||'square'; o.frequency.value=s.freq|| (s.note?noteToFreq(s.note):440); g.gain.value=s.vol||0.1; o.connect(g); g.connect(c.destination); o.start(start+i*beat); o.stop(start+i*beat+(s.dur||0.2)); }); };\\n    return { play, track, noteToFreq };\\n  })();\\n  const ui = {\\n    button:(text, x, y, w, h, onClick)=>({ type:'button', text, x,y,w,h,onClick,hover:false }),\\n    slider:(label,x,y,w,min,max,value,onChange)=>({ type:'slider', label,x,y,w,h:24,min,max,value,onChange }),\\n    checkbox:(label,x,y,value,onChange)=>({ type:'checkbox', label,x,y,w:18,h:18,value,onChange }),\\n    draw:(ctx, widgets)=>{ widgets.forEach(w=>{ if(w.type==='button'){ ctx.fillStyle=w.hover?'rgba(255,255,255,0.2)':'rgba(0,0,0,0.5)'; ctx.fillRect(w.x,w.y,w.w,w.h); ctx.fillStyle='#fff'; ctx.fillText(w.text,w.x+8,w.y+w.h/2+4); } if(w.type==='slider'){ ctx.fillStyle='rgba(0,0,0,0.5)'; ctx.fillRect(w.x,w.y,w.w,w.h); const t=(w.value-w.min)/(w.max-w.min); ctx.fillStyle='#7df9ff'; ctx.fillRect(w.x, w.y, w.w*t, w.h); ctx.fillStyle='#fff'; ctx.fillText(w.label+': '+w.value.toFixed(1), w.x+4, w.y-4); } if(w.type==='checkbox'){ ctx.strokeStyle='#fff'; ctx.strokeRect(w.x,w.y,w.w,w.h); if(w.value){ ctx.fillStyle='#7df9ff'; ctx.fillRect(w.x+3,w.y+3,w.w-6,w.h-6); } ctx.fillStyle='#fff'; ctx.fillText(w.label, w.x+w.w+6, w.y+w.h-2); } }); },\\n    hit:(w, mx, my)=>mx>=w.x&&mx<=w.x+w.w&&my>=w.y&&my<=w.y+w.h,\\n    handleClick:(widgets,mx,my)=>{ widgets.forEach(w=>{ if(ui.hit(w,mx,my)){ if(w.type==='button' && w.onClick) w.onClick(); if(w.type==='checkbox' && w.onChange){ w.value=!w.value; w.onChange(w.value); } } }); },\\n    handleDrag:(widgets,mx,my)=>{ widgets.forEach(w=>{ if(w.type==='slider' && ui.hit(w,mx,my)){ const t=Math.max(0,Math.min(1,(mx-w.x)/w.w)); w.value=w.min + (w.max-w.min)*t; if(w.onChange) w.onChange(w.value); } }); }\\n  };\\n  const ecs = (function(){\\n    let nextId=1;\\n    const entities=new Set();\\n    const components=new Map();\\n    const systems=[];\\n    const create=()=>{ const id=nextId++; entities.add(id); return id; };\\n    const add=(id,name,data)=>{ if(!components.has(name)) components.set(name,new Map()); components.get(name).set(id,data); return data; };\\n    const get=(id,name)=>components.get(name)?.get(id);\\n    const has=(id,name)=>components.get(name)?.has(id);\\n    const remove=(id)=>{ entities.delete(id); for(const map of components.values()){ map.delete(id);} };\\n    const query=(names)=>{ const sets=names.map(n=>components.get(n)||new Map()); return [...entities].filter(id=>names.every(n=>sets[names.indexOf(n)].has(id))); };\\n    const system=(names,fn)=>{ systems.push({names,fn}); };\\n    const update=(dt)=>{ for(const s of systems){ const ids=query(s.names); for(const id of ids){ const comps=s.names.map(n=>get(id,n)); s.fn(id, ...comps, dt); } } };\\n    return { create, add, get, has, remove, query, system, update, components, entities };\\n  })();\\n  const terrain = {\\n    perlin2:(x,y)=>{ const s=Math.sin(x*12.9898+y*78.233)*43758.5453; return s-Math.floor(s); },\\n    heightMap:(w,h,scale=0.1)=>{ const map=[]; for(let y=0;y<h;y++){ const row=[]; for(let x=0;x<w;x++){ row.push(terrain.perlin2(x*scale,y*scale)); } map.push(row);} return map; }\\n  };\\n  const camera = {\\n    shake:(state,strength=6,decay=0.9)=>{ state.shake= {strength,decay,x:0,y:0}; },\\n    applyShake:(state,ctx)=>{ if(!state.shake) return; state.shake.x = rand(-state.shake.strength,state.shake.strength); state.shake.y = rand(-state.shake.strength,state.shake.strength); ctx.translate(state.shake.x,state.shake.y); state.shake.strength*=state.shake.decay; if(state.shake.strength<0.3) state.shake=null; }\\n  };\\n  const webgl = {\\n    create:(canvas)=>canvas.getContext('webgl')||canvas.getContext('experimental-webgl')\\n  };\\n  const gamepad = (function(){\\n    const state={ axes:[], buttons:[] };\\n    const poll=()=>{ const gp=navigator.getGamepads?.()[0]; if(!gp) return state; state.axes=gp.axes; state.buttons=gp.buttons.map(b=>b.pressed); return state; };\\n    return { poll, state };\\n  })();\\n  const assets = {\\n    image:(src)=>new Promise((res,rej)=>{ const img=new Image(); img.onload=()=>res(img); img.onerror=rej; img.src=src; }),\\n    audio:(src)=>new Promise((res,rej)=>{ const a=new Audio(); a.oncanplaythrough=()=>res(a); a.onerror=rej; a.src=src; })\\n  };\\n  const grid = {\\n    make:(w,h,fill=0)=>Array.from({length:h},()=>Array.from({length:w},()=>fill)),\\n    inBounds:(g,x,y)=>y>=0&&y<g.length&&x>=0&&x<g[0].length\\n  };\\n  const camera2d = {\\n    worldToScreen:(cam,x,y)=>({ x: x-cam.x, y: y-cam.y }),\\n    screenToWorld:(cam,x,y)=>({ x: x+cam.x, y: y+cam.y })\\n  };\\n  const metrics = (function(){\\n    let last=now(), fps=0;\\n    const tick=()=>{ const t=now(); fps=1000/(t-last); last=t; return fps; };\\n    return { tick, get:()=>fps };\\n  })();\\n  const logger = (function(){\\n    const logs=[]; const push=(msg)=>{ logs.unshift({ msg, t:now() }); if(logs.length>20) logs.pop(); };\\n    return { logs, push };\\n  })();\\n  const dialogue = (function(){\\n    const lines=[]; const say=(text)=>lines.push(text); const next=()=>lines.shift();\\n    return { say, next, lines };\\n  })();\\n  const timeline = (function(){\\n    const steps=[]; const add=(at,fn)=>steps.push({at,fn,done:false}); const run=(t)=>{ for(const s of steps){ if(!s.done && t>=s.at){ s.done=true; s.fn(); } } };\\n    return { add, run };\\n  })();\\n  return { clamp, lerp, map, rand, choice, now, easing, tween, storage, input, audio, physics2d, cooldown, timers, particles, pseudo3d, color, text, rng, eventBus, fsm, sprites, pathfinding, navmesh, levelGrammar, audioSeq, ui, ecs, terrain, camera, webgl, gamepad, assets, grid, camera2d, metrics, logger, dialogue, timeline };\\n})();\\n// Compatibility shims for models that don't namespace helpers\\n(function(){\\n  const K = window.GameFactoryKit;\\n  if (!K) return;\\n  window.clamp = window.clamp || K.clamp;\\n  window.lerp = window.lerp || K.lerp;\\n  window.map = window.map || K.map;\\n  window.rand = window.rand || K.rand;\\n  window.rng = window.rng || K.rng;\\n  window.choice = window.choice || K.choice;\\n  window.now = window.now || K.now;\\n  window.audio = window.audio || K.audio;\\n  window.input = window.input || K.input;\\n  window.storage = window.storage || K.storage;\\n  window.text = window.text || K.text;\\n  window.timers = window.timers || K.timers;\\n  window.pseudo3d = window.pseudo3d || K.pseudo3d;\\n  const camState = { shake: null };\\n  window.camera = window.camera || {\\n    shake: (strength=6, decay=0.9) => K.camera.shake(camState, strength, decay),\\n    applyShake: (ctx) => K.camera.applyShake(camState, ctx)\\n  };\\n  window.particles = window.particles || {\\n    spawn: (a,b,c) => {\\n      if (typeof a === \\\"object\\\") {\\n        const o = a || {};\\n        K.particles.spawn(o.x || 0, o.y || 0, o.count || 20);\\n      } else {\\n        K.particles.spawn(a || 0, b || 0, c || 20);\\n      }\\n    },\\n    update: (dt) => {\\n      const v = dt > 10 ? dt / 1000 : dt;\\n      K.particles.update(v);\\n      K.particles.prune();\\n    },\\n    draw: (ctx) => K.particles.draw(ctx),\\n    prune: () => K.particles.prune()\\n  };\\n  window.onerror = function(message, source, lineno, colno) {\\n    parent.postMessage({ type: \\\"game_error\\\", message: String(message) + \\\" @ \\\" + lineno + \\\":\\\" + colno }, \\\"*\\\");\\n  };\\n  window.onunhandledrejection = function(event) {\\n    parent.postMessage({ type: \\\"game_error\\\", message: String(event?.reason || \\\"Unhandled rejection\\\") }, \\\"*\\\");\\n  };\\n})();\\n</script>\\n\");\n        if (code.includes(\"window.GameFactoryKit\") || code.includes(\"GameFactoryAI = async function\")) return code;\n        if (code.includes(\"</head>\")) return code.replace(\"</head>\", \"\".concat(helper, \"</head>\"));\n        return helper + code;\n    }\n    async function generateGame() {\n        setLoading(true);\n        setStreaming(true);\n        setError(null);\n        setProgress(\"\");\n        setGenerated(null);\n        try {\n            const controller = new AbortController();\n            const timeout = setTimeout(()=>controller.abort(), 300000);\n            const res = await fetch(\"\".concat(API, \"/generate/stream\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    prompt\n                }),\n                signal: controller.signal\n            });\n            if (!res.ok || !res.body) {\n                clearTimeout(timeout);\n                throw new Error(await res.text());\n            }\n            const reader = res.body.getReader();\n            const decoder = new TextDecoder();\n            let buffer = \"\";\n            let didSet = false;\n            let doneSeen = false;\n            while(true){\n                const { value, done } = await reader.read();\n                if (done) break;\n                buffer += decoder.decode(value, {\n                    stream: true\n                });\n                buffer = buffer.replace(/\\r/g, \"\");\n                const parts = buffer.split(\"\\n\\n\");\n                buffer = parts.pop() || \"\";\n                for (const part of parts){\n                    const lines = part.split(\"\\n\");\n                    const eventLine = lines.find((l)=>l.startsWith(\"event:\"));\n                    const dataLines = lines.filter((l)=>l.startsWith(\"data:\"));\n                    const event = eventLine ? eventLine.replace(\"event:\", \"\").trim() : \"message\";\n                    const dataRaw = dataLines.map((l)=>l.replace(\"data:\", \"\").trim()).join(\"\\\\n\").trim();\n                    if (!dataRaw) continue;\n                    if (event === \"delta\") {\n                        try {\n                            const data = JSON.parse(dataRaw);\n                            setProgress((prev)=>prev + (data.chunk || \"\"));\n                        } catch (e) {}\n                    }\n                    if (event === \"done\") {\n                        try {\n                            const data = JSON.parse(dataRaw);\n                            setGenerated({\n                                title: data.title,\n                                description: data.description,\n                                code: data.code\n                            });\n                            setLastCode(data.code || \"\");\n                            didSet = true;\n                            setStreaming(false);\n                            clearTimeout(timeout);\n                            controller.abort();\n                            doneSeen = true;\n                            reader.cancel().catch(()=>{});\n                        } catch (e) {}\n                    }\n                }\n                if (doneSeen) break;\n            }\n            clearTimeout(timeout);\n            if (!didSet) {\n                const resFallback = await fetch(\"\".concat(API, \"/generate\"), {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        prompt\n                    })\n                });\n                if (resFallback.ok) {\n                    const data = await resFallback.json();\n                    setGenerated(data);\n                    setLastCode(data.code || \"\");\n                }\n            }\n        } catch (err) {\n            setError(err.message || \"Failed to generate game\");\n        } finally{\n            setLoading(false);\n            setStreaming(false);\n        }\n    }\n    async function saveGame() {\n        if (!generated) return;\n        setSaving(true);\n        setError(null);\n        try {\n            const res = await fetch(\"\".concat(API, \"/games\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    title: generated.title,\n                    description: generated.description,\n                    prompt,\n                    code: generated.code\n                })\n            });\n            if (!res.ok) {\n                throw new Error(await res.text());\n            }\n            await refreshGames();\n        } catch (err) {\n            setError(err.message || \"Failed to save game\");\n        } finally{\n            setSaving(false);\n        }\n    }\n    async function openFullscreen() {\n        if (!previewRef.current) return;\n        if (document.fullscreenElement) {\n            await document.exitFullscreen();\n            return;\n        }\n        await previewRef.current.requestFullscreen();\n    }\n    function focusPreview() {\n        var _iframeRef_current_contentWindow, _iframeRef_current;\n        (_iframeRef_current = iframeRef.current) === null || _iframeRef_current === void 0 ? void 0 : (_iframeRef_current_contentWindow = _iframeRef_current.contentWindow) === null || _iframeRef_current_contentWindow === void 0 ? void 0 : _iframeRef_current_contentWindow.focus();\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"hero\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hero-card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"badge\",\n                                children: \"AI Game Forge\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 504,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                children: \"Describe a game. Get something you can actually play.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 505,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Write your idea, generate a full HTML game, then save it to your local arcade. No Docker, no drama.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 506,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"prompt-area\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        value: prompt,\n                                        onChange: (e)=>setPrompt(e.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 510,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"button-row\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: generateGame,\n                                                disabled: loading,\n                                                children: loading ? \"Generating...\" : \"Generate Game\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 512,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"secondary\",\n                                                onClick: saveGame,\n                                                disabled: !generated || saving,\n                                                children: saving ? \"Saving...\" : \"Save Game\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 515,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 511,\n                                        columnNumber: 13\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        style: {\n                                            color: \"#ff9b9b\"\n                                        },\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 23\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 509,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 503,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hero-card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"preview-header\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Live Preview\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 524,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        onClick: openFullscreen,\n                                        children: \"Fullscreen\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 525,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 523,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"preview\",\n                                ref: previewRef,\n                                onClick: focusPreview,\n                                children: generated ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                    ref: iframeRef,\n                                    srcDoc: withAIHelper(generated.code),\n                                    sandbox: \"allow-scripts\"\n                                }, previewKey, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                    lineNumber: 529,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        padding: 24,\n                                        color: \"#98a0b5\"\n                                    },\n                                    children: streaming ? \"Streaming game build...\" : \"Generate a game to see it here.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                    lineNumber: 536,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 527,\n                                columnNumber: 11\n                            }, this),\n                            streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                style: {\n                                    marginTop: 16\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Live Build Log\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        style: {\n                                            whiteSpace: \"pre-wrap\"\n                                        },\n                                        children: progress.slice(-1200)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 544,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 542,\n                                columnNumber: 13\n                            }, this),\n                            (previewErrors.length > 0 || previewWarnings.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                style: {\n                                    marginTop: 12\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Preview Diagnostics\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 551,\n                                        columnNumber: 15\n                                    }, this),\n                                    previewWarnings.map((w, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-meta\",\n                                            style: {\n                                                color: \"#ffd166\"\n                                            },\n                                            children: w\n                                        }, \"w-\".concat(i), false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                            lineNumber: 553,\n                                            columnNumber: 17\n                                        }, this)),\n                                    previewErrors.map((e, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-meta\",\n                                            style: {\n                                                color: \"#ff9b9b\"\n                                            },\n                                            children: e\n                                        }, \"e-\".concat(i), false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                            lineNumber: 556,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 550,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 522,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                lineNumber: 502,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"section\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"tab-row\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: activeSection === \"arcade\" ? \"tab active\" : \"tab\",\n                            onClick: ()=>setActiveSection(\"arcade\"),\n                            children: \"Arcade\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                            lineNumber: 565,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: activeSection === \"lobby\" ? \"tab active\" : \"tab\",\n                            onClick: ()=>setActiveSection(\"lobby\"),\n                            children: \"Lobby\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                            lineNumber: 566,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: activeSection === \"toolkit\" ? \"tab active\" : \"tab\",\n                            onClick: ()=>setActiveSection(\"toolkit\"),\n                            children: \"Toolkit\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                            lineNumber: 567,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: activeSection === \"code\" ? \"tab active\" : \"tab\",\n                            onClick: ()=>setActiveSection(\"code\"),\n                            children: \"Code\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                            lineNumber: 568,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                    lineNumber: 564,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                lineNumber: 563,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"section\",\n                style: {\n                    display: activeSection === \"arcade\" ? \"block\" : \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        children: \"Local Arcade\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 573,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#98a0b5\"\n                        },\n                        children: \"These games are stored in your local SQLite database and ready to play.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 574,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"cards\",\n                        children: [\n                            games.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: \"No saved games yet.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 578,\n                                columnNumber: 34\n                            }, this),\n                            games.map((game)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    href: \"/games/\".concat(game.id),\n                                    className: \"card\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-preview\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                                srcDoc: withAIHelper(game.code),\n                                                sandbox: \"allow-scripts\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 582,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                            lineNumber: 581,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-title\",\n                                            children: game.title\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-meta\",\n                                            children: game.description\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                            lineNumber: 585,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, game.id, true, {\n                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                    lineNumber: 580,\n                                    columnNumber: 13\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 577,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                lineNumber: 572,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"section\",\n                style: {\n                    display: activeSection === \"code\" ? \"block\" : \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        children: \"Last Generated Code\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 592,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#98a0b5\"\n                        },\n                        children: \"This is the raw HTML/JS the model produced. Useful for debugging whether it used GameFactoryKit.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 593,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"secondary\",\n                        onClick: ()=>setShowCode((s)=>!s),\n                        children: showCode ? \"Hide Code\" : \"Show Code\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 596,\n                        columnNumber: 9\n                    }, this),\n                    showCode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        value: lastCode,\n                        readOnly: true,\n                        style: {\n                            minHeight: 240,\n                            marginTop: 12\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 600,\n                        columnNumber: 11\n                    }, this),\n                    lastCode.length > 800000 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#ffd166\"\n                        },\n                        children: \"Warning: very large code output. Preview performance may degrade.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 607,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                lineNumber: 591,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"section\",\n                style: {\n                    display: activeSection === \"toolkit\" ? \"block\" : \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        children: \"Toolkit Reference\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 612,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#98a0b5\"\n                        },\n                        children: \"Optional utilities available in every game via `GameFactoryKit` (and compatible globals).\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 613,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"cards\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Core\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 618,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"math, random, time, easing, tween, input, gamepad\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 619,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 617,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"State\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 622,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"storage, dialogue, timeline, logger, events, FSM, ECS\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 623,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 621,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"World\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 626,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"grid, terrain, pathfinding, navmesh, level grammars\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 627,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 625,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Rendering\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 630,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"sprites, pseudo3D, WebGL helper, text/color utils\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 631,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 629,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"FX / Audio\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 634,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"particles, camera shake, beep, audio sequencer\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 635,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 633,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Multiplayer / AI\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 638,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"GameFactoryMultiplayer, GameFactoryAI\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 639,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 637,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 616,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                lineNumber: 611,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"section\",\n                style: {\n                    display: activeSection === \"lobby\" ? \"block\" : \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        children: \"Multiplayer Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 645,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#98a0b5\"\n                        },\n                        children: \"Create or join a room. Games can use the room to sync state with other players.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 646,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"cards\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Join / Create Room\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 651,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Room Id\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 652,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: roomId,\n                                        onChange: (e)=>setRoomId(e.target.value),\n                                        placeholder: \"room-id\",\n                                        style: {\n                                            padding: 10,\n                                            borderRadius: 10,\n                                            border: \"1px solid rgba(255,255,255,0.1)\",\n                                            background: \"#0e1322\",\n                                            color: \"#e8eefc\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 653,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Nickname\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 659,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: nickname,\n                                        onChange: (e)=>setNickname(e.target.value),\n                                        placeholder: \"player name\",\n                                        style: {\n                                            padding: 10,\n                                            borderRadius: 10,\n                                            border: \"1px solid rgba(255,255,255,0.1)\",\n                                            background: \"#0e1322\",\n                                            color: \"#e8eefc\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 660,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"button-row\",\n                                        style: {\n                                            marginTop: 8\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>connectRoom(roomId),\n                                                children: \"Join\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 667,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"secondary\",\n                                                onClick: ()=>toggleReady(true),\n                                                children: \"Ready\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 668,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"secondary\",\n                                                onClick: ()=>toggleReady(false),\n                                                children: \"Unready\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 669,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 666,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 650,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Active Rooms\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 673,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Click to join\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 674,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"grid\",\n                                            gap: 8\n                                        },\n                                        children: [\n                                            rooms.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"No rooms yet.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 676,\n                                                columnNumber: 38\n                                            }, this),\n                                            rooms.map((room)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"secondary\",\n                                                    onClick: ()=>{\n                                                        setRoomId(room.room_id);\n                                                        connectRoom(room.room_id);\n                                                    },\n                                                    children: [\n                                                        room.room_id,\n                                                        \" (\",\n                                                        room.count,\n                                                        \")\"\n                                                    ]\n                                                }, room.room_id, true, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                    lineNumber: 678,\n                                                    columnNumber: 17\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 675,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"secondary\",\n                                        style: {\n                                            marginTop: 10\n                                        },\n                                        onClick: refreshRooms,\n                                        children: \"Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 690,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 672,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Players\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 695,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: roomPlayers.length === 0 ? \"No one connected.\" : \"Room roster\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"grid\",\n                                            gap: 6\n                                        },\n                                        children: roomPlayers.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: [\n                                                    p.name,\n                                                    \" \",\n                                                    p.ready ? \"\" : \"\"\n                                                ]\n                                            }, p.id, true, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 701,\n                                                columnNumber: 17\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 699,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            marginTop: 10,\n                                            display: \"grid\",\n                                            gap: 6\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: chatInput,\n                                                onChange: (e)=>setChatInput(e.target.value),\n                                                placeholder: \"chat...\",\n                                                style: {\n                                                    padding: 10,\n                                                    borderRadius: 10,\n                                                    border: \"1px solid rgba(255,255,255,0.1)\",\n                                                    background: \"#0e1322\",\n                                                    color: \"#e8eefc\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 707,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: sendChat,\n                                                children: \"Send\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 713,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 706,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-title\",\n                                        children: \"Room Log\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 717,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-meta\",\n                                        children: \"Latest events\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 718,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"grid\",\n                                            gap: 6\n                                        },\n                                        children: [\n                                            roomLog.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"card-meta\",\n                                                children: \"No activity yet.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                lineNumber: 720,\n                                                columnNumber: 40\n                                            }, this),\n                                            roomLog.map((line, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"card-meta\",\n                                                    children: line\n                                                }, idx, false, {\n                                                    fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                                    lineNumber: 722,\n                                                    columnNumber: 17\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                        lineNumber: 719,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                                lineNumber: 716,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                        lineNumber: 649,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n                lineNumber: 644,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jarjarbeatu/Documents/Arcadia/apps/web/app/page.tsx\",\n        lineNumber: 501,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"IZf8nay1lDX0TG4J8MDB/UYP/po=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7OzBDQUcvQiw4REFBQ3JEO2dDQUFJRCxXQUFVOztrREFDYiw4REFBQ0M7d0NBQUlELFdBQVU7a0RBQWE7Ozs7OztrREFDNUIsOERBQUNDO3dDQUFJRCxXQUFVO2tEQUFZOzs7Ozs7a0RBQzNCLDhEQUFDQzt3Q0FBSVUsT0FBTzs0Q0FBRWEsU0FBUzs0Q0FBUW1CLEtBQUs7d0NBQUU7OzRDQUNuQ1ksUUFBUTdJLE1BQU0sS0FBSyxtQkFBSyw4REFBQ3VGO2dEQUFJRCxXQUFVOzBEQUFZOzs7Ozs7NENBQ25EdUQsUUFBUTNFLEdBQUcsQ0FBQyxDQUFDNEUsTUFBTUMsb0JBQ2xCLDhEQUFDeEQ7b0RBQWNELFdBQVU7OERBQWF3RDttREFBNUJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVExQjtHQXpzQndCN0s7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL3BhZ2UudHN4Pzc2MDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuXG5jb25zdCBBUEkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMID8/IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCI7XG5cbnR5cGUgR2FtZSA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGNvZGU6IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSgpIHtcbiAgY29uc3QgW3Byb21wdCwgc2V0UHJvbXB0XSA9IHVzZVN0YXRlKFxuICAgIFwiQ3JlYXRlIGEgbmVvbiBhcmNhZGUgcmFjZXIgd2hlcmUgdGhlIHBsYXllciBkb2RnZXMgb2JzdGFjbGVzLCBjb2xsZWN0cyBib29zdHMsIGFuZCByZWFjaGVzIDEwMDAgcG9pbnRzIHRvIHdpbi5cIlxuICApO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnZW5lcmF0ZWQsIHNldEdlbmVyYXRlZF0gPSB1c2VTdGF0ZTx7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwcm9ncmVzcywgc2V0UHJvZ3Jlc3NdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3N0cmVhbWluZywgc2V0U3RyZWFtaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xhc3RDb2RlLCBzZXRMYXN0Q29kZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbcHJldmlld0Vycm9ycywgc2V0UHJldmlld0Vycm9yc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbcHJldmlld1dhcm5pbmdzLCBzZXRQcmV2aWV3V2FybmluZ3NdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW3Nob3dDb2RlLCBzZXRTaG93Q29kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtnYW1lcywgc2V0R2FtZXNdID0gdXNlU3RhdGU8R2FtZVtdPihbXSk7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGlmcmFtZVJlZiA9IHVzZVJlZjxIVE1MSUZyYW1lRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBcbiAgY29uc3QgcHJldmlld1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHByZXZpZXdLZXkgPSB1c2VNZW1vKCgpID0+IChnZW5lcmF0ZWQgPyBnZW5lcmF0ZWQudGl0bGUgKyBnZW5lcmF0ZWQuY29kZS5sZW5ndGggOiBcImVtcHR5XCIpLCBbZ2VuZXJhdGVkXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaEdhbWVzKCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2FtZXNgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBzZXRHYW1lcyhkYXRhKTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmcmVzaEdhbWVzKCkuY2F0Y2goKCkgPT4ge30pO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZlbnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09IFwiZ2FtZV9lcnJvclwiKSB7XG4gICAgICAgIHNldFByZXZpZXdFcnJvcnMoKHByZXYpID0+IFtkYXRhLm1lc3NhZ2UsIC4uLnByZXZdLnNsaWNlKDAsIDUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uTWVzc2FnZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbk1lc3NhZ2UpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWdlbmVyYXRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHdhcm5pbmdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmIChnZW5lcmF0ZWQuY29kZS5sZW5ndGggPiA4MDAwMDApIHdhcm5pbmdzLnB1c2goXCJWZXJ5IGxhcmdlIEhUTUwgb3V0cHV0OyBwcmV2aWV3IG1heSBiZSBzbG93LlwiKTtcbiAgICBpZiAoLzxzY3JpcHRbXj5dK3NyYz0vaS50ZXN0KGdlbmVyYXRlZC5jb2RlKSkgd2FybmluZ3MucHVzaChcIkV4dGVybmFsIDxzY3JpcHQgc3JjPiB3YXMgc3RyaXBwZWQgZm9yIHNhZmV0eS5cIik7XG4gICAgaWYgKG5ldyBSZWdFeHAoXCI8bGlua1tePl0raHJlZj1bJ1xcXCJdaHR0cHM/Oi8vXCIsIFwiaVwiKS50ZXN0KGdlbmVyYXRlZC5jb2RlKSkge1xuICAgICAgd2FybmluZ3MucHVzaChcIkV4dGVybmFsIDxsaW5rIGhyZWY+IHdhcyBzdHJpcHBlZCBmb3Igc2FmZXR5LlwiKTtcbiAgICB9XG4gICAgc2V0UHJldmlld1dhcm5pbmdzKHdhcm5pbmdzKTtcbiAgfSwgW2dlbmVyYXRlZF0pO1xuXG5cbiAgZnVuY3Rpb24gd2l0aEFJSGVscGVyKGNvZGU6IHN0cmluZykge1xuICAgIGNvbnN0IHdzVXJsID0gQVBJLnJlcGxhY2UoXCJodHRwOi8vXCIsIFwid3M6Ly9cIikucmVwbGFjZShcImh0dHBzOi8vXCIsIFwid3NzOi8vXCIpO1xuICAgIGNvbnN0IGhlbHBlciA9IGBcbjxzY3JpcHQ+XG53aW5kb3cuR2FtZUZhY3RvcnlBSSA9IGFzeW5jIGZ1bmN0aW9uKHByb21wdCwgc3lzdGVtLCB0aW1lb3V0TXM9ODAwMCl7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKT0+Y29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0TXMpO1xuICB0cnl7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIke0FQSX0vYWlcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb21wdCwgc3lzdGVtIH0pLFxuICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiBkYXRhLmNvbnRlbnQgfHwgXCJcIjtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICB9XG59O1xud2luZG93LkdhbWVGYWN0b3J5TXVsdGlwbGF5ZXIgPSBmdW5jdGlvbihyb29tSWQpe1xuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoXCIke3dzVXJsfS93cy9cIiArIGVuY29kZVVSSUNvbXBvbmVudChyb29tSWQgfHwgXCJsb2JieVwiKSk7XG4gIGNvbnN0IGhhbmRsZXJzID0gW107XG4gIHdzLm9ubWVzc2FnZSA9IChldnQpID0+IHtcbiAgICBoYW5kbGVycy5mb3JFYWNoKChmbikgPT4gZm4oZXZ0LmRhdGEpKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBzZW5kOiAoZGF0YSkgPT4ge1xuICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IDEpIHdzLnNlbmQodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIH0sXG4gICAgb25NZXNzYWdlOiAoZm4pID0+IGhhbmRsZXJzLnB1c2goZm4pLFxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHdzLmNsb3NlKClcbiAgfTtcbn07XG53aW5kb3cuR2FtZUZhY3RvcnlLaXQgPSAoZnVuY3Rpb24oKXtcbiAgY29uc3QgY2xhbXAgPSAodixtaW4sbWF4KT0+TWF0aC5tYXgobWluLE1hdGgubWluKG1heCx2KSk7XG4gIGNvbnN0IGxlcnAgPSAoYSxiLHQpPT5hKyhiLWEpKnQ7XG4gIGNvbnN0IG1hcCA9ICh2LGluTWluLGluTWF4LG91dE1pbixvdXRNYXgpPT5vdXRNaW4rKG91dE1heC1vdXRNaW4pKigodi1pbk1pbikvKGluTWF4LWluTWluKSk7XG4gIGNvbnN0IHJhbmQgPSAobWluPTAsbWF4PTEpPT5NYXRoLnJhbmRvbSgpKihtYXgtbWluKSttaW47XG4gIGNvbnN0IGNob2ljZSA9IChhcnIpPT5hcnJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmFyci5sZW5ndGgpXTtcbiAgY29uc3Qgbm93ID0gKCk9PnBlcmZvcm1hbmNlLm5vdygpO1xuICBjb25zdCBlYXNpbmcgPSB7XG4gICAgbGluZWFyOnQ9PnQsXG4gICAgaW5RdWFkOnQ9PnQqdCxcbiAgICBvdXRRdWFkOnQ9PnQqKDItdCksXG4gICAgaW5PdXRRdWFkOnQ9PnQ8MC41PzIqdCp0Oi0xKyg0LTIqdCkqdFxuICB9O1xuICBjb25zdCB0d2VlbiA9IChvYmosIHByb3AsIHRvLCBkdXJhdGlvbiwgZWFzZT1lYXNpbmcuaW5PdXRRdWFkKSA9PiB7XG4gICAgY29uc3QgZnJvbSA9IG9ialtwcm9wXTtcbiAgICBjb25zdCBzdGFydCA9IG5vdygpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcbiAgICAgIGZ1bmN0aW9uIHRpY2soKXtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIChub3coKS1zdGFydCkvZHVyYXRpb24pO1xuICAgICAgICBvYmpbcHJvcF0gPSBmcm9tICsgKHRvLWZyb20pKmVhc2UodCk7XG4gICAgICAgIGlmICh0PDEpIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsgZWxzZSByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuICAgICAgdGljaygpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBzdG9yYWdlID0ge1xuICAgIHNhdmU6KGtleSx2YWwpPT5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksSlNPTi5zdHJpbmdpZnkodmFsKSksXG4gICAgbG9hZDooa2V5LGRlZj1udWxsKT0+eyB0cnl7Y29uc3Qgdj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOyByZXR1cm4gdj9KU09OLnBhcnNlKHYpOmRlZjt9Y2F0Y2h7cmV0dXJuIGRlZjt9IH0sXG4gICAgc2xvdFNhdmU6KHNsb3QsdmFsKT0+bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJnZl9zbG90X1wiK3Nsb3QsSlNPTi5zdHJpbmdpZnkodmFsKSksXG4gICAgc2xvdExvYWQ6KHNsb3QsZGVmPW51bGwpPT57IHRyeXtjb25zdCB2PWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ2Zfc2xvdF9cIitzbG90KTsgcmV0dXJuIHY/SlNPTi5wYXJzZSh2KTpkZWY7fWNhdGNoe3JldHVybiBkZWY7fSB9XG4gIH07XG4gIGNvbnN0IGlucHV0ID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3Qga2V5cyA9IHt9O1xuICAgIGNvbnN0IG1vdXNlID0ge3g6MCx5OjAsZG93bjpmYWxzZX07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLGU9PmtleXNbZS5rZXldPXRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsZT0+a2V5c1tlLmtleV09ZmFsc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGU9Pnttb3VzZS54PWUuY2xpZW50WDsgbW91c2UueT1lLmNsaWVudFk7fSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsKCk9Pm1vdXNlLmRvd249dHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCgpPT5tb3VzZS5kb3duPWZhbHNlKTtcbiAgICByZXR1cm4geyBrZXlzLCBtb3VzZSwgaXNEb3duOihrKT0+ISFrZXlzW2tdIH07XG4gIH0pKCk7XG4gIGNvbnN0IGF1ZGlvID0gKGZ1bmN0aW9uKCl7XG4gICAgbGV0IGN0eDtcbiAgICBjb25zdCBlbnN1cmU9KCk9PmN0eHx8KGN0eD1uZXcgKHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCkpO1xuICAgIGNvbnN0IGJlZXA9KGZyZXE9NDQwLGR1cj0wLjEsdHlwZT0nc2luZScsdm9sPTAuMik9PntcbiAgICAgIGlmIChkdXIgPiA1KSBkdXIgPSBkdXIgLyAxMDAwO1xuICAgICAgY29uc3QgYz1lbnN1cmUoKTtcbiAgICAgIGNvbnN0IG89Yy5jcmVhdGVPc2NpbGxhdG9yKCk7IGNvbnN0IGc9Yy5jcmVhdGVHYWluKCk7XG4gICAgICBvLnR5cGU9dHlwZTsgby5mcmVxdWVuY3kudmFsdWU9ZnJlcTtcbiAgICAgIGNvbnN0IHQ9Yy5jdXJyZW50VGltZTtcbiAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjAwMDEsIHQpO1xuICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoTWF0aC5tYXgoMC4wMDAxLCB2b2wpLCB0KzAuMDEpO1xuICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAxLCB0K2R1cik7XG4gICAgICBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChjLmRlc3RpbmF0aW9uKTtcbiAgICAgIG8uc3RhcnQodCk7IG8uc3RvcCh0K2R1ciswLjAyKTtcbiAgICB9O1xuICAgIHJldHVybiB7IGJlZXAgfTtcbiAgfSkoKTtcbiAgY29uc3QgcGh5c2ljczJkID0ge1xuICAgIHN0ZXA6KG9iaixkdCk9Pnsgb2JqLnZ4PShvYmoudnh8fDApKyhvYmouYXh8fDApKmR0OyBvYmoudnk9KG9iai52eXx8MCkrKG9iai5heXx8MCkqZHQ7IG9iai54Kz1vYmoudngqZHQ7IG9iai55Kz1vYmoudnkqZHQ7IH0sXG4gICAgYWFiYjooYSxiKT0+YS54PGEudytiLngmJmEueCthLnc+Yi54JiZhLnk8YS5oK2IueSYmYS55K2EuaD5iLnksXG4gICAgY2lyY2xlOihhLGIpPT5NYXRoLmh5cG90KGEueC1iLngsYS55LWIueSk8KGEucitiLnIpXG4gIH07XG4gIGNvbnN0IGNvb2xkb3duID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHJlYWR5PShrZXksbXMpPT57IGNvbnN0IHQ9bm93KCk7IGlmKCFtYXAuaGFzKGtleSl8fHQtbWFwLmdldChrZXkpPj1tcyl7IG1hcC5zZXQoa2V5LHQpOyByZXR1cm4gdHJ1ZTt9IHJldHVybiBmYWxzZTsgfTtcbiAgICByZXR1cm4geyByZWFkeSB9O1xuICB9KSgpO1xuICBjb25zdCB0aW1lcnMgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBsaXN0PVtdO1xuICAgIGNvbnN0IGFmdGVyPShtcyxmbik9PnsgY29uc3QgdD1ub3coKSttczsgbGlzdC5wdXNoKHt0LGZufSk7IH07XG4gICAgY29uc3QgdGljaz0oKT0+eyBjb25zdCB0PW5vdygpOyBmb3IobGV0IGk9bGlzdC5sZW5ndGgtMTtpPj0wO2ktLSl7IGlmKHQ+PWxpc3RbaV0udCl7IGxpc3RbaV0uZm4oKTsgbGlzdC5zcGxpY2UoaSwxKTt9IH0gfTtcbiAgICByZXR1cm4geyBhZnRlciwgdGljayB9O1xuICB9KSgpO1xuICBjb25zdCBwYXJ0aWNsZXMgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBsaXN0PVtdO1xuICAgIGNvbnN0IHNwYXduPSh4LHksY291bnQ9MjApPT57IGZvcihsZXQgaT0wO2k8Y291bnQ7aSsrKXsgbGlzdC5wdXNoKHt4LHksdng6cmFuZCgtMSwxKSx2eTpyYW5kKC0xLDEpLGxpZmU6cmFuZCgwLjQsMSl9KTt9IH07XG4gICAgY29uc3QgdXBkYXRlPShkdCk9PnsgZm9yKGNvbnN0IHAgb2YgbGlzdCl7IHAueCs9cC52eCpkdCo2MDsgcC55Kz1wLnZ5KmR0KjYwOyBwLmxpZmUtPWR0OyB9IH07XG4gICAgY29uc3QgZHJhdz0oY3R4KT0+eyBmb3IoY29uc3QgcCBvZiBsaXN0KXsgaWYocC5saWZlPD0wKSBjb250aW51ZTsgY3R4Lmdsb2JhbEFscGhhPU1hdGgubWF4KDAscC5saWZlKTsgY3R4LmZpbGxSZWN0KHAueCxwLnksMiwyKTt9IGN0eC5nbG9iYWxBbHBoYT0xOyB9O1xuICAgIGNvbnN0IHBydW5lPSgpPT57IGZvcihsZXQgaT1saXN0Lmxlbmd0aC0xO2k+PTA7aS0tKXsgaWYobGlzdFtpXS5saWZlPD0wKSBsaXN0LnNwbGljZShpLDEpO30gfTtcbiAgICByZXR1cm4geyBzcGF3biwgdXBkYXRlLCBkcmF3LCBwcnVuZSwgbGlzdCB9O1xuICB9KSgpO1xuICBjb25zdCBwc2V1ZG8zZCA9IHtcbiAgICBwcm9qZWN0OihwdCxjYW0pPT57IGNvbnN0IHo9cHQuei0oY2FtLnp8fDApOyBjb25zdCBzY2FsZT0oY2FtLmZvdnx8NDAwKS8oenx8MSk7IHJldHVybiB7IHg6KHB0LngtKGNhbS54fHwwKSkqc2NhbGUrKGNhbS5jeHx8MCksIHk6KHB0LnktKGNhbS55fHwwKSkqc2NhbGUrKGNhbS5jeXx8MCksIHNjYWxlIH07IH1cbiAgfTtcbiAgY29uc3QgY29sb3IgPSB7XG4gICAgaGV4VG9SZ2I6KGhleCk9PnsgY29uc3QgaD1oZXgucmVwbGFjZSgnIycsJycpOyBjb25zdCBiaWdpbnQ9cGFyc2VJbnQoaCwxNik7IHJldHVybiB7cjooYmlnaW50Pj4xNikmMjU1LGc6KGJpZ2ludD4+OCkmMjU1LGI6YmlnaW50JjI1NX07IH0sXG4gICAgcmdiVG9IZXg6KHIsZyxiKT0+JyMnK1tyLGcsYl0ubWFwKHY9PnYudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsJzAnKSkuam9pbignJyksXG4gICAgbGVycDooYSxiLHQpPT4oeyByOk1hdGgucm91bmQoYS5yKyhiLnItYS5yKSp0KSwgZzpNYXRoLnJvdW5kKGEuZysoYi5nLWEuZykqdCksIGI6TWF0aC5yb3VuZChhLmIrKGIuYi1hLmIpKnQpIH0pXG4gIH07XG4gIGNvbnN0IHRleHQgPSB7XG4gICAgd3JhcDooY3R4LHRleHQsbWF4V2lkdGhPclgseSxtYXliZVcsbWF5YmVMaW5lSCk9PntcbiAgICAgIGlmICh0eXBlb2YgbWF4V2lkdGhPclggPT09ICdudW1iZXInICYmIHR5cGVvZiB5ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgbWF5YmVXID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25zdCB4ID0gbWF4V2lkdGhPclg7XG4gICAgICAgIGNvbnN0IG1heFcgPSBtYXliZVc7XG4gICAgICAgIGNvbnN0IGxpbmVIID0gdHlwZW9mIG1heWJlTGluZUggPT09ICdudW1iZXInID8gbWF5YmVMaW5lSCA6IDE4O1xuICAgICAgICBjb25zdCBsaW5lcyA9IHRleHRXcmFwKGN0eCwgdGV4dCwgbWF4Vyk7XG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxuLGkpPT5jdHguZmlsbFRleHQobG4seCx5K2kqbGluZUgpKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRleHRXcmFwKGN0eCwgdGV4dCwgbWF4V2lkdGhPclgpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gdGV4dFdyYXAoY3R4LCB0eHQsIG1heFdpZHRoKXtcbiAgICBjb25zdCB3b3Jkcz1TdHJpbmcodHh0fHwnJykuc3BsaXQoJyAnKTsgbGV0IGxpbmU9Jyc7IGNvbnN0IGxpbmVzPVtdO1xuICAgIGZvcihjb25zdCB3IG9mIHdvcmRzKXsgY29uc3QgdGVzdD1saW5lK3crJyAnOyBpZihjdHgubWVhc3VyZVRleHQodGVzdCkud2lkdGg+bWF4V2lkdGgpeyBsaW5lcy5wdXNoKGxpbmUudHJpbSgpKTsgbGluZT13KycgJzsgfSBlbHNlIHsgbGluZT10ZXN0OyB9IH1cbiAgICBsaW5lcy5wdXNoKGxpbmUudHJpbSgpKTsgcmV0dXJuIGxpbmVzO1xuICB9XG4gIGNvbnN0IHJuZyA9IChmdW5jdGlvbigpe1xuICAgIGxldCBzZWVkID0gMTIzNDU2NztcbiAgICBjb25zdCBzZXRTZWVkID0gKHMpPT57IHNlZWQgPSBzPj4+MDsgfTtcbiAgICBjb25zdCBuZXh0ID0gKCk9Pnsgc2VlZCA9IChzZWVkKjE2NjQ1MjUrMTAxMzkwNDIyMyk+Pj4wOyByZXR1cm4gc2VlZC80Mjk0OTY3Mjk2OyB9O1xuICAgIHJldHVybiB7IHNldFNlZWQsIG5leHQgfTtcbiAgfSkoKTtcbiAgY29uc3QgZXZlbnRCdXMgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBtYXA9bmV3IE1hcCgpO1xuICAgIGNvbnN0IG9uPShldnQsZm4pPT57IGlmKCFtYXAuaGFzKGV2dCkpIG1hcC5zZXQoZXZ0LFtdKTsgbWFwLmdldChldnQpLnB1c2goZm4pOyB9O1xuICAgIGNvbnN0IGVtaXQ9KGV2dCxkYXRhKT0+eyAobWFwLmdldChldnQpfHxbXSkuZm9yRWFjaChmbj0+Zm4oZGF0YSkpOyB9O1xuICAgIHJldHVybiB7IG9uLCBlbWl0IH07XG4gIH0pKCk7XG4gIGNvbnN0IGZzbSA9IChpbml0aWFsKT0+eyBsZXQgc3RhdGU9aW5pdGlhbDsgY29uc3QgdHJhbnNpdGlvbnM9bmV3IE1hcCgpOyBjb25zdCBvbj0oZnJvbSx0byxmbik9PnRyYW5zaXRpb25zLnNldChmcm9tKyc+Jyt0byxmbik7IGNvbnN0IHNldD0odG8pPT57IGNvbnN0IGZuPXRyYW5zaXRpb25zLmdldChzdGF0ZSsnPicrdG8pOyBzdGF0ZT10bzsgaWYoZm4pIGZuKCk7IH07IGNvbnN0IGdldD0oKT0+c3RhdGU7IHJldHVybiB7IG9uLCBzZXQsIGdldCB9OyB9O1xuICBjb25zdCBzcHJpdGVzID0ge1xuICAgIGRyYXc6KGN0eCxpbWcsZnJhbWUsZncsZmgseCx5LHNjYWxlPTEpPT57IGNvbnN0IHN4PWZyYW1lKmZ3OyBjdHguZHJhd0ltYWdlKGltZyxzeCwwLGZ3LGZoLHgseSxmdypzY2FsZSxmaCpzY2FsZSk7IH1cbiAgfTtcbiAgY29uc3QgcGF0aGZpbmRpbmcgPSB7XG4gICAgYVN0YXI6KGdyaWQsc3RhcnQsZW5kKT0+eyBjb25zdCBvcGVuPVtzdGFydF07IGNvbnN0IGNhbWU9bmV3IE1hcCgpOyBjb25zdCBnPW5ldyBNYXAoKTsgY29uc3QgZj1uZXcgTWFwKCk7IGNvbnN0IGtleT0ocCk9PnAueCsnLCcrcC55OyBjb25zdCBoPShhLGIpPT5NYXRoLmFicyhhLngtYi54KStNYXRoLmFicyhhLnktYi55KTsgZy5zZXQoa2V5KHN0YXJ0KSwwKTsgZi5zZXQoa2V5KHN0YXJ0KSxoKHN0YXJ0LGVuZCkpOyB3aGlsZShvcGVuLmxlbmd0aCl7IG9wZW4uc29ydCgoYSxiKT0+Zi5nZXQoa2V5KGEpKS1mLmdldChrZXkoYikpKTsgY29uc3QgY3VycmVudD1vcGVuLnNoaWZ0KCk7IGlmKGN1cnJlbnQueD09PWVuZC54JiZjdXJyZW50Lnk9PT1lbmQueSl7IGNvbnN0IHBhdGg9W2N1cnJlbnRdOyBsZXQgaz1rZXkoY3VycmVudCk7IHdoaWxlKGNhbWUuaGFzKGspKXsgY29uc3QgcD1jYW1lLmdldChrKTsgcGF0aC5wdXNoKHApOyBrPWtleShwKTsgfSByZXR1cm4gcGF0aC5yZXZlcnNlKCk7IH0gY29uc3QgZGlycz1be3g6MSx5OjB9LHt4Oi0xLHk6MH0se3g6MCx5OjF9LHt4OjAseTotMX1dOyBmb3IoY29uc3QgZCBvZiBkaXJzKXsgY29uc3Qgbng9e3g6Y3VycmVudC54K2QueCx5OmN1cnJlbnQueStkLnl9OyBpZihncmlkW254LnldPy5bbngueF09PT0xKSBjb250aW51ZTsgY29uc3QgdGVudGF0aXZlPShnLmdldChrZXkoY3VycmVudCkpfHwwKSsxOyBjb25zdCBuaz1rZXkobngpOyBpZih0ZW50YXRpdmUgPCAoZy5nZXQobmspPz9JbmZpbml0eSkpeyBjYW1lLnNldChuayxjdXJyZW50KTsgZy5zZXQobmssdGVudGF0aXZlKTsgZi5zZXQobmssdGVudGF0aXZlK2gobngsZW5kKSk7IGlmKCFvcGVuLmZpbmQocD0+cC54PT09bngueCYmcC55PT09bngueSkpIG9wZW4ucHVzaChueCk7IH0gfSB9IHJldHVybiBbXTsgfVxuICB9O1xuICBjb25zdCBuYXZtZXNoID0ge1xuICAgIGJ1aWxkOihncmlkLGRpYWc9ZmFsc2UpPT4oeyBncmlkLCBkaWFnIH0pLFxuICAgIG5laWdoYm9yczoobWVzaCxub2RlKT0+eyBjb25zdCBkaXJzPW1lc2guZGlhZz9be3g6MSx5OjB9LHt4Oi0xLHk6MH0se3g6MCx5OjF9LHt4OjAseTotMX0se3g6MSx5OjF9LHt4Oi0xLHk6MX0se3g6MSx5Oi0xfSx7eDotMSx5Oi0xfV06W3t4OjEseTowfSx7eDotMSx5OjB9LHt4OjAseToxfSx7eDowLHk6LTF9XTsgcmV0dXJuIGRpcnMubWFwKGQ9Pih7eDpub2RlLngrZC54LHk6bm9kZS55K2QueX0pKS5maWx0ZXIobj0+bWVzaC5ncmlkW24ueV0/LltuLnhdIT09MSk7IH0sXG4gICAgbGluZU9mU2lnaHQ6KG1lc2gsYSxiKT0+eyBsZXQgeDA9YS54LHkwPWEueSx4MT1iLngseTE9Yi55OyBjb25zdCBkeD1NYXRoLmFicyh4MS14MCksIGR5PU1hdGguYWJzKHkxLXkwKTsgbGV0IHN4PXgwPHgxPzE6LTEsIHN5PXkwPHkxPzE6LTE7IGxldCBlcnI9ZHgtZHk7IHdoaWxlKHRydWUpeyBpZihtZXNoLmdyaWRbeTBdPy5beDBdPT09MSkgcmV0dXJuIGZhbHNlOyBpZih4MD09PXgxICYmIHkwPT09eTEpIGJyZWFrOyBjb25zdCBlMj0yKmVycjsgaWYoZTI+LWR5KXsgZXJyLT1keTsgeDArPXN4OyB9IGlmKGUyPGR4KXsgZXJyKz1keDsgeTArPXN5OyB9IH0gcmV0dXJuIHRydWU7IH0sXG4gICAgc21vb3RoOihwYXRoLG1lc2gpPT57IGlmKHBhdGgubGVuZ3RoPD0yKSByZXR1cm4gcGF0aDsgY29uc3Qgb3V0PVtwYXRoWzBdXTsgbGV0IGk9MDsgd2hpbGUoaTxwYXRoLmxlbmd0aC0xKXsgbGV0IGo9cGF0aC5sZW5ndGgtMTsgZm9yKDtqPmkrMTtqLS0peyBpZihuYXZtZXNoLmxpbmVPZlNpZ2h0KG1lc2gscGF0aFtpXSxwYXRoW2pdKSkgYnJlYWs7IH0gb3V0LnB1c2gocGF0aFtqXSk7IGk9ajsgfSByZXR1cm4gb3V0OyB9LFxuICAgIGZpbmRQYXRoOihtZXNoLHN0YXJ0LGVuZCk9PnsgY29uc3QgcD1wYXRoZmluZGluZy5hU3RhcihtZXNoLmdyaWQsc3RhcnQsZW5kKTsgcmV0dXJuIG5hdm1lc2guc21vb3RoKHAsbWVzaCk7IH1cbiAgfTtcbiAgY29uc3QgbGV2ZWxHcmFtbWFyID0ge1xuICAgIGV4cGFuZDoocnVsZXMsYXhpb20sZGVwdGg9Myk9PnsgbGV0IHN0cj1heGlvbTsgZm9yKGxldCBpPTA7aTxkZXB0aDtpKyspeyBsZXQgb3V0PVwiXCI7IGZvcihjb25zdCBjaCBvZiBzdHIpeyBjb25zdCBydWxlPXJ1bGVzW2NoXTsgaWYoIXJ1bGUpeyBvdXQrPWNoOyBjb250aW51ZTsgfSBpZihBcnJheS5pc0FycmF5KHJ1bGUpKXsgY29uc3QgcGljaz1ydWxlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpydWxlLmxlbmd0aCldOyBvdXQrPXBpY2s7IH0gZWxzZSBpZih0eXBlb2YgcnVsZT09PSdvYmplY3QnKXsgY29uc3QgZW50cmllcz1PYmplY3QuZW50cmllcyhydWxlKTsgY29uc3QgdG90YWw9ZW50cmllcy5yZWR1Y2UoKHMsWyx3XSk9PnMrTnVtYmVyKHd8fDApLDApOyBsZXQgcj1NYXRoLnJhbmRvbSgpKnRvdGFsOyBmb3IoY29uc3QgW3N5bSx3XSBvZiBlbnRyaWVzKXsgci09TnVtYmVyKHd8fDApOyBpZihyPD0wKXsgb3V0Kz1zeW07IGJyZWFrOyB9IH0gfSBlbHNlIHsgb3V0Kz1TdHJpbmcocnVsZSk7IH0gfSBzdHI9b3V0OyB9IHJldHVybiBzdHI7IH0sXG4gICAgdG9HcmlkOihzdHIsdyx3YWxsPScjJyk9PnsgY29uc3Qgcm93cz1bXTsgZm9yKGxldCBpPTA7aTxzdHIubGVuZ3RoO2krPXcpeyByb3dzLnB1c2goc3RyLnNsaWNlKGksaSt3KS5zcGxpdChcIlwiKS5tYXAoYz0+Yz09PXdhbGw/MTowKSk7IH0gcmV0dXJuIHJvd3M7IH0sXG4gICAgaW50ZXJwcmV0OihzdHIsaGFuZGxlcnMpPT57IGNvbnN0IHN0YXRlPXsgeDowLHk6MCxkaXI6MCxzdGFjazpbXSB9OyBmb3IoY29uc3QgY2ggb2Ygc3RyKXsgaWYoaGFuZGxlcnNbY2hdKSBoYW5kbGVyc1tjaF0oc3RhdGUpOyB9IHJldHVybiBzdGF0ZTsgfVxuICB9O1xuICBjb25zdCBhdWRpb1NlcSA9IChmdW5jdGlvbigpe1xuICAgIGxldCBjdHg7XG4gICAgY29uc3QgZW5zdXJlPSgpPT5jdHh8fChjdHg9bmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpKTtcbiAgICBjb25zdCBub3RlVG9GcmVxPShuKT0+eyBjb25zdCBBND00NDA7IGNvbnN0IG1hcD17J0MnOi05LCdDIyc6LTgsJ0QnOi03LCdEIyc6LTYsJ0UnOi01LCdGJzotNCwnRiMnOi0zLCdHJzotMiwnRyMnOi0xLCdBJzowLCdBIyc6MSwnQic6Mn07IGNvbnN0IG09bi5tYXRjaCgvKFtBLUddIz8pKFxcZCkvKTsgaWYoIW0pIHJldHVybiA0NDA7IGNvbnN0IHNlbT1tYXBbbVsxXV0rKE51bWJlcihtWzJdKS00KSoxMjsgcmV0dXJuIEE0Kk1hdGgucG93KDIsc2VtLzEyKTsgfTtcbiAgICBjb25zdCBwbGF5PShwYXR0ZXJuLGJwbT0xMjApPT57IGNvbnN0IGM9ZW5zdXJlKCk7IGNvbnN0IGJlYXQ9NjAvYnBtOyBsZXQgdD1jLmN1cnJlbnRUaW1lOyBmb3IoY29uc3Qgbm90ZSBvZiBwYXR0ZXJuKXsgY29uc3Qgbz1jLmNyZWF0ZU9zY2lsbGF0b3IoKTsgY29uc3QgZz1jLmNyZWF0ZUdhaW4oKTsgby50eXBlPW5vdGUudHlwZXx8J3NpbmUnOyBvLmZyZXF1ZW5jeS52YWx1ZT1ub3RlLmZyZXF8fCAobm90ZS5ub3RlP25vdGVUb0ZyZXEobm90ZS5ub3RlKTo0NDApOyBnLmdhaW4udmFsdWU9bm90ZS52b2x8fDAuMTU7IG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGMuZGVzdGluYXRpb24pOyBvLnN0YXJ0KHQpOyBvLnN0b3AodCsobm90ZS5kdXJ8fDAuMikpOyB0Kz1iZWF0Kihub3RlLmJlYXRzfHwxKTsgfSB9O1xuICAgIGNvbnN0IHRyYWNrPShzdGVwcyxicG09MTIwKT0+eyBjb25zdCBjPWVuc3VyZSgpOyBjb25zdCBiZWF0PTYwL2JwbTsgY29uc3Qgc3RhcnQ9Yy5jdXJyZW50VGltZTsgc3RlcHMuZm9yRWFjaCgocyxpKT0+eyBpZighcykgcmV0dXJuOyBjb25zdCBvPWMuY3JlYXRlT3NjaWxsYXRvcigpOyBjb25zdCBnPWMuY3JlYXRlR2FpbigpOyBvLnR5cGU9cy50eXBlfHwnc3F1YXJlJzsgby5mcmVxdWVuY3kudmFsdWU9cy5mcmVxfHwgKHMubm90ZT9ub3RlVG9GcmVxKHMubm90ZSk6NDQwKTsgZy5nYWluLnZhbHVlPXMudm9sfHwwLjE7IG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGMuZGVzdGluYXRpb24pOyBvLnN0YXJ0KHN0YXJ0K2kqYmVhdCk7IG8uc3RvcChzdGFydCtpKmJlYXQrKHMuZHVyfHwwLjIpKTsgfSk7IH07XG4gICAgcmV0dXJuIHsgcGxheSwgdHJhY2ssIG5vdGVUb0ZyZXEgfTtcbiAgfSkoKTtcbiAgY29uc3QgdWkgPSB7XG4gICAgYnV0dG9uOih0ZXh0LCB4LCB5LCB3LCBoLCBvbkNsaWNrKT0+KHsgdHlwZTonYnV0dG9uJywgdGV4dCwgeCx5LHcsaCxvbkNsaWNrLGhvdmVyOmZhbHNlIH0pLFxuICAgIHNsaWRlcjoobGFiZWwseCx5LHcsbWluLG1heCx2YWx1ZSxvbkNoYW5nZSk9Pih7IHR5cGU6J3NsaWRlcicsIGxhYmVsLHgseSx3LGg6MjQsbWluLG1heCx2YWx1ZSxvbkNoYW5nZSB9KSxcbiAgICBjaGVja2JveDoobGFiZWwseCx5LHZhbHVlLG9uQ2hhbmdlKT0+KHsgdHlwZTonY2hlY2tib3gnLCBsYWJlbCx4LHksdzoxOCxoOjE4LHZhbHVlLG9uQ2hhbmdlIH0pLFxuICAgIGRyYXc6KGN0eCwgd2lkZ2V0cyk9Pnsgd2lkZ2V0cy5mb3JFYWNoKHc9PnsgaWYody50eXBlPT09J2J1dHRvbicpeyBjdHguZmlsbFN0eWxlPXcuaG92ZXI/J3JnYmEoMjU1LDI1NSwyNTUsMC4yKSc6J3JnYmEoMCwwLDAsMC41KSc7IGN0eC5maWxsUmVjdCh3Lngsdy55LHcudyx3LmgpOyBjdHguZmlsbFN0eWxlPScjZmZmJzsgY3R4LmZpbGxUZXh0KHcudGV4dCx3LngrOCx3Lnkrdy5oLzIrNCk7IH0gaWYody50eXBlPT09J3NsaWRlcicpeyBjdHguZmlsbFN0eWxlPSdyZ2JhKDAsMCwwLDAuNSknOyBjdHguZmlsbFJlY3Qody54LHcueSx3Lncsdy5oKTsgY29uc3QgdD0ody52YWx1ZS13Lm1pbikvKHcubWF4LXcubWluKTsgY3R4LmZpbGxTdHlsZT0nIzdkZjlmZic7IGN0eC5maWxsUmVjdCh3LngsIHcueSwgdy53KnQsIHcuaCk7IGN0eC5maWxsU3R5bGU9JyNmZmYnOyBjdHguZmlsbFRleHQody5sYWJlbCsnOiAnK3cudmFsdWUudG9GaXhlZCgxKSwgdy54KzQsIHcueS00KTsgfSBpZih3LnR5cGU9PT0nY2hlY2tib3gnKXsgY3R4LnN0cm9rZVN0eWxlPScjZmZmJzsgY3R4LnN0cm9rZVJlY3Qody54LHcueSx3Lncsdy5oKTsgaWYody52YWx1ZSl7IGN0eC5maWxsU3R5bGU9JyM3ZGY5ZmYnOyBjdHguZmlsbFJlY3Qody54KzMsdy55KzMsdy53LTYsdy5oLTYpOyB9IGN0eC5maWxsU3R5bGU9JyNmZmYnOyBjdHguZmlsbFRleHQody5sYWJlbCwgdy54K3cudys2LCB3Lnkrdy5oLTIpOyB9IH0pOyB9LFxuICAgIGhpdDoodywgbXgsIG15KT0+bXg+PXcueCYmbXg8PXcueCt3LncmJm15Pj13LnkmJm15PD13Lnkrdy5oLFxuICAgIGhhbmRsZUNsaWNrOih3aWRnZXRzLG14LG15KT0+eyB3aWRnZXRzLmZvckVhY2godz0+eyBpZih1aS5oaXQodyxteCxteSkpeyBpZih3LnR5cGU9PT0nYnV0dG9uJyAmJiB3Lm9uQ2xpY2spIHcub25DbGljaygpOyBpZih3LnR5cGU9PT0nY2hlY2tib3gnICYmIHcub25DaGFuZ2UpeyB3LnZhbHVlPSF3LnZhbHVlOyB3Lm9uQ2hhbmdlKHcudmFsdWUpOyB9IH0gfSk7IH0sXG4gICAgaGFuZGxlRHJhZzood2lkZ2V0cyxteCxteSk9Pnsgd2lkZ2V0cy5mb3JFYWNoKHc9PnsgaWYody50eXBlPT09J3NsaWRlcicgJiYgdWkuaGl0KHcsbXgsbXkpKXsgY29uc3QgdD1NYXRoLm1heCgwLE1hdGgubWluKDEsKG14LXcueCkvdy53KSk7IHcudmFsdWU9dy5taW4gKyAody5tYXgtdy5taW4pKnQ7IGlmKHcub25DaGFuZ2UpIHcub25DaGFuZ2Uody52YWx1ZSk7IH0gfSk7IH1cbiAgfTtcbiAgY29uc3QgZWNzID0gKGZ1bmN0aW9uKCl7XG4gICAgbGV0IG5leHRJZD0xO1xuICAgIGNvbnN0IGVudGl0aWVzPW5ldyBTZXQoKTtcbiAgICBjb25zdCBjb21wb25lbnRzPW5ldyBNYXAoKTtcbiAgICBjb25zdCBzeXN0ZW1zPVtdO1xuICAgIGNvbnN0IGNyZWF0ZT0oKT0+eyBjb25zdCBpZD1uZXh0SWQrKzsgZW50aXRpZXMuYWRkKGlkKTsgcmV0dXJuIGlkOyB9O1xuICAgIGNvbnN0IGFkZD0oaWQsbmFtZSxkYXRhKT0+eyBpZighY29tcG9uZW50cy5oYXMobmFtZSkpIGNvbXBvbmVudHMuc2V0KG5hbWUsbmV3IE1hcCgpKTsgY29tcG9uZW50cy5nZXQobmFtZSkuc2V0KGlkLGRhdGEpOyByZXR1cm4gZGF0YTsgfTtcbiAgICBjb25zdCBnZXQ9KGlkLG5hbWUpPT5jb21wb25lbnRzLmdldChuYW1lKT8uZ2V0KGlkKTtcbiAgICBjb25zdCBoYXM9KGlkLG5hbWUpPT5jb21wb25lbnRzLmdldChuYW1lKT8uaGFzKGlkKTtcbiAgICBjb25zdCByZW1vdmU9KGlkKT0+eyBlbnRpdGllcy5kZWxldGUoaWQpOyBmb3IoY29uc3QgbWFwIG9mIGNvbXBvbmVudHMudmFsdWVzKCkpeyBtYXAuZGVsZXRlKGlkKTt9IH07XG4gICAgY29uc3QgcXVlcnk9KG5hbWVzKT0+eyBjb25zdCBzZXRzPW5hbWVzLm1hcChuPT5jb21wb25lbnRzLmdldChuKXx8bmV3IE1hcCgpKTsgcmV0dXJuIFsuLi5lbnRpdGllc10uZmlsdGVyKGlkPT5uYW1lcy5ldmVyeShuPT5zZXRzW25hbWVzLmluZGV4T2YobildLmhhcyhpZCkpKTsgfTtcbiAgICBjb25zdCBzeXN0ZW09KG5hbWVzLGZuKT0+eyBzeXN0ZW1zLnB1c2goe25hbWVzLGZufSk7IH07XG4gICAgY29uc3QgdXBkYXRlPShkdCk9PnsgZm9yKGNvbnN0IHMgb2Ygc3lzdGVtcyl7IGNvbnN0IGlkcz1xdWVyeShzLm5hbWVzKTsgZm9yKGNvbnN0IGlkIG9mIGlkcyl7IGNvbnN0IGNvbXBzPXMubmFtZXMubWFwKG49PmdldChpZCxuKSk7IHMuZm4oaWQsIC4uLmNvbXBzLCBkdCk7IH0gfSB9O1xuICAgIHJldHVybiB7IGNyZWF0ZSwgYWRkLCBnZXQsIGhhcywgcmVtb3ZlLCBxdWVyeSwgc3lzdGVtLCB1cGRhdGUsIGNvbXBvbmVudHMsIGVudGl0aWVzIH07XG4gIH0pKCk7XG4gIGNvbnN0IHRlcnJhaW4gPSB7XG4gICAgcGVybGluMjooeCx5KT0+eyBjb25zdCBzPU1hdGguc2luKHgqMTIuOTg5OCt5Kjc4LjIzMykqNDM3NTguNTQ1MzsgcmV0dXJuIHMtTWF0aC5mbG9vcihzKTsgfSxcbiAgICBoZWlnaHRNYXA6KHcsaCxzY2FsZT0wLjEpPT57IGNvbnN0IG1hcD1bXTsgZm9yKGxldCB5PTA7eTxoO3krKyl7IGNvbnN0IHJvdz1bXTsgZm9yKGxldCB4PTA7eDx3O3grKyl7IHJvdy5wdXNoKHRlcnJhaW4ucGVybGluMih4KnNjYWxlLHkqc2NhbGUpKTsgfSBtYXAucHVzaChyb3cpO30gcmV0dXJuIG1hcDsgfVxuICB9O1xuICBjb25zdCBjYW1lcmEgPSB7XG4gICAgc2hha2U6KHN0YXRlLHN0cmVuZ3RoPTYsZGVjYXk9MC45KT0+eyBzdGF0ZS5zaGFrZT0ge3N0cmVuZ3RoLGRlY2F5LHg6MCx5OjB9OyB9LFxuICAgIGFwcGx5U2hha2U6KHN0YXRlLGN0eCk9PnsgaWYoIXN0YXRlLnNoYWtlKSByZXR1cm47IHN0YXRlLnNoYWtlLnggPSByYW5kKC1zdGF0ZS5zaGFrZS5zdHJlbmd0aCxzdGF0ZS5zaGFrZS5zdHJlbmd0aCk7IHN0YXRlLnNoYWtlLnkgPSByYW5kKC1zdGF0ZS5zaGFrZS5zdHJlbmd0aCxzdGF0ZS5zaGFrZS5zdHJlbmd0aCk7IGN0eC50cmFuc2xhdGUoc3RhdGUuc2hha2UueCxzdGF0ZS5zaGFrZS55KTsgc3RhdGUuc2hha2Uuc3RyZW5ndGgqPXN0YXRlLnNoYWtlLmRlY2F5OyBpZihzdGF0ZS5zaGFrZS5zdHJlbmd0aDwwLjMpIHN0YXRlLnNoYWtlPW51bGw7IH1cbiAgfTtcbiAgY29uc3Qgd2ViZ2wgPSB7XG4gICAgY3JlYXRlOihjYW52YXMpPT5jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKXx8Y2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpXG4gIH07XG4gIGNvbnN0IGdhbWVwYWQgPSAoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBzdGF0ZT17IGF4ZXM6W10sIGJ1dHRvbnM6W10gfTtcbiAgICBjb25zdCBwb2xsPSgpPT57IGNvbnN0IGdwPW5hdmlnYXRvci5nZXRHYW1lcGFkcz8uKClbMF07IGlmKCFncCkgcmV0dXJuIHN0YXRlOyBzdGF0ZS5heGVzPWdwLmF4ZXM7IHN0YXRlLmJ1dHRvbnM9Z3AuYnV0dG9ucy5tYXAoYj0+Yi5wcmVzc2VkKTsgcmV0dXJuIHN0YXRlOyB9O1xuICAgIHJldHVybiB7IHBvbGwsIHN0YXRlIH07XG4gIH0pKCk7XG4gIGNvbnN0IGFzc2V0cyA9IHtcbiAgICBpbWFnZTooc3JjKT0+bmV3IFByb21pc2UoKHJlcyxyZWopPT57IGNvbnN0IGltZz1uZXcgSW1hZ2UoKTsgaW1nLm9ubG9hZD0oKT0+cmVzKGltZyk7IGltZy5vbmVycm9yPXJlajsgaW1nLnNyYz1zcmM7IH0pLFxuICAgIGF1ZGlvOihzcmMpPT5uZXcgUHJvbWlzZSgocmVzLHJlaik9PnsgY29uc3QgYT1uZXcgQXVkaW8oKTsgYS5vbmNhbnBsYXl0aHJvdWdoPSgpPT5yZXMoYSk7IGEub25lcnJvcj1yZWo7IGEuc3JjPXNyYzsgfSlcbiAgfTtcbiAgY29uc3QgZ3JpZCA9IHtcbiAgICBtYWtlOih3LGgsZmlsbD0wKT0+QXJyYXkuZnJvbSh7bGVuZ3RoOmh9LCgpPT5BcnJheS5mcm9tKHtsZW5ndGg6d30sKCk9PmZpbGwpKSxcbiAgICBpbkJvdW5kczooZyx4LHkpPT55Pj0wJiZ5PGcubGVuZ3RoJiZ4Pj0wJiZ4PGdbMF0ubGVuZ3RoXG4gIH07XG4gIGNvbnN0IGNhbWVyYTJkID0ge1xuICAgIHdvcmxkVG9TY3JlZW46KGNhbSx4LHkpPT4oeyB4OiB4LWNhbS54LCB5OiB5LWNhbS55IH0pLFxuICAgIHNjcmVlblRvV29ybGQ6KGNhbSx4LHkpPT4oeyB4OiB4K2NhbS54LCB5OiB5K2NhbS55IH0pXG4gIH07XG4gIGNvbnN0IG1ldHJpY3MgPSAoZnVuY3Rpb24oKXtcbiAgICBsZXQgbGFzdD1ub3coKSwgZnBzPTA7XG4gICAgY29uc3QgdGljaz0oKT0+eyBjb25zdCB0PW5vdygpOyBmcHM9MTAwMC8odC1sYXN0KTsgbGFzdD10OyByZXR1cm4gZnBzOyB9O1xuICAgIHJldHVybiB7IHRpY2ssIGdldDooKT0+ZnBzIH07XG4gIH0pKCk7XG4gIGNvbnN0IGxvZ2dlciA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IGxvZ3M9W107IGNvbnN0IHB1c2g9KG1zZyk9PnsgbG9ncy51bnNoaWZ0KHsgbXNnLCB0Om5vdygpIH0pOyBpZihsb2dzLmxlbmd0aD4yMCkgbG9ncy5wb3AoKTsgfTtcbiAgICByZXR1cm4geyBsb2dzLCBwdXNoIH07XG4gIH0pKCk7XG4gIGNvbnN0IGRpYWxvZ3VlID0gKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgbGluZXM9W107IGNvbnN0IHNheT0odGV4dCk9PmxpbmVzLnB1c2godGV4dCk7IGNvbnN0IG5leHQ9KCk9PmxpbmVzLnNoaWZ0KCk7XG4gICAgcmV0dXJuIHsgc2F5LCBuZXh0LCBsaW5lcyB9O1xuICB9KSgpO1xuICBjb25zdCB0aW1lbGluZSA9IChmdW5jdGlvbigpe1xuICAgIGNvbnN0IHN0ZXBzPVtdOyBjb25zdCBhZGQ9KGF0LGZuKT0+c3RlcHMucHVzaCh7YXQsZm4sZG9uZTpmYWxzZX0pOyBjb25zdCBydW49KHQpPT57IGZvcihjb25zdCBzIG9mIHN0ZXBzKXsgaWYoIXMuZG9uZSAmJiB0Pj1zLmF0KXsgcy5kb25lPXRydWU7IHMuZm4oKTsgfSB9IH07XG4gICAgcmV0dXJuIHsgYWRkLCBydW4gfTtcbiAgfSkoKTtcbiAgcmV0dXJuIHsgY2xhbXAsIGxlcnAsIG1hcCwgcmFuZCwgY2hvaWNlLCBub3csIGVhc2luZywgdHdlZW4sIHN0b3JhZ2UsIGlucHV0LCBhdWRpbywgcGh5c2ljczJkLCBjb29sZG93biwgdGltZXJzLCBwYXJ0aWNsZXMsIHBzZXVkbzNkLCBjb2xvciwgdGV4dCwgcm5nLCBldmVudEJ1cywgZnNtLCBzcHJpdGVzLCBwYXRoZmluZGluZywgbmF2bWVzaCwgbGV2ZWxHcmFtbWFyLCBhdWRpb1NlcSwgdWksIGVjcywgdGVycmFpbiwgY2FtZXJhLCB3ZWJnbCwgZ2FtZXBhZCwgYXNzZXRzLCBncmlkLCBjYW1lcmEyZCwgbWV0cmljcywgbG9nZ2VyLCBkaWFsb2d1ZSwgdGltZWxpbmUgfTtcbn0pKCk7XG4vLyBDb21wYXRpYmlsaXR5IHNoaW1zIGZvciBtb2RlbHMgdGhhdCBkb24ndCBuYW1lc3BhY2UgaGVscGVyc1xuKGZ1bmN0aW9uKCl7XG4gIGNvbnN0IEsgPSB3aW5kb3cuR2FtZUZhY3RvcnlLaXQ7XG4gIGlmICghSykgcmV0dXJuO1xuICB3aW5kb3cuY2xhbXAgPSB3aW5kb3cuY2xhbXAgfHwgSy5jbGFtcDtcbiAgd2luZG93LmxlcnAgPSB3aW5kb3cubGVycCB8fCBLLmxlcnA7XG4gIHdpbmRvdy5tYXAgPSB3aW5kb3cubWFwIHx8IEsubWFwO1xuICB3aW5kb3cucmFuZCA9IHdpbmRvdy5yYW5kIHx8IEsucmFuZDtcbiAgd2luZG93LnJuZyA9IHdpbmRvdy5ybmcgfHwgSy5ybmc7XG4gIHdpbmRvdy5jaG9pY2UgPSB3aW5kb3cuY2hvaWNlIHx8IEsuY2hvaWNlO1xuICB3aW5kb3cubm93ID0gd2luZG93Lm5vdyB8fCBLLm5vdztcbiAgd2luZG93LmF1ZGlvID0gd2luZG93LmF1ZGlvIHx8IEsuYXVkaW87XG4gIHdpbmRvdy5pbnB1dCA9IHdpbmRvdy5pbnB1dCB8fCBLLmlucHV0O1xuICB3aW5kb3cuc3RvcmFnZSA9IHdpbmRvdy5zdG9yYWdlIHx8IEsuc3RvcmFnZTtcbiAgd2luZG93LnRleHQgPSB3aW5kb3cudGV4dCB8fCBLLnRleHQ7XG4gIHdpbmRvdy50aW1lcnMgPSB3aW5kb3cudGltZXJzIHx8IEsudGltZXJzO1xuICB3aW5kb3cucHNldWRvM2QgPSB3aW5kb3cucHNldWRvM2QgfHwgSy5wc2V1ZG8zZDtcbiAgY29uc3QgY2FtU3RhdGUgPSB7IHNoYWtlOiBudWxsIH07XG4gIHdpbmRvdy5jYW1lcmEgPSB3aW5kb3cuY2FtZXJhIHx8IHtcbiAgICBzaGFrZTogKHN0cmVuZ3RoPTYsIGRlY2F5PTAuOSkgPT4gSy5jYW1lcmEuc2hha2UoY2FtU3RhdGUsIHN0cmVuZ3RoLCBkZWNheSksXG4gICAgYXBwbHlTaGFrZTogKGN0eCkgPT4gSy5jYW1lcmEuYXBwbHlTaGFrZShjYW1TdGF0ZSwgY3R4KVxuICB9O1xuICB3aW5kb3cucGFydGljbGVzID0gd2luZG93LnBhcnRpY2xlcyB8fCB7XG4gICAgc3Bhd246IChhLGIsYykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IG8gPSBhIHx8IHt9O1xuICAgICAgICBLLnBhcnRpY2xlcy5zcGF3bihvLnggfHwgMCwgby55IHx8IDAsIG8uY291bnQgfHwgMjApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSy5wYXJ0aWNsZXMuc3Bhd24oYSB8fCAwLCBiIHx8IDAsIGMgfHwgMjApO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlOiAoZHQpID0+IHtcbiAgICAgIGNvbnN0IHYgPSBkdCA+IDEwID8gZHQgLyAxMDAwIDogZHQ7XG4gICAgICBLLnBhcnRpY2xlcy51cGRhdGUodik7XG4gICAgICBLLnBhcnRpY2xlcy5wcnVuZSgpO1xuICAgIH0sXG4gICAgZHJhdzogKGN0eCkgPT4gSy5wYXJ0aWNsZXMuZHJhdyhjdHgpLFxuICAgIHBydW5lOiAoKSA9PiBLLnBhcnRpY2xlcy5wcnVuZSgpXG4gIH07XG4gIHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgc291cmNlLCBsaW5lbm8sIGNvbG5vKSB7XG4gICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJnYW1lX2Vycm9yXCIsIG1lc3NhZ2U6IFN0cmluZyhtZXNzYWdlKSArIFwiIEAgXCIgKyBsaW5lbm8gKyBcIjpcIiArIGNvbG5vIH0sIFwiKlwiKTtcbiAgfTtcbiAgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImdhbWVfZXJyb3JcIiwgbWVzc2FnZTogU3RyaW5nKGV2ZW50Py5yZWFzb24gfHwgXCJVbmhhbmRsZWQgcmVqZWN0aW9uXCIpIH0sIFwiKlwiKTtcbiAgfTtcbn0pKCk7XG48L3NjcmlwdD5cbmA7XG4gICAgaWYgKGNvZGUuaW5jbHVkZXMoXCJ3aW5kb3cuR2FtZUZhY3RvcnlLaXRcIikgfHwgY29kZS5pbmNsdWRlcyhcIkdhbWVGYWN0b3J5QUkgPSBhc3luYyBmdW5jdGlvblwiKSkgcmV0dXJuIGNvZGU7XG4gICAgaWYgKGNvZGUuaW5jbHVkZXMoXCI8L2hlYWQ+XCIpKSByZXR1cm4gY29kZS5yZXBsYWNlKFwiPC9oZWFkPlwiLCBgJHtoZWxwZXJ9PC9oZWFkPmApO1xuICAgIHJldHVybiBoZWxwZXIgKyBjb2RlO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVHYW1lKCkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0U3RyZWFtaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldFByb2dyZXNzKFwiXCIpO1xuICAgIHNldEdlbmVyYXRlZChudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMzAwMDAwKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSX0vZ2VuZXJhdGUvc3RyZWFtYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvbXB0IH0pLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rIHx8ICFyZXMuYm9keSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gICAgICBsZXQgZGlkU2V0ID0gZmFsc2U7XG4gICAgICBsZXQgZG9uZVNlZW4gPSBmYWxzZTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgICAgYnVmZmVyICs9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgYnVmZmVyID0gYnVmZmVyLnJlcGxhY2UoL1xcci9nLCBcIlwiKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBidWZmZXIuc3BsaXQoXCJcXG5cXG5cIik7XG4gICAgICAgIGJ1ZmZlciA9IHBhcnRzLnBvcCgpIHx8IFwiXCI7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICAgIGNvbnN0IGxpbmVzID0gcGFydC5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBjb25zdCBldmVudExpbmUgPSBsaW5lcy5maW5kKChsKSA9PiBsLnN0YXJ0c1dpdGgoXCJldmVudDpcIikpO1xuICAgICAgICAgIGNvbnN0IGRhdGFMaW5lcyA9IGxpbmVzLmZpbHRlcigobCkgPT4gbC5zdGFydHNXaXRoKFwiZGF0YTpcIikpO1xuICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRMaW5lID8gZXZlbnRMaW5lLnJlcGxhY2UoXCJldmVudDpcIiwgXCJcIikudHJpbSgpIDogXCJtZXNzYWdlXCI7XG4gICAgICAgICAgY29uc3QgZGF0YVJhdyA9IGRhdGFMaW5lcy5tYXAoKGwpID0+IGwucmVwbGFjZShcImRhdGE6XCIsIFwiXCIpLnRyaW0oKSkuam9pbihcIlxcXFxuXCIpLnRyaW0oKTtcbiAgICAgICAgICBpZiAoIWRhdGFSYXcpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChldmVudCA9PT0gXCJkZWx0YVwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhUmF3KTtcbiAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3MoKHByZXYpID0+IHByZXYgKyAoZGF0YS5jaHVuayB8fCBcIlwiKSk7XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChldmVudCA9PT0gXCJkb25lXCIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGRhdGFSYXcpO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc2V0TGFzdENvZGUoZGF0YS5jb2RlIHx8IFwiXCIpO1xuICAgICAgICAgICAgICBkaWRTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgZG9uZVNlZW4gPSB0cnVlO1xuICAgICAgICAgICAgICByZWFkZXIuY2FuY2VsKCkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9uZVNlZW4pIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgaWYgKCFkaWRTZXQpIHtcbiAgICAgICAgY29uc3QgcmVzRmFsbGJhY2sgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dlbmVyYXRlYCwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvbXB0IH0pXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzRmFsbGJhY2sub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzRmFsbGJhY2suanNvbigpO1xuICAgICAgICAgIHNldEdlbmVyYXRlZChkYXRhKTtcbiAgICAgICAgICBzZXRMYXN0Q29kZShkYXRhLmNvZGUgfHwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZ2FtZVwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVHYW1lKCkge1xuICAgIGlmICghZ2VuZXJhdGVkKSByZXR1cm47XG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUEl9L2dhbWVzYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0aXRsZTogZ2VuZXJhdGVkLnRpdGxlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBnZW5lcmF0ZWQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIGNvZGU6IGdlbmVyYXRlZC5jb2RlXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHJlZnJlc2hHYW1lcygpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBzYXZlIGdhbWVcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gb3BlbkZ1bGxzY3JlZW4oKSB7XG4gICAgaWYgKCFwcmV2aWV3UmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBpZiAoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIHtcbiAgICAgIGF3YWl0IGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHByZXZpZXdSZWYuY3VycmVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9jdXNQcmV2aWV3KCkge1xuICAgIGlmcmFtZVJlZi5jdXJyZW50Py5jb250ZW50V2luZG93Py5mb2N1cygpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbj5cbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImhlcm9cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZXJvLWNhcmRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhZGdlXCI+QUkgR2FtZSBGb3JnZTwvZGl2PlxuICAgICAgICAgIDxoMT5EZXNjcmliZSBhIGdhbWUuIEdldCBzb21ldGhpbmcgeW91IGNhbiBhY3R1YWxseSBwbGF5LjwvaDE+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICBXcml0ZSB5b3VyIGlkZWEsIGdlbmVyYXRlIGEgZnVsbCBIVE1MIGdhbWUsIHRoZW4gc2F2ZSBpdCB0byB5b3VyIGxvY2FsIGFyY2FkZS4gTm8gRG9ja2VyLCBubyBkcmFtYS5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9tcHQtYXJlYVwiPlxuICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtwcm9tcHR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvbXB0KGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2dlbmVyYXRlR2FtZX0gZGlzYWJsZWQ9e2xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gXCJHZW5lcmF0aW5nLi4uXCIgOiBcIkdlbmVyYXRlIEdhbWVcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17c2F2ZUdhbWV9IGRpc2FibGVkPXshZ2VuZXJhdGVkIHx8IHNhdmluZ30+XG4gICAgICAgICAgICAgICAge3NhdmluZyA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmUgR2FtZVwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2Vycm9yICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBcIiNmZjliOWJcIiB9fT57ZXJyb3J9PC9wPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVyby1jYXJkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+TGl2ZSBQcmV2aWV3PC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e29wZW5GdWxsc2NyZWVufT5GdWxsc2NyZWVuPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3XCIgcmVmPXtwcmV2aWV3UmVmfSBvbkNsaWNrPXtmb2N1c1ByZXZpZXd9PlxuICAgICAgICAgICAge2dlbmVyYXRlZCA/IChcbiAgICAgICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgICAgIGtleT17cHJldmlld0tleX1cbiAgICAgICAgICAgICAgICByZWY9e2lmcmFtZVJlZn1cbiAgICAgICAgICAgICAgICBzcmNEb2M9e3dpdGhBSUhlbHBlcihnZW5lcmF0ZWQuY29kZSl9XG4gICAgICAgICAgICAgICAgc2FuZGJveD1cImFsbG93LXNjcmlwdHNcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAyNCwgY29sb3I6IFwiIzk4YTBiNVwiIH19PlxuICAgICAgICAgICAgICAgIHtzdHJlYW1pbmcgPyBcIlN0cmVhbWluZyBnYW1lIGJ1aWxkLi4uXCIgOiBcIkdlbmVyYXRlIGEgZ2FtZSB0byBzZWUgaXQgaGVyZS5cIn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtzdHJlYW1pbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9e3sgbWFyZ2luVG9wOiAxNiB9fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+TGl2ZSBCdWlsZCBMb2c8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIiBzdHlsZT17eyB3aGl0ZVNwYWNlOiBcInByZS13cmFwXCIgfX0+XG4gICAgICAgICAgICAgICAge3Byb2dyZXNzLnNsaWNlKC0xMjAwKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsocHJldmlld0Vycm9ycy5sZW5ndGggPiAwIHx8IHByZXZpZXdXYXJuaW5ncy5sZW5ndGggPiAwKSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEyIH19PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5QcmV2aWV3IERpYWdub3N0aWNzPC9kaXY+XG4gICAgICAgICAgICAgIHtwcmV2aWV3V2FybmluZ3MubWFwKCh3LCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2B3LSR7aX1gfSBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIiBzdHlsZT17eyBjb2xvcjogXCIjZmZkMTY2XCIgfX0+e3d9PC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICB7cHJldmlld0Vycm9ycy5tYXAoKGUsIGkpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17YGUtJHtpfWB9IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiIHN0eWxlPXt7IGNvbG9yOiBcIiNmZjliOWJcIiB9fT57ZX08L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYi1yb3dcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17YWN0aXZlU2VjdGlvbiA9PT0gXCJhcmNhZGVcIiA/IFwidGFiIGFjdGl2ZVwiIDogXCJ0YWJcIn0gb25DbGljaz17KCkgPT4gc2V0QWN0aXZlU2VjdGlvbihcImFyY2FkZVwiKX0+QXJjYWRlPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2FjdGl2ZVNlY3Rpb24gPT09IFwibG9iYnlcIiA/IFwidGFiIGFjdGl2ZVwiIDogXCJ0YWJcIn0gb25DbGljaz17KCkgPT4gc2V0QWN0aXZlU2VjdGlvbihcImxvYmJ5XCIpfT5Mb2JieTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXthY3RpdmVTZWN0aW9uID09PSBcInRvb2xraXRcIiA/IFwidGFiIGFjdGl2ZVwiIDogXCJ0YWJcIn0gb25DbGljaz17KCkgPT4gc2V0QWN0aXZlU2VjdGlvbihcInRvb2xraXRcIil9PlRvb2xraXQ8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17YWN0aXZlU2VjdGlvbiA9PT0gXCJjb2RlXCIgPyBcInRhYiBhY3RpdmVcIiA6IFwidGFiXCJ9IG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVNlY3Rpb24oXCJjb2RlXCIpfT5Db2RlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzZWN0aW9uXCIgc3R5bGU9e3sgZGlzcGxheTogYWN0aXZlU2VjdGlvbiA9PT0gXCJhcmNhZGVcIiA/IFwiYmxvY2tcIiA6IFwibm9uZVwiIH19PlxuICAgICAgICA8aDI+TG9jYWwgQXJjYWRlPC9oMj5cbiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFwiIzk4YTBiNVwiIH19PlxuICAgICAgICAgIFRoZXNlIGdhbWVzIGFyZSBzdG9yZWQgaW4geW91ciBsb2NhbCBTUUxpdGUgZGF0YWJhc2UgYW5kIHJlYWR5IHRvIHBsYXkuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkc1wiPlxuICAgICAgICAgIHtnYW1lcy5sZW5ndGggPT09IDAgJiYgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+Tm8gc2F2ZWQgZ2FtZXMgeWV0LjwvZGl2Pn1cbiAgICAgICAgICB7Z2FtZXMubWFwKChnYW1lKSA9PiAoXG4gICAgICAgICAgICA8TGluayBocmVmPXtgL2dhbWVzLyR7Z2FtZS5pZH1gfSBrZXk9e2dhbWUuaWR9IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICA8aWZyYW1lIHNyY0RvYz17d2l0aEFJSGVscGVyKGdhbWUuY29kZSl9IHNhbmRib3g9XCJhbGxvdy1zY3JpcHRzXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPntnYW1lLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPntnYW1lLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic2VjdGlvblwiIHN0eWxlPXt7IGRpc3BsYXk6IGFjdGl2ZVNlY3Rpb24gPT09IFwiY29kZVwiID8gXCJibG9ja1wiIDogXCJub25lXCIgfX0+XG4gICAgICAgIDxoMj5MYXN0IEdlbmVyYXRlZCBDb2RlPC9oMj5cbiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFwiIzk4YTBiNVwiIH19PlxuICAgICAgICAgIFRoaXMgaXMgdGhlIHJhdyBIVE1ML0pTIHRoZSBtb2RlbCBwcm9kdWNlZC4gVXNlZnVsIGZvciBkZWJ1Z2dpbmcgd2hldGhlciBpdCB1c2VkIEdhbWVGYWN0b3J5S2l0LlxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5XCIgb25DbGljaz17KCkgPT4gc2V0U2hvd0NvZGUoKHMpID0+ICFzKX0+XG4gICAgICAgICAge3Nob3dDb2RlID8gXCJIaWRlIENvZGVcIiA6IFwiU2hvdyBDb2RlXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICB7c2hvd0NvZGUgJiYgKFxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgdmFsdWU9e2xhc3RDb2RlfVxuICAgICAgICAgICAgcmVhZE9ubHlcbiAgICAgICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogMjQwLCBtYXJnaW5Ub3A6IDEyIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge2xhc3RDb2RlLmxlbmd0aCA+IDgwMDAwMCAmJiAoXG4gICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFwiI2ZmZDE2NlwiIH19Pldhcm5pbmc6IHZlcnkgbGFyZ2UgY29kZSBvdXRwdXQuIFByZXZpZXcgcGVyZm9ybWFuY2UgbWF5IGRlZ3JhZGUuPC9wPlxuICAgICAgICApfVxuICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzZWN0aW9uXCIgc3R5bGU9e3sgZGlzcGxheTogYWN0aXZlU2VjdGlvbiA9PT0gXCJ0b29sa2l0XCIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIiB9fT5cbiAgICAgICAgPGgyPlRvb2xraXQgUmVmZXJlbmNlPC9oMj5cbiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFwiIzk4YTBiNVwiIH19PlxuICAgICAgICAgIE9wdGlvbmFsIHV0aWxpdGllcyBhdmFpbGFibGUgaW4gZXZlcnkgZ2FtZSB2aWEgYEdhbWVGYWN0b3J5S2l0YCAoYW5kIGNvbXBhdGlibGUgZ2xvYmFscykuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+Q29yZTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5tYXRoLCByYW5kb20sIHRpbWUsIGVhc2luZywgdHdlZW4sIGlucHV0LCBnYW1lcGFkPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5TdGF0ZTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5zdG9yYWdlLCBkaWFsb2d1ZSwgdGltZWxpbmUsIGxvZ2dlciwgZXZlbnRzLCBGU00sIEVDUzwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+V29ybGQ8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Z3JpZCwgdGVycmFpbiwgcGF0aGZpbmRpbmcsIG5hdm1lc2gsIGxldmVsIGdyYW1tYXJzPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5SZW5kZXJpbmc8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+c3ByaXRlcywgcHNldWRv4oCRM0QsIFdlYkdMIGhlbHBlciwgdGV4dC9jb2xvciB1dGlsczwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+RlggLyBBdWRpbzwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5wYXJ0aWNsZXMsIGNhbWVyYSBzaGFrZSwgYmVlcCwgYXVkaW8gc2VxdWVuY2VyPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5NdWx0aXBsYXllciAvIEFJPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPkdhbWVGYWN0b3J5TXVsdGlwbGF5ZXIsIEdhbWVGYWN0b3J5QUk8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG5cbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInNlY3Rpb25cIiBzdHlsZT17eyBkaXNwbGF5OiBhY3RpdmVTZWN0aW9uID09PSBcImxvYmJ5XCIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIiB9fT5cbiAgICAgICAgPGgyPk11bHRpcGxheWVyIExvYmJ5PC9oMj5cbiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFwiIzk4YTBiNVwiIH19PlxuICAgICAgICAgIENyZWF0ZSBvciBqb2luIGEgcm9vbS4gR2FtZXMgY2FuIHVzZSB0aGUgcm9vbSB0byBzeW5jIHN0YXRlIHdpdGggb3RoZXIgcGxheWVycy5cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5Kb2luIC8gQ3JlYXRlIFJvb208L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Um9vbSBJZDwvZGl2PlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtyb29tSWR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Um9vbUlkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJyb29tLWlkXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogMTAsIGJvcmRlclJhZGl1czogMTAsIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEpXCIsIGJhY2tncm91bmQ6IFwiIzBlMTMyMlwiLCBjb2xvcjogXCIjZThlZWZjXCIgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPk5pY2tuYW1lPC9kaXY+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e25pY2tuYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5pY2tuYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJwbGF5ZXIgbmFtZVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmc6IDEwLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXI6IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKVwiLCBiYWNrZ3JvdW5kOiBcIiMwZTEzMjJcIiwgY29sb3I6IFwiI2U4ZWVmY1wiIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCIgc3R5bGU9e3sgbWFyZ2luVG9wOiA4IH19PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGNvbm5lY3RSb29tKHJvb21JZCl9PkpvaW48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXsoKSA9PiB0b2dnbGVSZWFkeSh0cnVlKX0+UmVhZHk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXsoKSA9PiB0b2dnbGVSZWFkeShmYWxzZSl9PlVucmVhZHk8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+QWN0aXZlIFJvb21zPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPkNsaWNrIHRvIGpvaW48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJncmlkXCIsIGdhcDogOCB9fT5cbiAgICAgICAgICAgICAge3Jvb21zLmxlbmd0aCA9PT0gMCAmJiA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPk5vIHJvb21zIHlldC48L2Rpdj59XG4gICAgICAgICAgICAgIHtyb29tcy5tYXAoKHJvb20pID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3Jvb20ucm9vbV9pZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFJvb21JZChyb29tLnJvb21faWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0Um9vbShyb29tLnJvb21faWQpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7cm9vbS5yb29tX2lkfSAoe3Jvb20uY291bnR9KVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnlcIiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEwIH19IG9uQ2xpY2s9e3JlZnJlc2hSb29tc30+XG4gICAgICAgICAgICAgIFJlZnJlc2hcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+UGxheWVyczwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj5cbiAgICAgICAgICAgICAge3Jvb21QbGF5ZXJzLmxlbmd0aCA9PT0gMCA/IFwiTm8gb25lIGNvbm5lY3RlZC5cIiA6IFwiUm9vbSByb3N0ZXJcIn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImdyaWRcIiwgZ2FwOiA2IH19PlxuICAgICAgICAgICAgICB7cm9vbVBsYXllcnMubWFwKChwKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e3AuaWR9IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPlxuICAgICAgICAgICAgICAgICAge3AubmFtZX0ge3AucmVhZHkgPyBcIuKchVwiIDogXCLij7NcIn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMCwgZGlzcGxheTogXCJncmlkXCIsIGdhcDogNiB9fT5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e2NoYXRJbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENoYXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJjaGF0Li4uXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAxMCwgYm9yZGVyUmFkaXVzOiAxMCwgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSlcIiwgYmFja2dyb3VuZDogXCIjMGUxMzIyXCIsIGNvbG9yOiBcIiNlOGVlZmNcIiB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3NlbmRDaGF0fT5TZW5kPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlJvb20gTG9nPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbWV0YVwiPkxhdGVzdCBldmVudHM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJncmlkXCIsIGdhcDogNiB9fT5cbiAgICAgICAgICAgICAge3Jvb21Mb2cubGVuZ3RoID09PSAwICYmIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1tZXRhXCI+Tm8gYWN0aXZpdHkgeWV0LjwvZGl2Pn1cbiAgICAgICAgICAgICAge3Jvb21Mb2cubWFwKChsaW5lLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJjYXJkLW1ldGFcIj57bGluZX08L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgPC9tYWluPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkxpbmsiLCJwcm9jZXNzIiwiQVBJIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkhvbWUiLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJnZW5lcmF0ZWQiLCJzZXRHZW5lcmF0ZWQiLCJwcm9ncmVzcyIsInNldFByb2dyZXNzIiwic3RyZWFtaW5nIiwic2V0U3RyZWFtaW5nIiwibGFzdENvZGUiLCJzZXRMYXN0Q29kZSIsInByZXZpZXdFcnJvcnMiLCJzZXRQcmV2aWV3RXJyb3JzIiwicHJldmlld1dhcm5pbmdzIiwic2V0UHJldmlld1dhcm5pbmdzIiwic2hvd0NvZGUiLCJzZXRTaG93Q29kZSIsImdhbWVzIiwic2V0R2FtZXMiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJpZnJhbWVSZWYiLCJwcmV2aWV3UmVmIiwicHJldmlld0tleSIsInRpdGxlIiwiY29kZSIsImxlbmd0aCIsInJlZnJlc2hHYW1lcyIsInJlcyIsImZldGNoIiwiZGF0YSIsImpzb24iLCJjYXRjaCIsIm9uTWVzc2FnZSIsImV2ZW50IiwidHlwZSIsInByZXYiLCJtZXNzYWdlIiwic2xpY2UiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIndhcm5pbmdzIiwicHVzaCIsInRlc3QiLCJSZWdFeHAiLCJ3aXRoQUlIZWxwZXIiLCJ3c1VybCIsInJlcGxhY2UiLCJoZWxwZXIiLCJpbmNsdWRlcyIsImdlbmVyYXRlR2FtZSIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImFib3J0IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2lnbmFsIiwib2siLCJjbGVhclRpbWVvdXQiLCJFcnJvciIsInRleHQiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJidWZmZXIiLCJkaWRTZXQiLCJkb25lU2VlbiIsInZhbHVlIiwiZG9uZSIsInJlYWQiLCJkZWNvZGUiLCJzdHJlYW0iLCJwYXJ0cyIsInNwbGl0IiwicG9wIiwicGFydCIsImxpbmVzIiwiZXZlbnRMaW5lIiwiZmluZCIsImwiLCJzdGFydHNXaXRoIiwiZGF0YUxpbmVzIiwiZmlsdGVyIiwidHJpbSIsImRhdGFSYXciLCJtYXAiLCJqb2luIiwicGFyc2UiLCJjaHVuayIsImRlc2NyaXB0aW9uIiwiY2FuY2VsIiwicmVzRmFsbGJhY2siLCJlcnIiLCJzYXZlR2FtZSIsIm9wZW5GdWxsc2NyZWVuIiwiY3VycmVudCIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJleGl0RnVsbHNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZm9jdXNQcmV2aWV3IiwiY29udGVudFdpbmRvdyIsImZvY3VzIiwibWFpbiIsInNlY3Rpb24iLCJjbGFzc05hbWUiLCJkaXYiLCJoMSIsInAiLCJ0ZXh0YXJlYSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInN0eWxlIiwiY29sb3IiLCJyZWYiLCJpZnJhbWUiLCJzcmNEb2MiLCJzYW5kYm94IiwicGFkZGluZyIsIm1hcmdpblRvcCIsIndoaXRlU3BhY2UiLCJ3IiwiaSIsImFjdGl2ZVNlY3Rpb24iLCJzZXRBY3RpdmVTZWN0aW9uIiwiZGlzcGxheSIsImgyIiwiZ2FtZSIsImhyZWYiLCJpZCIsInMiLCJyZWFkT25seSIsIm1pbkhlaWdodCIsImlucHV0Iiwicm9vbUlkIiwic2V0Um9vbUlkIiwicGxhY2Vob2xkZXIiLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJiYWNrZ3JvdW5kIiwibmlja25hbWUiLCJzZXROaWNrbmFtZSIsImNvbm5lY3RSb29tIiwidG9nZ2xlUmVhZHkiLCJnYXAiLCJyb29tcyIsInJvb20iLCJyb29tX2lkIiwiY291bnQiLCJyZWZyZXNoUm9vbXMiLCJyb29tUGxheWVycyIsIm5hbWUiLCJyZWFkeSIsImNoYXRJbnB1dCIsInNldENoYXRJbnB1dCIsInNlbmRDaGF0Iiwicm9vbUxvZyIsImxpbmUiLCJpZHgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ })

});